const __vite__fileDeps=["assets/status-tap-CYbEzilX.js","assets/index8-BGygdSk2.js","assets/input-shims-mBbKF1Ln.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
function qU(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var jm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var __={exports:{}},mc={},w_={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gs=Symbol.for("react.element"),fT=Symbol.for("react.portal"),pT=Symbol.for("react.fragment"),mT=Symbol.for("react.strict_mode"),gT=Symbol.for("react.profiler"),vT=Symbol.for("react.provider"),yT=Symbol.for("react.context"),_T=Symbol.for("react.forward_ref"),wT=Symbol.for("react.suspense"),bT=Symbol.for("react.memo"),ET=Symbol.for("react.lazy"),zm=Symbol.iterator;function ST(t){return t===null||typeof t!="object"?null:(t=zm&&t[zm]||t["@@iterator"],typeof t=="function"?t:null)}var b_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E_=Object.assign,S_={};function mo(t,e,n){this.props=t,this.context=e,this.refs=S_,this.updater=n||b_}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function C_(){}C_.prototype=mo.prototype;function gf(t,e,n){this.props=t,this.context=e,this.refs=S_,this.updater=n||b_}var vf=gf.prototype=new C_;vf.constructor=gf;E_(vf,mo.prototype);vf.isPureReactComponent=!0;var Wm=Array.isArray,T_=Object.prototype.hasOwnProperty,yf={current:null},k_={key:!0,ref:!0,__self:!0,__source:!0};function I_(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)T_.call(e,r)&&!k_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gs,type:t,key:o,ref:s,props:i,_owner:yf.current}}function CT(t,e){return{$$typeof:Gs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _f(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gs}function TT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vm=/\/+/g;function Su(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TT(""+t.key):e.toString(36)}function Va(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Gs:case fT:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Su(s,0):r,Wm(i)?(n="",t!=null&&(n=t.replace(Vm,"$&/")+"/"),Va(i,e,n,"",function(c){return c})):i!=null&&(_f(i)&&(i=CT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Vm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Wm(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Su(o,a);s+=Va(o,e,n,l,i)}else if(l=ST(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Su(o,a++),s+=Va(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ga(t,e,n){if(t==null)return t;var r=[],i=0;return Va(t,r,"","",function(o){return e.call(n,o,i++)}),r}function kT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dt={current:null},Ga={transition:null},IT={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:Ga,ReactCurrentOwner:yf};function x_(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:ga,forEach:function(t,e,n){ga(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ga(t,function(){e++}),e},toArray:function(t){return ga(t,function(e){return e})||[]},only:function(t){if(!_f(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=mo;oe.Fragment=pT;oe.Profiler=gT;oe.PureComponent=gf;oe.StrictMode=mT;oe.Suspense=wT;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IT;oe.act=x_;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=E_({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=yf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)T_.call(e,l)&&!k_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Gs,type:t.type,key:i,ref:o,props:r,_owner:s}};oe.createContext=function(t){return t={$$typeof:yT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vT,_context:t},t.Consumer=t};oe.createElement=I_;oe.createFactory=function(t){var e=I_.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:_T,render:t}};oe.isValidElement=_f;oe.lazy=function(t){return{$$typeof:ET,_payload:{_status:-1,_result:t},_init:kT}};oe.memo=function(t,e){return{$$typeof:bT,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=Ga.transition;Ga.transition={};try{t()}finally{Ga.transition=e}};oe.unstable_act=x_;oe.useCallback=function(t,e){return dt.current.useCallback(t,e)};oe.useContext=function(t){return dt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return dt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return dt.current.useEffect(t,e)};oe.useId=function(){return dt.current.useId()};oe.useImperativeHandle=function(t,e,n){return dt.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return dt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return dt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return dt.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return dt.current.useReducer(t,e,n)};oe.useRef=function(t){return dt.current.useRef(t)};oe.useState=function(t){return dt.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return dt.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return dt.current.useTransition()};oe.version="18.3.1";w_.exports=oe;var H=w_.exports;const R=Vs(H);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT=H,PT=Symbol.for("react.element"),RT=Symbol.for("react.fragment"),OT=Object.prototype.hasOwnProperty,AT=xT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NT={key:!0,ref:!0,__self:!0,__source:!0};function P_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)OT.call(e,r)&&!NT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:PT,type:t,key:o,ref:s,props:i,_owner:AT.current}}mc.Fragment=RT;mc.jsx=P_;mc.jsxs=P_;__.exports=mc;var F=__.exports,R_={exports:{}},Rt={},O_={exports:{}},A_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,N){var O=D.length;D.push(N);e:for(;0<O;){var W=O-1>>>1,B=D[W];if(0<i(B,N))D[W]=N,D[O]=B,O=W;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var N=D[0],O=D.pop();if(O!==N){D[0]=O;e:for(var W=0,B=D.length,le=B>>>1;W<le;){var _=2*(W+1)-1,E=D[_],x=_+1,M=D[x];if(0>i(E,O))x<B&&0>i(M,E)?(D[W]=M,D[x]=O,W=x):(D[W]=E,D[_]=O,W=_);else if(x<B&&0>i(M,O))D[W]=M,D[x]=O,W=x;else break e}}return N}function i(D,N){var O=D.sortIndex-N.sortIndex;return O!==0?O:D.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var N=n(c);N!==null;){if(N.callback===null)r(c);else if(N.startTime<=D)r(c),N.sortIndex=N.expirationTime,e(l,N);else break;N=n(c)}}function w(D){if(v=!1,y(D),!m)if(n(l)!==null)m=!0,re(k);else{var N=n(c);N!==null&&Le(w,N.startTime-D)}}function k(D,N){m=!1,v&&(v=!1,g(P),P=-1),f=!0;var O=h;try{for(y(N),d=n(l);d!==null&&(!(d.expirationTime>N)||D&&!G());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var B=W(d.expirationTime<=N);N=t.unstable_now(),typeof B=="function"?d.callback=B:d===n(l)&&r(l),y(N)}else r(l);d=n(l)}if(d!==null)var le=!0;else{var _=n(c);_!==null&&Le(w,_.startTime-N),le=!1}return le}finally{d=null,h=O,f=!1}}var S=!1,I=null,P=-1,T=5,A=-1;function G(){return!(t.unstable_now()-A<T)}function V(){if(I!==null){var D=t.unstable_now();A=D;var N=!0;try{N=I(!0,D)}finally{N?te():(S=!1,I=null)}}else S=!1}var te;if(typeof p=="function")te=function(){p(V)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ne=se.port2;se.port1.onmessage=V,te=function(){ne.postMessage(null)}}else te=function(){b(V,0)};function re(D){I=D,S||(S=!0,te())}function Le(D,N){P=b(function(){D(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,re(k))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var O=h;h=N;try{return D()}finally{h=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,N){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var O=h;h=D;try{return N()}finally{h=O}},t.unstable_scheduleCallback=function(D,N,O){var W=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?W+O:W):O=W,D){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=O+B,D={id:u++,callback:N,priorityLevel:D,startTime:O,expirationTime:B,sortIndex:-1},O>W?(D.sortIndex=O,e(c,D),n(l)===null&&D===n(c)&&(v?(g(P),P=-1):v=!0,Le(w,O-W))):(D.sortIndex=B,e(l,D),m||f||(m=!0,re(k))),D},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(D){var N=h;return function(){var O=h;h=N;try{return D.apply(this,arguments)}finally{h=O}}}})(A_);O_.exports=A_;var LT=O_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT=H,Pt=LT;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N_=new Set,ds={};function pi(t,e){Zi(t,e),Zi(t+"Capture",e)}function Zi(t,e){for(ds[t]=e,t=0;t<e.length;t++)N_.add(e[t])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Od=Object.prototype.hasOwnProperty,$T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gm={},Ym={};function MT(t){return Od.call(Ym,t)?!0:Od.call(Gm,t)?!1:$T.test(t)?Ym[t]=!0:(Gm[t]=!0,!1)}function FT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UT(t,e,n,r){if(e===null||typeof e>"u"||FT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ht(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var wf=/[\-:]([a-z])/g;function bf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wf,bf);et[e]=new ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wf,bf);et[e]=new ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wf,bf);et[e]=new ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new ht(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ef(t,e,n,r){var i=et.hasOwnProperty(e)?et[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UT(e,n,i,r)&&(n=null),r||i===null?MT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hn=DT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),ki=Symbol.for("react.portal"),Ii=Symbol.for("react.fragment"),Sf=Symbol.for("react.strict_mode"),Ad=Symbol.for("react.profiler"),L_=Symbol.for("react.provider"),D_=Symbol.for("react.context"),Cf=Symbol.for("react.forward_ref"),Nd=Symbol.for("react.suspense"),Ld=Symbol.for("react.suspense_list"),Tf=Symbol.for("react.memo"),qn=Symbol.for("react.lazy"),$_=Symbol.for("react.offscreen"),qm=Symbol.iterator;function Po(t){return t===null||typeof t!="object"?null:(t=qm&&t[qm]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,Cu;function zo(t){if(Cu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cu=e&&e[1]||""}return"\n"+Cu+t}var Tu=!1;function ku(t,e){if(!t||Tu)return"";Tu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Tu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zo(t):""}function BT(t){switch(t.tag){case 5:return zo(t.type);case 16:return zo("Lazy");case 13:return zo("Suspense");case 19:return zo("SuspenseList");case 0:case 2:case 15:return t=ku(t.type,!1),t;case 11:return t=ku(t.type.render,!1),t;case 1:return t=ku(t.type,!0),t;default:return""}}function Dd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ii:return"Fragment";case ki:return"Portal";case Ad:return"Profiler";case Sf:return"StrictMode";case Nd:return"Suspense";case Ld:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D_:return(t.displayName||"Context")+".Consumer";case L_:return(t._context.displayName||"Context")+".Provider";case Cf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tf:return e=t.displayName||null,e!==null?e:Dd(t.type)||"Memo";case qn:e=t._payload,t=t._init;try{return Dd(t(e))}catch(n){}}return null}function HT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dd(e);case 8:return e===Sf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function M_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jT(t){var e=M_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ya(t){t._valueTracker||(t._valueTracker=jT(t))}function F_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=M_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function $d(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function Km(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=br(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function U_(t,e){e=e.checked,e!=null&&Ef(t,"checked",e,!1)}function Md(t,e){U_(t,e);var n=br(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fd(t,e.type,br(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fd(t,e,n){(e!=="number"||cl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wo=Array.isArray;function Hi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+br(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ud(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(Wo(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:br(n)}}function B_(t,e){var n=br(e.value),r=br(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function H_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?H_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _a,j_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_a=_a||document.createElement("div"),_a.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_a.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zT=["Webkit","ms","Moz","O"];Object.keys(qo).forEach(function(t){zT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qo[e]=qo[t]})});function z_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qo.hasOwnProperty(t)&&qo[t]?(""+e).trim():e+"px"}function W_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=z_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var WT=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hd(t,e){if(e){if(WT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function jd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zd=null;function kf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wd=null,ji=null,zi=null;function Zm(t){if(t=Ks(t)){if(typeof Wd!="function")throw Error(L(280));var e=t.stateNode;e&&(e=wc(e),Wd(t.stateNode,t.type,e))}}function V_(t){ji?zi?zi.push(t):zi=[t]:ji=t}function G_(){if(ji){var t=ji,e=zi;if(zi=ji=null,Zm(t),e)for(t=0;t<e.length;t++)Zm(e[t])}}function Y_(t,e){return t(e)}function q_(){}var Iu=!1;function K_(t,e,n){if(Iu)return t(e,n);Iu=!0;try{return Y_(t,e,n)}finally{Iu=!1,(ji!==null||zi!==null)&&(q_(),G_())}}function fs(t,e){var n=t.stateNode;if(n===null)return null;var r=wc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var Vd=!1;if(Nn)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){Vd=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch(t){Vd=!1}function VT(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ko=!1,ul=null,dl=!1,Gd=null,GT={onError:function(t){Ko=!0,ul=t}};function YT(t,e,n,r,i,o,s,a,l){Ko=!1,ul=null,VT.apply(GT,arguments)}function qT(t,e,n,r,i,o,s,a,l){if(YT.apply(this,arguments),Ko){if(Ko){var c=ul;Ko=!1,ul=null}else throw Error(L(198));dl||(dl=!0,Gd=c)}}function mi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function X_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eg(t){if(mi(t)!==t)throw Error(L(188))}function KT(t){var e=t.alternate;if(!e){if(e=mi(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return eg(i),t;if(o===r)return eg(i),e;o=o.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function Q_(t){return t=KT(t),t!==null?J_(t):null}function J_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=J_(t);if(e!==null)return e;t=t.sibling}return null}var Z_=Pt.unstable_scheduleCallback,tg=Pt.unstable_cancelCallback,XT=Pt.unstable_shouldYield,QT=Pt.unstable_requestPaint,Ne=Pt.unstable_now,JT=Pt.unstable_getCurrentPriorityLevel,If=Pt.unstable_ImmediatePriority,e0=Pt.unstable_UserBlockingPriority,hl=Pt.unstable_NormalPriority,ZT=Pt.unstable_LowPriority,t0=Pt.unstable_IdlePriority,gc=null,dn=null;function e1(t){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(gc,t,void 0,(t.current.flags&128)===128)}catch(e){}}var Zt=Math.clz32?Math.clz32:r1,t1=Math.log,n1=Math.LN2;function r1(t){return t>>>=0,t===0?32:31-(t1(t)/n1|0)|0}var wa=64,ba=4194304;function Vo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Vo(a):(o&=s,o!==0&&(r=Vo(o)))}else s=n&~i,s!==0?r=Vo(s):o!==0&&(r=Vo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zt(e),i=1<<n,r|=t[n],e&=~i;return r}function i1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Zt(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=i1(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Yd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n0(){var t=wa;return wa<<=1,!(wa&4194240)&&(wa=64),t}function xu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ys(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zt(e),t[e]=n}function s1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function xf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pe=0;function r0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var i0,Pf,o0,s0,a0,qd=!1,Ea=[],sr=null,ar=null,lr=null,ps=new Map,ms=new Map,Xn=[],a1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ng(t,e){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":ps.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(e.pointerId)}}function Oo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ks(e),e!==null&&Pf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function l1(t,e,n,r,i){switch(e){case"focusin":return sr=Oo(sr,t,e,n,r,i),!0;case"dragenter":return ar=Oo(ar,t,e,n,r,i),!0;case"mouseover":return lr=Oo(lr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ps.set(o,Oo(ps.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ms.set(o,Oo(ms.get(o)||null,t,e,n,r,i)),!0}return!1}function l0(t){var e=Wr(t.target);if(e!==null){var n=mi(e);if(n!==null){if(e=n.tag,e===13){if(e=X_(n),e!==null){t.blockedOn=e,a0(t.priority,function(){o0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ya(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zd=r,n.target.dispatchEvent(r),zd=null}else return e=Ks(n),e!==null&&Pf(e),t.blockedOn=n,!1;e.shift()}return!0}function rg(t,e,n){Ya(t)&&n.delete(e)}function c1(){qd=!1,sr!==null&&Ya(sr)&&(sr=null),ar!==null&&Ya(ar)&&(ar=null),lr!==null&&Ya(lr)&&(lr=null),ps.forEach(rg),ms.forEach(rg)}function Ao(t,e){t.blockedOn===e&&(t.blockedOn=null,qd||(qd=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,c1)))}function gs(t){function e(i){return Ao(i,t)}if(0<Ea.length){Ao(Ea[0],t);for(var n=1;n<Ea.length;n++){var r=Ea[n];r.blockedOn===t&&(r.blockedOn=null)}}for(sr!==null&&Ao(sr,t),ar!==null&&Ao(ar,t),lr!==null&&Ao(lr,t),ps.forEach(e),ms.forEach(e),n=0;n<Xn.length;n++)r=Xn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xn.length&&(n=Xn[0],n.blockedOn===null);)l0(n),n.blockedOn===null&&Xn.shift()}var Wi=Hn.ReactCurrentBatchConfig,pl=!0;function u1(t,e,n,r){var i=pe,o=Wi.transition;Wi.transition=null;try{pe=1,Rf(t,e,n,r)}finally{pe=i,Wi.transition=o}}function d1(t,e,n,r){var i=pe,o=Wi.transition;Wi.transition=null;try{pe=4,Rf(t,e,n,r)}finally{pe=i,Wi.transition=o}}function Rf(t,e,n,r){if(pl){var i=Kd(t,e,n,r);if(i===null)Fu(t,e,r,ml,n),ng(t,r);else if(l1(i,t,e,n,r))r.stopPropagation();else if(ng(t,r),e&4&&-1<a1.indexOf(t)){for(;i!==null;){var o=Ks(i);if(o!==null&&i0(o),o=Kd(t,e,n,r),o===null&&Fu(t,e,r,ml,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Fu(t,e,r,null,n)}}var ml=null;function Kd(t,e,n,r){if(ml=null,t=kf(r),t=Wr(t),t!==null)if(e=mi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=X_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ml=t,null}function c0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JT()){case If:return 1;case e0:return 4;case hl:case ZT:return 16;case t0:return 536870912;default:return 16}default:return 16}}var nr=null,Of=null,qa=null;function u0(){if(qa)return qa;var t,e=Of,n=e.length,r,i="value"in nr?nr.value:nr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return qa=i.slice(t,1<r?1-r:void 0)}function Ka(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sa(){return!0}function ig(){return!1}function Ot(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sa:ig,this.isPropagationStopped=ig,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sa)},persist:function(){},isPersistent:Sa}),e}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Af=Ot(go),qs=xe({},go,{view:0,detail:0}),h1=Ot(qs),Pu,Ru,No,vc=xe({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==No&&(No&&t.type==="mousemove"?(Pu=t.screenX-No.screenX,Ru=t.screenY-No.screenY):Ru=Pu=0,No=t),Pu)},movementY:function(t){return"movementY"in t?t.movementY:Ru}}),og=Ot(vc),f1=xe({},vc,{dataTransfer:0}),p1=Ot(f1),m1=xe({},qs,{relatedTarget:0}),Ou=Ot(m1),g1=xe({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),v1=Ot(g1),y1=xe({},go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_1=Ot(y1),w1=xe({},go,{data:0}),sg=Ot(w1),b1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=S1[t])?!!e[t]:!1}function Nf(){return C1}var T1=xe({},qs,{key:function(t){if(t.key){var e=b1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ka(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?E1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nf,charCode:function(t){return t.type==="keypress"?Ka(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ka(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k1=Ot(T1),I1=xe({},vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ag=Ot(I1),x1=xe({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nf}),P1=Ot(x1),R1=xe({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),O1=Ot(R1),A1=xe({},vc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),N1=Ot(A1),L1=[9,13,27,32],Lf=Nn&&"CompositionEvent"in window,Xo=null;Nn&&"documentMode"in document&&(Xo=document.documentMode);var D1=Nn&&"TextEvent"in window&&!Xo,d0=Nn&&(!Lf||Xo&&8<Xo&&11>=Xo),lg=" ",cg=!1;function h0(t,e){switch(t){case"keyup":return L1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xi=!1;function $1(t,e){switch(t){case"compositionend":return f0(e);case"keypress":return e.which!==32?null:(cg=!0,lg);case"textInput":return t=e.data,t===lg&&cg?null:t;default:return null}}function M1(t,e){if(xi)return t==="compositionend"||!Lf&&h0(t,e)?(t=u0(),qa=Of=nr=null,xi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return d0&&e.locale!=="ko"?null:e.data;default:return null}}var F1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!F1[t.type]:e==="textarea"}function p0(t,e,n,r){V_(r),e=gl(e,"onChange"),0<e.length&&(n=new Af("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qo=null,vs=null;function U1(t){T0(t,0)}function yc(t){var e=Oi(t);if(F_(e))return t}function B1(t,e){if(t==="change")return e}var m0=!1;if(Nn){var Au;if(Nn){var Nu="oninput"in document;if(!Nu){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),Nu=typeof dg.oninput=="function"}Au=Nu}else Au=!1;m0=Au&&(!document.documentMode||9<document.documentMode)}function hg(){Qo&&(Qo.detachEvent("onpropertychange",g0),vs=Qo=null)}function g0(t){if(t.propertyName==="value"&&yc(vs)){var e=[];p0(e,vs,t,kf(t)),K_(U1,e)}}function H1(t,e,n){t==="focusin"?(hg(),Qo=e,vs=n,Qo.attachEvent("onpropertychange",g0)):t==="focusout"&&hg()}function j1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yc(vs)}function z1(t,e){if(t==="click")return yc(e)}function W1(t,e){if(t==="input"||t==="change")return yc(e)}function V1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rn=typeof Object.is=="function"?Object.is:V1;function ys(t,e){if(rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Od.call(e,i)||!rn(t[i],e[i]))return!1}return!0}function fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,e){var n=fg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fg(n)}}function v0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?v0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function y0(){for(var t=window,e=cl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(r){n=!1}if(n)t=e.contentWindow;else break;e=cl(t.document)}return e}function Df(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function G1(t){var e=y0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&v0(n.ownerDocument.documentElement,n)){if(r!==null&&Df(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=pg(n,o);var s=pg(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y1=Nn&&"documentMode"in document&&11>=document.documentMode,Pi=null,Xd=null,Jo=null,Qd=!1;function mg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qd||Pi==null||Pi!==cl(r)||(r=Pi,"selectionStart"in r&&Df(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jo&&ys(Jo,r)||(Jo=r,r=gl(Xd,"onSelect"),0<r.length&&(e=new Af("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Pi)))}function Ca(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ri={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionend:Ca("Transition","TransitionEnd")},Lu={},_0={};Nn&&(_0=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function _c(t){if(Lu[t])return Lu[t];if(!Ri[t])return t;var e=Ri[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _0)return Lu[t]=e[n];return t}var w0=_c("animationend"),b0=_c("animationiteration"),E0=_c("animationstart"),S0=_c("transitionend"),C0=new Map,gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(t,e){C0.set(t,e),pi(e,[t])}for(var Du=0;Du<gg.length;Du++){var $u=gg[Du],q1=$u.toLowerCase(),K1=$u[0].toUpperCase()+$u.slice(1);xr(q1,"on"+K1)}xr(w0,"onAnimationEnd");xr(b0,"onAnimationIteration");xr(E0,"onAnimationStart");xr("dblclick","onDoubleClick");xr("focusin","onFocus");xr("focusout","onBlur");xr(S0,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Go));function vg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qT(r,e,void 0,t),t.currentTarget=null}function T0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;vg(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;vg(i,a,c),o=l}}}if(dl)throw t=Gd,dl=!1,Gd=null,t}function be(t,e){var n=e[nh];n===void 0&&(n=e[nh]=new Set);var r=t+"__bubble";n.has(r)||(k0(e,t,2,!1),n.add(r))}function Mu(t,e,n){var r=0;e&&(r|=4),k0(n,t,r,e)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function _s(t){if(!t[Ta]){t[Ta]=!0,N_.forEach(function(n){n!=="selectionchange"&&(X1.has(n)||Mu(n,!1,t),Mu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ta]||(e[Ta]=!0,Mu("selectionchange",!1,e))}}function k0(t,e,n,r){switch(c0(e)){case 1:var i=u1;break;case 4:i=d1;break;default:i=Rf}n=i.bind(null,e,n,t),i=void 0,!Vd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Fu(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Wr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}K_(function(){var c=o,u=kf(n),d=[];e:{var h=C0.get(t);if(h!==void 0){var f=Af,m=t;switch(t){case"keypress":if(Ka(n)===0)break e;case"keydown":case"keyup":f=k1;break;case"focusin":m="focus",f=Ou;break;case"focusout":m="blur",f=Ou;break;case"beforeblur":case"afterblur":f=Ou;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=p1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=P1;break;case w0:case b0:case E0:f=v1;break;case S0:f=O1;break;case"scroll":f=h1;break;case"wheel":f=N1;break;case"copy":case"cut":case"paste":f=_1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=ag}var v=(e&4)!==0,b=!v&&t==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var p=c,y;p!==null;){y=p;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,g!==null&&(w=fs(p,g),w!=null&&v.push(ws(p,w,y)))),b)break;p=p.return}0<v.length&&(h=new f(h,m,null,n,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==zd&&(m=n.relatedTarget||n.fromElement)&&(Wr(m)||m[Ln]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?Wr(m):null,m!==null&&(b=mi(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(v=og,w="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=ag,w="onPointerLeave",g="onPointerEnter",p="pointer"),b=f==null?h:Oi(f),y=m==null?h:Oi(m),h=new v(w,p+"leave",f,n,u),h.target=b,h.relatedTarget=y,w=null,Wr(u)===c&&(v=new v(g,p+"enter",m,n,u),v.target=y,v.relatedTarget=b,w=v),b=w,f&&m)t:{for(v=f,g=m,p=0,y=v;y;y=bi(y))p++;for(y=0,w=g;w;w=bi(w))y++;for(;0<p-y;)v=bi(v),p--;for(;0<y-p;)g=bi(g),y--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=bi(v),g=bi(g)}v=null}else v=null;f!==null&&yg(d,h,f,v,!1),m!==null&&b!==null&&yg(d,b,m,v,!0)}}e:{if(h=c?Oi(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var k=B1;else if(ug(h))if(m0)k=W1;else{k=j1;var S=H1}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=z1);if(k&&(k=k(t,c))){p0(d,k,n,u);break e}S&&S(t,h,c),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Fd(h,"number",h.value)}switch(S=c?Oi(c):window,t){case"focusin":(ug(S)||S.contentEditable==="true")&&(Pi=S,Xd=c,Jo=null);break;case"focusout":Jo=Xd=Pi=null;break;case"mousedown":Qd=!0;break;case"contextmenu":case"mouseup":case"dragend":Qd=!1,mg(d,n,u);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":mg(d,n,u)}var I;if(Lf)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else xi?h0(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(d0&&n.locale!=="ko"&&(xi||P!=="onCompositionStart"?P==="onCompositionEnd"&&xi&&(I=u0()):(nr=u,Of="value"in nr?nr.value:nr.textContent,xi=!0)),S=gl(c,P),0<S.length&&(P=new sg(P,t,null,n,u),d.push({event:P,listeners:S}),I?P.data=I:(I=f0(n),I!==null&&(P.data=I)))),(I=D1?$1(t,n):M1(t,n))&&(c=gl(c,"onBeforeInput"),0<c.length&&(u=new sg("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=I))}T0(d,e)})}function ws(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=fs(t,n),o!=null&&r.unshift(ws(t,o,i)),o=fs(t,e),o!=null&&r.push(ws(t,o,i))),t=t.return}return r}function bi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yg(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=fs(n,o),l!=null&&s.unshift(ws(n,l,a))):i||(l=fs(n,o),l!=null&&s.push(ws(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Q1=/\r\n?/g,J1=/\u0000|\uFFFD/g;function _g(t){return(typeof t=="string"?t:""+t).replace(Q1,"\n").replace(J1,"")}function ka(t,e,n){if(e=_g(e),_g(t)!==e&&n)throw Error(L(425))}function vl(){}var Jd=null,Zd=null;function eh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var th=typeof setTimeout=="function"?setTimeout:void 0,Z1=typeof clearTimeout=="function"?clearTimeout:void 0,wg=typeof Promise=="function"?Promise:void 0,ek=typeof queueMicrotask=="function"?queueMicrotask:typeof wg<"u"?function(t){return wg.resolve(null).then(t).catch(tk)}:th;function tk(t){setTimeout(function(){throw t})}function Uu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),gs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gs(e)}function cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vo=Math.random().toString(36).slice(2),un="__reactFiber$"+vo,bs="__reactProps$"+vo,Ln="__reactContainer$"+vo,nh="__reactEvents$"+vo,nk="__reactListeners$"+vo,rk="__reactHandles$"+vo;function Wr(t){var e=t[un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ln]||n[un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bg(t);t!==null;){if(n=t[un])return n;t=bg(t)}return e}t=n,n=t.parentNode}return null}function Ks(t){return t=t[un]||t[Ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function wc(t){return t[bs]||null}var rh=[],Ai=-1;function Pr(t){return{current:t}}function Se(t){0>Ai||(t.current=rh[Ai],rh[Ai]=null,Ai--)}function we(t,e){Ai++,rh[Ai]=t.current,t.current=e}var Er={},ot=Pr(Er),yt=Pr(!1),ei=Er;function eo(t,e){var n=t.type.contextTypes;if(!n)return Er;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _t(t){return t=t.childContextTypes,t!=null}function yl(){Se(yt),Se(ot)}function Eg(t,e,n){if(ot.current!==Er)throw Error(L(168));we(ot,e),we(yt,n)}function I0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(L(108,HT(t)||"Unknown",i));return xe({},n,r)}function _l(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Er,ei=ot.current,we(ot,t),we(yt,yt.current),!0}function Sg(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=I0(t,e,ei),r.__reactInternalMemoizedMergedChildContext=t,Se(yt),Se(ot),we(ot,t)):Se(yt),we(yt,n)}var bn=null,bc=!1,Bu=!1;function x0(t){bn===null?bn=[t]:bn.push(t)}function ik(t){bc=!0,x0(t)}function Rr(){if(!Bu&&bn!==null){Bu=!0;var t=0,e=pe;try{var n=bn;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bn=null,bc=!1}catch(i){throw bn!==null&&(bn=bn.slice(t+1)),Z_(If,Rr),i}finally{pe=e,Bu=!1}}return null}var Ni=[],Li=0,wl=null,bl=0,Ut=[],Bt=0,ti=null,Cn=1,Tn="";function Ur(t,e){Ni[Li++]=bl,Ni[Li++]=wl,wl=t,bl=e}function P0(t,e,n){Ut[Bt++]=Cn,Ut[Bt++]=Tn,Ut[Bt++]=ti,ti=t;var r=Cn;t=Tn;var i=32-Zt(r)-1;r&=~(1<<i),n+=1;var o=32-Zt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Cn=1<<32-Zt(e)+i|n<<i|r,Tn=o+t}else Cn=1<<o|n<<i|r,Tn=t}function $f(t){t.return!==null&&(Ur(t,1),P0(t,1,0))}function Mf(t){for(;t===wl;)wl=Ni[--Li],Ni[Li]=null,bl=Ni[--Li],Ni[Li]=null;for(;t===ti;)ti=Ut[--Bt],Ut[Bt]=null,Tn=Ut[--Bt],Ut[Bt]=null,Cn=Ut[--Bt],Ut[Bt]=null}var xt=null,It=null,Ce=!1,Kt=null;function R0(t,e){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Cg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xt=t,It=cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xt=t,It=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ti!==null?{id:Cn,overflow:Tn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xt=t,It=null,!0):!1;default:return!1}}function ih(t){return(t.mode&1)!==0&&(t.flags&128)===0}function oh(t){if(Ce){var e=It;if(e){var n=e;if(!Cg(t,e)){if(ih(t))throw Error(L(418));e=cr(n.nextSibling);var r=xt;e&&Cg(t,e)?R0(r,n):(t.flags=t.flags&-4097|2,Ce=!1,xt=t)}}else{if(ih(t))throw Error(L(418));t.flags=t.flags&-4097|2,Ce=!1,xt=t}}}function Tg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function Ia(t){if(t!==xt)return!1;if(!Ce)return Tg(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!eh(t.type,t.memoizedProps)),e&&(e=It)){if(ih(t))throw O0(),Error(L(418));for(;e;)R0(t,e),e=cr(e.nextSibling)}if(Tg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){It=cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}It=null}}else It=xt?cr(t.stateNode.nextSibling):null;return!0}function O0(){for(var t=It;t;)t=cr(t.nextSibling)}function to(){It=xt=null,Ce=!1}function Ff(t){Kt===null?Kt=[t]:Kt.push(t)}var ok=Hn.ReactCurrentBatchConfig;function Lo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function xa(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kg(t){var e=t._init;return e(t._payload)}function A0(t){function e(g,p){if(t){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=fr(g,p),g.index=0,g.sibling=null,g}function o(g,p,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,y,w){return p===null||p.tag!==6?(p=Yu(y,g.mode,w),p.return=g,p):(p=i(p,y),p.return=g,p)}function l(g,p,y,w){var k=y.type;return k===Ii?u(g,p,y.props.children,w,y.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===qn&&kg(k)===p.type)?(w=i(p,y.props),w.ref=Lo(g,p,y),w.return=g,w):(w=nl(y.type,y.key,y.props,null,g.mode,w),w.ref=Lo(g,p,y),w.return=g,w)}function c(g,p,y,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=qu(y,g.mode,w),p.return=g,p):(p=i(p,y.children||[]),p.return=g,p)}function u(g,p,y,w,k){return p===null||p.tag!==7?(p=Zr(y,g.mode,w,k),p.return=g,p):(p=i(p,y),p.return=g,p)}function d(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Yu(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case va:return y=nl(p.type,p.key,p.props,null,g.mode,y),y.ref=Lo(g,null,p),y.return=g,y;case ki:return p=qu(p,g.mode,y),p.return=g,p;case qn:var w=p._init;return d(g,w(p._payload),y)}if(Wo(p)||Po(p))return p=Zr(p,g.mode,y,null),p.return=g,p;xa(g,p)}return null}function h(g,p,y,w){var k=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(g,p,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case va:return y.key===k?l(g,p,y,w):null;case ki:return y.key===k?c(g,p,y,w):null;case qn:return k=y._init,h(g,p,k(y._payload),w)}if(Wo(y)||Po(y))return k!==null?null:u(g,p,y,w,null);xa(g,y)}return null}function f(g,p,y,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(y)||null,a(p,g,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case va:return g=g.get(w.key===null?y:w.key)||null,l(p,g,w,k);case ki:return g=g.get(w.key===null?y:w.key)||null,c(p,g,w,k);case qn:var S=w._init;return f(g,p,y,S(w._payload),k)}if(Wo(w)||Po(w))return g=g.get(y)||null,u(p,g,w,k,null);xa(p,w)}return null}function m(g,p,y,w){for(var k=null,S=null,I=p,P=p=0,T=null;I!==null&&P<y.length;P++){I.index>P?(T=I,I=null):T=I.sibling;var A=h(g,I,y[P],w);if(A===null){I===null&&(I=T);break}t&&I&&A.alternate===null&&e(g,I),p=o(A,p,P),S===null?k=A:S.sibling=A,S=A,I=T}if(P===y.length)return n(g,I),Ce&&Ur(g,P),k;if(I===null){for(;P<y.length;P++)I=d(g,y[P],w),I!==null&&(p=o(I,p,P),S===null?k=I:S.sibling=I,S=I);return Ce&&Ur(g,P),k}for(I=r(g,I);P<y.length;P++)T=f(I,g,P,y[P],w),T!==null&&(t&&T.alternate!==null&&I.delete(T.key===null?P:T.key),p=o(T,p,P),S===null?k=T:S.sibling=T,S=T);return t&&I.forEach(function(G){return e(g,G)}),Ce&&Ur(g,P),k}function v(g,p,y,w){var k=Po(y);if(typeof k!="function")throw Error(L(150));if(y=k.call(y),y==null)throw Error(L(151));for(var S=k=null,I=p,P=p=0,T=null,A=y.next();I!==null&&!A.done;P++,A=y.next()){I.index>P?(T=I,I=null):T=I.sibling;var G=h(g,I,A.value,w);if(G===null){I===null&&(I=T);break}t&&I&&G.alternate===null&&e(g,I),p=o(G,p,P),S===null?k=G:S.sibling=G,S=G,I=T}if(A.done)return n(g,I),Ce&&Ur(g,P),k;if(I===null){for(;!A.done;P++,A=y.next())A=d(g,A.value,w),A!==null&&(p=o(A,p,P),S===null?k=A:S.sibling=A,S=A);return Ce&&Ur(g,P),k}for(I=r(g,I);!A.done;P++,A=y.next())A=f(I,g,P,A.value,w),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?P:A.key),p=o(A,p,P),S===null?k=A:S.sibling=A,S=A);return t&&I.forEach(function(V){return e(g,V)}),Ce&&Ur(g,P),k}function b(g,p,y,w){if(typeof y=="object"&&y!==null&&y.type===Ii&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case va:e:{for(var k=y.key,S=p;S!==null;){if(S.key===k){if(k=y.type,k===Ii){if(S.tag===7){n(g,S.sibling),p=i(S,y.props.children),p.return=g,g=p;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===qn&&kg(k)===S.type){n(g,S.sibling),p=i(S,y.props),p.ref=Lo(g,S,y),p.return=g,g=p;break e}n(g,S);break}else e(g,S);S=S.sibling}y.type===Ii?(p=Zr(y.props.children,g.mode,w,y.key),p.return=g,g=p):(w=nl(y.type,y.key,y.props,null,g.mode,w),w.ref=Lo(g,p,y),w.return=g,g=w)}return s(g);case ki:e:{for(S=y.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),p=i(p,y.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=qu(y,g.mode,w),p.return=g,g=p}return s(g);case qn:return S=y._init,b(g,p,S(y._payload),w)}if(Wo(y))return m(g,p,y,w);if(Po(y))return v(g,p,y,w);xa(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,y),p.return=g,g=p):(n(g,p),p=Yu(y,g.mode,w),p.return=g,g=p),s(g)):n(g,p)}return b}var no=A0(!0),N0=A0(!1),El=Pr(null),Sl=null,Di=null,Uf=null;function Bf(){Uf=Di=Sl=null}function Hf(t){var e=El.current;Se(El),t._currentValue=e}function sh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vi(t,e){Sl=t,Uf=Di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mt=!0),t.firstContext=null)}function Wt(t){var e=t._currentValue;if(Uf!==t)if(t={context:t,memoizedValue:e,next:null},Di===null){if(Sl===null)throw Error(L(308));Di=t,Sl.dependencies={lanes:0,firstContext:t}}else Di=Di.next=t;return e}var Vr=null;function jf(t){Vr===null?Vr=[t]:Vr.push(t)}function L0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,jf(e)):(n.next=i.next,i.next=n),e.interleaved=n,Dn(t,r)}function Dn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kn=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function On(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ur(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Dn(t,n)}return i=r.interleaved,i===null?(e.next=e,jf(r)):(e.next=i.next,i.next=e),r.interleaved=e,Dn(t,n)}function Xa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xf(t,n)}}function Ig(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cl(t,e,n,r){var i=t.updateQueue;Kn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(h=e,f=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=xe({},d,h);break e;case 2:Kn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ri|=s,t.lanes=s,t.memoizedState=d}}function xg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var Xs={},hn=Pr(Xs),Es=Pr(Xs),Ss=Pr(Xs);function Gr(t){if(t===Xs)throw Error(L(174));return t}function Wf(t,e){switch(we(Ss,e),we(Es,t),we(hn,Xs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bd(e,t)}Se(hn),we(hn,e)}function ro(){Se(hn),Se(Es),Se(Ss)}function $0(t){Gr(Ss.current);var e=Gr(hn.current),n=Bd(e,t.type);e!==n&&(we(Es,t),we(hn,n))}function Vf(t){Es.current===t&&(Se(hn),Se(Es))}var ke=Pr(0);function Tl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hu=[];function Gf(){for(var t=0;t<Hu.length;t++)Hu[t]._workInProgressVersionPrimary=null;Hu.length=0}var Qa=Hn.ReactCurrentDispatcher,ju=Hn.ReactCurrentBatchConfig,ni=0,Ie=null,Fe=null,We=null,kl=!1,Zo=!1,Cs=0,sk=0;function tt(){throw Error(L(321))}function Yf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rn(t[n],e[n]))return!1;return!0}function qf(t,e,n,r,i,o){if(ni=o,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qa.current=t===null||t.memoizedState===null?uk:dk,t=n(r,i),Zo){o=0;do{if(Zo=!1,Cs=0,25<=o)throw Error(L(301));o+=1,We=Fe=null,e.updateQueue=null,Qa.current=hk,t=n(r,i)}while(Zo)}if(Qa.current=Il,e=Fe!==null&&Fe.next!==null,ni=0,We=Fe=Ie=null,kl=!1,e)throw Error(L(300));return t}function Kf(){var t=Cs!==0;return Cs=0,t}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ie.memoizedState=We=t:We=We.next=t,We}function Vt(){if(Fe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var e=We===null?Ie.memoizedState:We.next;if(e!==null)We=e,Fe=t;else{if(t===null)throw Error(L(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},We===null?Ie.memoizedState=We=t:We=We.next=t}return We}function Ts(t,e){return typeof e=="function"?e(t):e}function zu(t){var e=Vt(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=Fe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((ni&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Ie.lanes|=u,ri|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,rn(r,e.memoizedState)||(mt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ie.lanes|=o,ri|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wu(t){var e=Vt(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);rn(o,e.memoizedState)||(mt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function M0(){}function F0(t,e){var n=Ie,r=Vt(),i=e(),o=!rn(r.memoizedState,i);if(o&&(r.memoizedState=i,mt=!0),r=r.queue,Xf(H0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,ks(9,B0.bind(null,n,r,i,e),void 0,null),Ye===null)throw Error(L(349));ni&30||U0(n,e,i)}return i}function U0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function B0(t,e,n,r){e.value=n,e.getSnapshot=r,j0(e)&&z0(t)}function H0(t,e,n){return n(function(){j0(e)&&z0(t)})}function j0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rn(t,n)}catch(r){return!0}}function z0(t){var e=Dn(t,1);e!==null&&en(e,t,1,-1)}function Pg(t){var e=ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:t},e.queue=t,t=t.dispatch=ck.bind(null,Ie,t),[e.memoizedState,t]}function ks(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function W0(){return Vt().memoizedState}function Ja(t,e,n,r){var i=ln();Ie.flags|=t,i.memoizedState=ks(1|e,n,void 0,r===void 0?null:r)}function Ec(t,e,n,r){var i=Vt();r=r===void 0?null:r;var o=void 0;if(Fe!==null){var s=Fe.memoizedState;if(o=s.destroy,r!==null&&Yf(r,s.deps)){i.memoizedState=ks(e,n,o,r);return}}Ie.flags|=t,i.memoizedState=ks(1|e,n,o,r)}function Rg(t,e){return Ja(8390656,8,t,e)}function Xf(t,e){return Ec(2048,8,t,e)}function V0(t,e){return Ec(4,2,t,e)}function G0(t,e){return Ec(4,4,t,e)}function Y0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q0(t,e,n){return n=n!=null?n.concat([t]):null,Ec(4,4,Y0.bind(null,e,t),n)}function Qf(){}function K0(t,e){var n=Vt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function X0(t,e){var n=Vt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Q0(t,e,n){return ni&21?(rn(n,e)||(n=n0(),Ie.lanes|=n,ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mt=!0),t.memoizedState=n)}function ak(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=ju.transition;ju.transition={};try{t(!1),e()}finally{pe=n,ju.transition=r}}function J0(){return Vt().memoizedState}function lk(t,e,n){var r=hr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Z0(t))ew(e,n);else if(n=L0(t,e,n,r),n!==null){var i=ct();en(n,t,r,i),tw(n,e,r)}}function ck(t,e,n){var r=hr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Z0(t))ew(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,rn(a,s)){var l=e.interleaved;l===null?(i.next=i,jf(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch(c){}finally{}n=L0(t,e,i,r),n!==null&&(i=ct(),en(n,t,r,i),tw(n,e,r))}}function Z0(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function ew(t,e){Zo=kl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xf(t,n)}}var Il={readContext:Wt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},uk={readContext:Wt,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:Wt,useEffect:Rg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ja(4194308,4,Y0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ja(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ja(4,2,t,e)},useMemo:function(t,e){var n=ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=lk.bind(null,Ie,t),[r.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:Pg,useDebugValue:Qf,useDeferredValue:function(t){return ln().memoizedState=t},useTransition:function(){var t=Pg(!1),e=t[0];return t=ak.bind(null,t[1]),ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ie,i=ln();if(Ce){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),Ye===null)throw Error(L(349));ni&30||U0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Rg(H0.bind(null,r,o,t),[t]),r.flags|=2048,ks(9,B0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ln(),e=Ye.identifierPrefix;if(Ce){var n=Tn,r=Cn;n=(r&~(1<<32-Zt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=sk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dk={readContext:Wt,useCallback:K0,useContext:Wt,useEffect:Xf,useImperativeHandle:q0,useInsertionEffect:V0,useLayoutEffect:G0,useMemo:X0,useReducer:zu,useRef:W0,useState:function(){return zu(Ts)},useDebugValue:Qf,useDeferredValue:function(t){var e=Vt();return Q0(e,Fe.memoizedState,t)},useTransition:function(){var t=zu(Ts)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:M0,useSyncExternalStore:F0,useId:J0,unstable_isNewReconciler:!1},hk={readContext:Wt,useCallback:K0,useContext:Wt,useEffect:Xf,useImperativeHandle:q0,useInsertionEffect:V0,useLayoutEffect:G0,useMemo:X0,useReducer:Wu,useRef:W0,useState:function(){return Wu(Ts)},useDebugValue:Qf,useDeferredValue:function(t){var e=Vt();return Fe===null?e.memoizedState=t:Q0(e,Fe.memoizedState,t)},useTransition:function(){var t=Wu(Ts)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:M0,useSyncExternalStore:F0,useId:J0,unstable_isNewReconciler:!1};function Yt(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ah(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sc={isMounted:function(t){return(t=t._reactInternals)?mi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ct(),i=hr(t),o=On(r,i);o.payload=e,n!=null&&(o.callback=n),e=ur(t,o,i),e!==null&&(en(e,t,i,r),Xa(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ct(),i=hr(t),o=On(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ur(t,o,i),e!==null&&(en(e,t,i,r),Xa(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ct(),r=hr(t),i=On(n,r);i.tag=2,e!=null&&(i.callback=e),e=ur(t,i,r),e!==null&&(en(e,t,r,n),Xa(e,t,r))}};function Og(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ys(n,r)||!ys(i,o):!0}function nw(t,e,n){var r=!1,i=Er,o=e.contextType;return typeof o=="object"&&o!==null?o=Wt(o):(i=_t(e)?ei:ot.current,r=e.contextTypes,o=(r=r!=null)?eo(t,i):Er),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ag(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sc.enqueueReplaceState(e,e.state,null)}function lh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},zf(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Wt(o):(o=_t(e)?ei:ot.current,i.context=eo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ah(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sc.enqueueReplaceState(i,i.state,null),Cl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function io(t,e){try{var n="",r=e;do n+=BT(r),r=r.return;while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function Vu(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function ch(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fk=typeof WeakMap=="function"?WeakMap:Map;function rw(t,e,n){n=On(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pl||(Pl=!0,_h=r),ch(t,e)},n}function iw(t,e,n){n=On(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ch(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ch(t,e),typeof r!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Ng(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ik.bind(null,t,e,n),e.then(t,t))}function Lg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=On(-1,1),e.tag=2,ur(n,e,1))),n.lanes|=1),t)}var pk=Hn.ReactCurrentOwner,mt=!1;function at(t,e,n,r){e.child=t===null?N0(e,null,n,r):no(e,t.child,n,r)}function $g(t,e,n,r,i){n=n.render;var o=e.ref;return Vi(e,i),r=qf(t,e,n,r,o,i),n=Kf(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$n(t,e,i)):(Ce&&n&&$f(e),e.flags|=1,at(t,e,r,i),e.child)}function Mg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!op(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,ow(t,e,o,r,i)):(t=nl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ys,n(s,r)&&t.ref===e.ref)return $n(t,e,i)}return e.flags|=1,t=fr(o,r),t.ref=e.ref,t.return=e,e.child=t}function ow(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ys(o,r)&&t.ref===e.ref)if(mt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(mt=!0);else return e.lanes=t.lanes,$n(t,e,i)}return uh(t,e,n,r,i)}function sw(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Mi,Tt),Tt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(Mi,Tt),Tt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,we(Mi,Tt),Tt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,we(Mi,Tt),Tt|=r;return at(t,e,i,n),e.child}function aw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function uh(t,e,n,r,i){var o=_t(n)?ei:ot.current;return o=eo(e,o),Vi(e,i),n=qf(t,e,n,r,o,i),r=Kf(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$n(t,e,i)):(Ce&&r&&$f(e),e.flags|=1,at(t,e,n,i),e.child)}function Fg(t,e,n,r,i){if(_t(n)){var o=!0;_l(e)}else o=!1;if(Vi(e,i),e.stateNode===null)Za(t,e),nw(e,n,r),lh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wt(c):(c=_t(n)?ei:ot.current,c=eo(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Ag(e,s,r,c),Kn=!1;var h=e.memoizedState;s.state=h,Cl(e,r,s,i),l=e.memoizedState,a!==r||h!==l||yt.current||Kn?(typeof u=="function"&&(ah(e,n,u,r),l=e.memoizedState),(a=Kn||Og(e,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,D0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Yt(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wt(l):(l=_t(n)?ei:ot.current,l=eo(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Ag(e,s,r,l),Kn=!1,h=e.memoizedState,s.state=h,Cl(e,r,s,i);var m=e.memoizedState;a!==d||h!==m||yt.current||Kn?(typeof f=="function"&&(ah(e,n,f,r),m=e.memoizedState),(c=Kn||Og(e,n,c,r,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return dh(t,e,n,r,o,i)}function dh(t,e,n,r,i,o){aw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Sg(e,n,!1),$n(t,e,o);r=e.stateNode,pk.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=no(e,t.child,null,o),e.child=no(e,null,a,o)):at(t,e,a,o),e.memoizedState=r.state,i&&Sg(e,n,!0),e.child}function lw(t){var e=t.stateNode;e.pendingContext?Eg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Eg(t,e.context,!1),Wf(t,e.containerInfo)}function Ug(t,e,n,r,i){return to(),Ff(i),e.flags|=256,at(t,e,n,r),e.child}var hh={dehydrated:null,treeContext:null,retryLane:0};function fh(t){return{baseLanes:t,cachePool:null,transitions:null}}function cw(t,e,n){var r=e.pendingProps,i=ke.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),we(ke,i&1),t===null)return oh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=kc(s,r,0,null),t=Zr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=fh(n),e.memoizedState=hh,t):Jf(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return mk(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=fr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=fr(a,o):(o=Zr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?fh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=hh,r}return o=t.child,t=o.sibling,r=fr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jf(t,e){return e=kc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pa(t,e,n,r){return r!==null&&Ff(r),no(e,t.child,null,n),t=Jf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mk(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Vu(Error(L(422))),Pa(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=kc({mode:"visible",children:r.children},i,0,null),o=Zr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&no(e,t.child,null,s),e.child.memoizedState=fh(s),e.memoizedState=hh,o);if(!(e.mode&1))return Pa(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(L(419)),r=Vu(o,r,void 0),Pa(t,e,s,r)}if(a=(s&t.childLanes)!==0,mt||a){if(r=Ye,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Dn(t,i),en(r,t,i,-1))}return ip(),r=Vu(Error(L(421))),Pa(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xk.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,It=cr(i.nextSibling),xt=e,Ce=!0,Kt=null,t!==null&&(Ut[Bt++]=Cn,Ut[Bt++]=Tn,Ut[Bt++]=ti,Cn=t.id,Tn=t.overflow,ti=e),e=Jf(e,r.children),e.flags|=4096,e)}function Bg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sh(t.return,e,n)}function Gu(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function uw(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(at(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bg(t,n,e);else if(t.tag===19)Bg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Tl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gu(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gu(e,!0,n,null,o);break;case"together":Gu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Za(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=fr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gk(t,e,n){switch(e.tag){case 3:lw(e),to();break;case 5:$0(e);break;case 1:_t(e.type)&&_l(e);break;case 4:Wf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;we(El,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?cw(t,e,n):(we(ke,ke.current&1),t=$n(t,e,n),t!==null?t.sibling:null);we(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,sw(t,e,n)}return $n(t,e,n)}var dw,ph,hw,fw;dw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ph=function(){};hw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gr(hn.current);var o=null;switch(n){case"input":i=$d(t,i),r=$d(t,r),o=[];break;case"select":i=xe({},i,{value:void 0}),r=xe({},r,{value:void 0}),o=[];break;case"textarea":i=Ud(t,i),r=Ud(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vl)}Hd(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ds.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ds.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&be("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};fw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Do(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vk(t,e,n){var r=e.pendingProps;switch(Mf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(e),null;case 1:return _t(e.type)&&yl(),nt(e),null;case 3:return r=e.stateNode,ro(),Se(yt),Se(ot),Gf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ia(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kt!==null&&(Eh(Kt),Kt=null))),ph(t,e),nt(e),null;case 5:Vf(e);var i=Gr(Ss.current);if(n=e.type,t!==null&&e.stateNode!=null)hw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return nt(e),null}if(t=Gr(hn.current),Ia(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[un]=e,r[bs]=o,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<Go.length;i++)be(Go[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":Km(r,o),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},be("invalid",r);break;case"textarea":Qm(r,o),be("invalid",r)}Hd(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ka(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ka(r.textContent,a,t),i=["children",""+a]):ds.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&be("scroll",r)}switch(n){case"input":ya(r),Xm(r,o,!0);break;case"textarea":ya(r),Jm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=vl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=H_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[un]=e,t[bs]=r,dw(t,e,!1,!1),e.stateNode=t;e:{switch(s=jd(n,r),n){case"dialog":be("cancel",t),be("close",t),i=r;break;case"iframe":case"object":case"embed":be("load",t),i=r;break;case"video":case"audio":for(i=0;i<Go.length;i++)be(Go[i],t);i=r;break;case"source":be("error",t),i=r;break;case"img":case"image":case"link":be("error",t),be("load",t),i=r;break;case"details":be("toggle",t),i=r;break;case"input":Km(t,r),i=$d(t,r),be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xe({},r,{value:void 0}),be("invalid",t);break;case"textarea":Qm(t,r),i=Ud(t,r),be("invalid",t);break;default:i=r}Hd(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?W_(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j_(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hs(t,l):typeof l=="number"&&hs(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ds.hasOwnProperty(o)?l!=null&&o==="onScroll"&&be("scroll",t):l!=null&&Ef(t,o,l,s))}switch(n){case"input":ya(t),Xm(t,r,!1);break;case"textarea":ya(t),Jm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+br(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Hi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Hi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nt(e),null;case 6:if(t&&e.stateNode!=null)fw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=Gr(Ss.current),Gr(hn.current),Ia(e)){if(r=e.stateNode,n=e.memoizedProps,r[un]=e,(o=r.nodeValue!==n)&&(t=xt,t!==null))switch(t.tag){case 3:ka(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ka(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[un]=e,e.stateNode=r}return nt(e),null;case 13:if(Se(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&It!==null&&e.mode&1&&!(e.flags&128))O0(),to(),e.flags|=98560,o=!1;else if(o=Ia(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(L(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[un]=e}else to(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nt(e),o=!1}else Kt!==null&&(Eh(Kt),Kt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?He===0&&(He=3):ip())),e.updateQueue!==null&&(e.flags|=4),nt(e),null);case 4:return ro(),ph(t,e),t===null&&_s(e.stateNode.containerInfo),nt(e),null;case 10:return Hf(e.type._context),nt(e),null;case 17:return _t(e.type)&&yl(),nt(e),null;case 19:if(Se(ke),o=e.memoizedState,o===null)return nt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Do(o,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Tl(t),s!==null){for(e.flags|=128,Do(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(ke,ke.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ne()>oo&&(e.flags|=128,r=!0,Do(o,!1),e.lanes=4194304)}else{if(!r)if(t=Tl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Do(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ce)return nt(e),null}else 2*Ne()-o.renderingStartTime>oo&&n!==1073741824&&(e.flags|=128,r=!0,Do(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ne(),e.sibling=null,n=ke.current,we(ke,r?n&1|2:n&1),e):(nt(e),null);case 22:case 23:return rp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tt&1073741824&&(nt(e),e.subtreeFlags&6&&(e.flags|=8192)):nt(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function yk(t,e){switch(Mf(e),e.tag){case 1:return _t(e.type)&&yl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ro(),Se(yt),Se(ot),Gf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vf(e),null;case 13:if(Se(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));to()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Se(ke),null;case 4:return ro(),null;case 10:return Hf(e.type._context),null;case 22:case 23:return rp(),null;case 24:return null;default:return null}}var Ra=!1,rt=!1,_k=typeof WeakSet=="function"?WeakSet:Set,j=null;function $i(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function mh(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var Hg=!1;function wk(t,e){if(Jd=pl,t=y0(),Df(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zd={focusedElem:t,selectionRange:n},pl=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,b=m.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Yt(e.type,v),b);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(w){Pe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return m=Hg,Hg=!1,m}function es(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&mh(e,n,o)}i=i.next}while(i!==r)}}function Cc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pw(t){var e=t.alternate;e!==null&&(t.alternate=null,pw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[un],delete e[bs],delete e[nh],delete e[nk],delete e[rk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mw(t){return t.tag===5||t.tag===3||t.tag===4}function jg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vl));else if(r!==4&&(t=t.child,t!==null))for(vh(t,e,n),t=t.sibling;t!==null;)vh(t,e,n),t=t.sibling}function yh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yh(t,e,n),t=t.sibling;t!==null;)yh(t,e,n),t=t.sibling}var Je=null,qt=!1;function Vn(t,e,n){for(n=n.child;n!==null;)gw(t,e,n),n=n.sibling}function gw(t,e,n){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(gc,n)}catch(a){}switch(n.tag){case 5:rt||$i(n,e);case 6:var r=Je,i=qt;Je=null,Vn(t,e,n),Je=r,qt=i,Je!==null&&(qt?(t=Je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(qt?(t=Je,n=n.stateNode,t.nodeType===8?Uu(t.parentNode,n):t.nodeType===1&&Uu(t,n),gs(t)):Uu(Je,n.stateNode));break;case 4:r=Je,i=qt,Je=n.stateNode.containerInfo,qt=!0,Vn(t,e,n),Je=r,qt=i;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&mh(n,e,s),i=i.next}while(i!==r)}Vn(t,e,n);break;case 1:if(!rt&&($i(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pe(n,e,a)}Vn(t,e,n);break;case 21:Vn(t,e,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,Vn(t,e,n),rt=r):Vn(t,e,n);break;default:Vn(t,e,n)}}function zg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _k),e.forEach(function(r){var i=Pk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,qt=!1;break e;case 3:Je=a.stateNode.containerInfo,qt=!0;break e;case 4:Je=a.stateNode.containerInfo,qt=!0;break e}a=a.return}if(Je===null)throw Error(L(160));gw(o,s,i),Je=null,qt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Pe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vw(e,t),e=e.sibling}function vw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gt(e,t),an(t),r&4){try{es(3,t,t.return),Cc(3,t)}catch(v){Pe(t,t.return,v)}try{es(5,t,t.return)}catch(v){Pe(t,t.return,v)}}break;case 1:Gt(e,t),an(t),r&512&&n!==null&&$i(n,n.return);break;case 5:if(Gt(e,t),an(t),r&512&&n!==null&&$i(n,n.return),t.flags&32){var i=t.stateNode;try{hs(i,"")}catch(v){Pe(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&U_(i,o),jd(a,s);var c=jd(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?W_(i,d):u==="dangerouslySetInnerHTML"?j_(i,d):u==="children"?hs(i,d):Ef(i,u,d,c)}switch(a){case"input":Md(i,o);break;case"textarea":B_(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Hi(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?Hi(i,!!o.multiple,o.defaultValue,!0):Hi(i,!!o.multiple,o.multiple?[]:"",!1))}i[bs]=o}catch(v){Pe(t,t.return,v)}}break;case 6:if(Gt(e,t),an(t),r&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Pe(t,t.return,v)}}break;case 3:if(Gt(e,t),an(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gs(e.containerInfo)}catch(v){Pe(t,t.return,v)}break;case 4:Gt(e,t),an(t);break;case 13:Gt(e,t),an(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(tp=Ne())),r&4&&zg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(rt=(c=rt)||u,Gt(e,t),rt=c):Gt(e,t),an(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(j=t,u=t.child;u!==null;){for(d=j=u;j!==null;){switch(h=j,f=h.child,h.tag){case 0:case 11:case 14:case 15:es(4,h,h.return);break;case 1:$i(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){Pe(r,n,v)}}break;case 5:$i(h,h.return);break;case 22:if(h.memoizedState!==null){Vg(d);continue}}f!==null?(f.return=h,j=f):Vg(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=z_("display",s))}catch(v){Pe(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Pe(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Gt(e,t),an(t),r&4&&zg(t);break;case 21:break;default:Gt(e,t),an(t)}}function an(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mw(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hs(i,""),r.flags&=-33);var o=jg(t);yh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=jg(t);vh(t,a,s);break;default:throw Error(L(161))}}catch(l){Pe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bk(t,e,n){j=t,yw(t)}function yw(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var i=j,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ra;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||rt;a=Ra;var c=rt;if(Ra=s,(rt=l)&&!c)for(j=i;j!==null;)s=j,l=s.child,s.tag===22&&s.memoizedState!==null?Gg(i):l!==null?(l.return=s,j=l):Gg(i);for(;o!==null;)j=o,yw(o),o=o.sibling;j=i,Ra=a,rt=c}Wg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,j=o):Wg(t)}}function Wg(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rt||Cc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&xg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xg(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&gs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}rt||e.flags&512&&gh(e)}catch(h){Pe(e,e.return,h)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function Vg(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function Gg(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cc(4,e)}catch(l){Pe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Pe(e,i,l)}}var o=e.return;try{gh(e)}catch(l){Pe(e,o,l)}break;case 5:var s=e.return;try{gh(e)}catch(l){Pe(e,s,l)}}}catch(l){Pe(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var Ek=Math.ceil,xl=Hn.ReactCurrentDispatcher,Zf=Hn.ReactCurrentOwner,zt=Hn.ReactCurrentBatchConfig,ce=0,Ye=null,$e=null,Ze=0,Tt=0,Mi=Pr(0),He=0,Is=null,ri=0,Tc=0,ep=0,ts=null,pt=null,tp=0,oo=1/0,wn=null,Pl=!1,_h=null,dr=null,Oa=!1,rr=null,Rl=0,ns=0,wh=null,el=-1,tl=0;function ct(){return ce&6?Ne():el!==-1?el:el=Ne()}function hr(t){return t.mode&1?ce&2&&Ze!==0?Ze&-Ze:ok.transition!==null?(tl===0&&(tl=n0()),tl):(t=pe,t!==0||(t=window.event,t=t===void 0?16:c0(t.type)),t):1}function en(t,e,n,r){if(50<ns)throw ns=0,wh=null,Error(L(185));Ys(t,n,r),(!(ce&2)||t!==Ye)&&(t===Ye&&(!(ce&2)&&(Tc|=n),He===4&&Qn(t,Ze)),wt(t,r),n===1&&ce===0&&!(e.mode&1)&&(oo=Ne()+500,bc&&Rr()))}function wt(t,e){var n=t.callbackNode;o1(t,e);var r=fl(t,t===Ye?Ze:0);if(r===0)n!==null&&tg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tg(n),e===1)t.tag===0?ik(Yg.bind(null,t)):x0(Yg.bind(null,t)),ek(function(){!(ce&6)&&Rr()}),n=null;else{switch(r0(r)){case 1:n=If;break;case 4:n=e0;break;case 16:n=hl;break;case 536870912:n=t0;break;default:n=hl}n=kw(n,_w.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _w(t,e){if(el=-1,tl=0,ce&6)throw Error(L(327));var n=t.callbackNode;if(Gi()&&t.callbackNode!==n)return null;var r=fl(t,t===Ye?Ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ol(t,r);else{e=r;var i=ce;ce|=2;var o=bw();(Ye!==t||Ze!==e)&&(wn=null,oo=Ne()+500,Jr(t,e));do try{Tk();break}catch(a){ww(t,a)}while(!0);Bf(),xl.current=o,ce=i,$e!==null?e=0:(Ye=null,Ze=0,e=He)}if(e!==0){if(e===2&&(i=Yd(t),i!==0&&(r=i,e=bh(t,i))),e===1)throw n=Is,Jr(t,0),Qn(t,r),wt(t,Ne()),n;if(e===6)Qn(t,r);else{if(i=t.current.alternate,!(r&30)&&!Sk(i)&&(e=Ol(t,r),e===2&&(o=Yd(t),o!==0&&(r=o,e=bh(t,o))),e===1))throw n=Is,Jr(t,0),Qn(t,r),wt(t,Ne()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:Br(t,pt,wn);break;case 3:if(Qn(t,r),(r&130023424)===r&&(e=tp+500-Ne(),10<e)){if(fl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ct(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=th(Br.bind(null,t,pt,wn),e);break}Br(t,pt,wn);break;case 4:if(Qn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Zt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ek(r/1960))-r,10<r){t.timeoutHandle=th(Br.bind(null,t,pt,wn),r);break}Br(t,pt,wn);break;case 5:Br(t,pt,wn);break;default:throw Error(L(329))}}}return wt(t,Ne()),t.callbackNode===n?_w.bind(null,t):null}function bh(t,e){var n=ts;return t.current.memoizedState.isDehydrated&&(Jr(t,e).flags|=256),t=Ol(t,e),t!==2&&(e=pt,pt=n,e!==null&&Eh(e)),t}function Eh(t){pt===null?pt=t:pt.push.apply(pt,t)}function Sk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!rn(o(),i))return!1}catch(s){return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qn(t,e){for(e&=~ep,e&=~Tc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zt(e),r=1<<n;t[n]=-1,e&=~r}}function Yg(t){if(ce&6)throw Error(L(327));Gi();var e=fl(t,0);if(!(e&1))return wt(t,Ne()),null;var n=Ol(t,e);if(t.tag!==0&&n===2){var r=Yd(t);r!==0&&(e=r,n=bh(t,r))}if(n===1)throw n=Is,Jr(t,0),Qn(t,e),wt(t,Ne()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Br(t,pt,wn),wt(t,Ne()),null}function np(t,e){var n=ce;ce|=1;try{return t(e)}finally{ce=n,ce===0&&(oo=Ne()+500,bc&&Rr())}}function ii(t){rr!==null&&rr.tag===0&&!(ce&6)&&Gi();var e=ce;ce|=1;var n=zt.transition,r=pe;try{if(zt.transition=null,pe=1,t)return t()}finally{pe=r,zt.transition=n,ce=e,!(ce&6)&&Rr()}}function rp(){Tt=Mi.current,Se(Mi)}function Jr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Z1(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Mf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yl();break;case 3:ro(),Se(yt),Se(ot),Gf();break;case 5:Vf(r);break;case 4:ro();break;case 13:Se(ke);break;case 19:Se(ke);break;case 10:Hf(r.type._context);break;case 22:case 23:rp()}n=n.return}if(Ye=t,$e=t=fr(t.current,null),Ze=Tt=e,He=0,Is=null,ep=Tc=ri=0,pt=ts=null,Vr!==null){for(e=0;e<Vr.length;e++)if(n=Vr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Vr=null}return t}function ww(t,e){do{var n=$e;try{if(Bf(),Qa.current=Il,kl){for(var r=Ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kl=!1}if(ni=0,We=Fe=Ie=null,Zo=!1,Cs=0,Zf.current=null,n===null||n.return===null){He=1,Is=e,$e=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Lg(s);if(f!==null){f.flags&=-257,Dg(f,s,a,o,e),f.mode&1&&Ng(o,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){Ng(o,c,e),ip();break e}l=Error(L(426))}}else if(Ce&&a.mode&1){var b=Lg(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Dg(b,s,a,o,e),Ff(io(l,a));break e}}o=l=io(l,a),He!==4&&(He=2),ts===null?ts=[o]:ts.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=rw(o,l,e);Ig(o,g);break e;case 1:a=l;var p=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(dr===null||!dr.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=iw(o,a,e);Ig(o,w);break e}}o=o.return}while(o!==null)}Sw(n)}catch(k){e=k,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function bw(){var t=xl.current;return xl.current=Il,t===null?Il:t}function ip(){(He===0||He===3||He===2)&&(He=4),Ye===null||!(ri&268435455)&&!(Tc&268435455)||Qn(Ye,Ze)}function Ol(t,e){var n=ce;ce|=2;var r=bw();(Ye!==t||Ze!==e)&&(wn=null,Jr(t,e));do try{Ck();break}catch(i){ww(t,i)}while(!0);if(Bf(),ce=n,xl.current=r,$e!==null)throw Error(L(261));return Ye=null,Ze=0,He}function Ck(){for(;$e!==null;)Ew($e)}function Tk(){for(;$e!==null&&!XT();)Ew($e)}function Ew(t){var e=Tw(t.alternate,t,Tt);t.memoizedProps=t.pendingProps,e===null?Sw(t):$e=e,Zf.current=null}function Sw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yk(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{He=6,$e=null;return}}else if(n=vk(n,e,Tt),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);He===0&&(He=5)}function Br(t,e,n){var r=pe,i=zt.transition;try{zt.transition=null,pe=1,kk(t,e,n,r)}finally{zt.transition=i,pe=r}return null}function kk(t,e,n,r){do Gi();while(rr!==null);if(ce&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(s1(t,o),t===Ye&&($e=Ye=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oa||(Oa=!0,kw(hl,function(){return Gi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zt.transition,zt.transition=null;var s=pe;pe=1;var a=ce;ce|=4,Zf.current=null,wk(t,n),vw(n,t),G1(Zd),pl=!!Jd,Zd=Jd=null,t.current=n,bk(n),QT(),ce=a,pe=s,zt.transition=o}else t.current=n;if(Oa&&(Oa=!1,rr=t,Rl=i),o=t.pendingLanes,o===0&&(dr=null),e1(n.stateNode),wt(t,Ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pl)throw Pl=!1,t=_h,_h=null,t;return Rl&1&&t.tag!==0&&Gi(),o=t.pendingLanes,o&1?t===wh?ns++:(ns=0,wh=t):ns=0,Rr(),null}function Gi(){if(rr!==null){var t=r0(Rl),e=zt.transition,n=pe;try{if(zt.transition=null,pe=16>t?16:t,rr===null)var r=!1;else{if(t=rr,rr=null,Rl=0,ce&6)throw Error(L(331));var i=ce;for(ce|=4,j=t.current;j!==null;){var o=j,s=o.child;if(j.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(j=c;j!==null;){var u=j;switch(u.tag){case 0:case 11:case 15:es(8,u,o)}var d=u.child;if(d!==null)d.return=u,j=d;else for(;j!==null;){u=j;var h=u.sibling,f=u.return;if(pw(u),u===c){j=null;break}if(h!==null){h.return=f,j=h;break}j=f}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}j=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,j=s;else e:for(;j!==null;){if(o=j,o.flags&2048)switch(o.tag){case 0:case 11:case 15:es(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,j=g;break e}j=o.return}}var p=t.current;for(j=p;j!==null;){s=j;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,j=y;else e:for(s=p;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cc(9,a)}}catch(k){Pe(a,a.return,k)}if(a===s){j=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,j=w;break e}j=a.return}}if(ce=i,Rr(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(gc,t)}catch(k){}r=!0}return r}finally{pe=n,zt.transition=e}}return!1}function qg(t,e,n){e=io(n,e),e=rw(t,e,1),t=ur(t,e,1),e=ct(),t!==null&&(Ys(t,1,e),wt(t,e))}function Pe(t,e,n){if(t.tag===3)qg(t,t,n);else for(;e!==null;){if(e.tag===3){qg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dr===null||!dr.has(r))){t=io(n,t),t=iw(e,t,1),e=ur(e,t,1),t=ct(),e!==null&&(Ys(e,1,t),wt(e,t));break}}e=e.return}}function Ik(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ct(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(Ze&n)===n&&(He===4||He===3&&(Ze&130023424)===Ze&&500>Ne()-tp?Jr(t,0):ep|=n),wt(t,e)}function Cw(t,e){e===0&&(t.mode&1?(e=ba,ba<<=1,!(ba&130023424)&&(ba=4194304)):e=1);var n=ct();t=Dn(t,e),t!==null&&(Ys(t,e,n),wt(t,n))}function xk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Cw(t,n)}function Pk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),Cw(t,n)}var Tw;Tw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mt=!1,gk(t,e,n);mt=!!(t.flags&131072)}else mt=!1,Ce&&e.flags&1048576&&P0(e,bl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Za(t,e),t=e.pendingProps;var i=eo(e,ot.current);Vi(e,n),i=qf(null,e,r,t,i,n);var o=Kf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_t(r)?(o=!0,_l(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zf(e),i.updater=Sc,e.stateNode=i,i._reactInternals=e,lh(e,r,t,n),e=dh(null,e,r,!0,o,n)):(e.tag=0,Ce&&o&&$f(e),at(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Za(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ok(r),t=Yt(r,t),i){case 0:e=uh(null,e,r,t,n);break e;case 1:e=Fg(null,e,r,t,n);break e;case 11:e=$g(null,e,r,t,n);break e;case 14:e=Mg(null,e,r,Yt(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),uh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),Fg(t,e,r,i,n);case 3:e:{if(lw(e),t===null)throw Error(L(387));r=e.pendingProps,o=e.memoizedState,i=o.element,D0(t,e),Cl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=io(Error(L(423)),e),e=Ug(t,e,r,n,i);break e}else if(r!==i){i=io(Error(L(424)),e),e=Ug(t,e,r,n,i);break e}else for(It=cr(e.stateNode.containerInfo.firstChild),xt=e,Ce=!0,Kt=null,n=N0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(to(),r===i){e=$n(t,e,n);break e}at(t,e,r,n)}e=e.child}return e;case 5:return $0(e),t===null&&oh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,eh(r,i)?s=null:o!==null&&eh(r,o)&&(e.flags|=32),aw(t,e),at(t,e,s,n),e.child;case 6:return t===null&&oh(e),null;case 13:return cw(t,e,n);case 4:return Wf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=no(e,null,r,n):at(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),$g(t,e,r,i,n);case 7:return at(t,e,e.pendingProps,n),e.child;case 8:return at(t,e,e.pendingProps.children,n),e.child;case 12:return at(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,we(El,r._currentValue),r._currentValue=s,o!==null)if(rn(o.value,s)){if(o.children===i.children&&!yt.current){e=$n(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=On(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),sh(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(L(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),sh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}at(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vi(e,n),i=Wt(i),r=r(i),e.flags|=1,at(t,e,r,n),e.child;case 14:return r=e.type,i=Yt(r,e.pendingProps),i=Yt(r.type,i),Mg(t,e,r,i,n);case 15:return ow(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),Za(t,e),e.tag=1,_t(r)?(t=!0,_l(e)):t=!1,Vi(e,n),nw(e,r,i),lh(e,r,i,n),dh(null,e,r,!0,t,n);case 19:return uw(t,e,n);case 22:return sw(t,e,n)}throw Error(L(156,e.tag))};function kw(t,e){return Z_(t,e)}function Rk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,r){return new Rk(t,e,n,r)}function op(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ok(t){if(typeof t=="function")return op(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cf)return 11;if(t===Tf)return 14}return 2}function fr(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")op(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ii:return Zr(n.children,i,o,e);case Sf:s=8,i|=8;break;case Ad:return t=jt(12,n,e,i|2),t.elementType=Ad,t.lanes=o,t;case Nd:return t=jt(13,n,e,i),t.elementType=Nd,t.lanes=o,t;case Ld:return t=jt(19,n,e,i),t.elementType=Ld,t.lanes=o,t;case $_:return kc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L_:s=10;break e;case D_:s=9;break e;case Cf:s=11;break e;case Tf:s=14;break e;case qn:s=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=jt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Zr(t,e,n,r){return t=jt(7,t,r,e),t.lanes=n,t}function kc(t,e,n,r){return t=jt(22,t,r,e),t.elementType=$_,t.lanes=n,t.stateNode={isHidden:!1},t}function Yu(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function qu(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ak(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xu(0),this.expirationTimes=xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sp(t,e,n,r,i,o,s,a,l){return t=new Ak(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=jt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zf(o),t}function Nk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ki,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Iw(t){if(!t)return Er;t=t._reactInternals;e:{if(mi(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(_t(n))return I0(t,n,e)}return e}function xw(t,e,n,r,i,o,s,a,l){return t=sp(n,r,!0,t,i,o,s,a,l),t.context=Iw(null),n=t.current,r=ct(),i=hr(n),o=On(r,i),o.callback=e!=null?e:null,ur(n,o,i),t.current.lanes=i,Ys(t,i,r),wt(t,r),t}function Ic(t,e,n,r){var i=e.current,o=ct(),s=hr(i);return n=Iw(n),e.context===null?e.context=n:e.pendingContext=n,e=On(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ur(i,e,s),t!==null&&(en(t,i,s,o),Xa(t,i,s)),s}function Al(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ap(t,e){Kg(t,e),(t=t.alternate)&&Kg(t,e)}function Lk(){return null}var Pw=typeof reportError=="function"?reportError:function(t){console.error(t)};function lp(t){this._internalRoot=t}xc.prototype.render=lp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));Ic(t,e,null,null)};xc.prototype.unmount=lp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ii(function(){Ic(null,t,null,null)}),e[Ln]=null}};function xc(t){this._internalRoot=t}xc.prototype.unstable_scheduleHydration=function(t){if(t){var e=s0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xn.length&&e!==0&&e<Xn[n].priority;n++);Xn.splice(n,0,t),n===0&&l0(t)}};function cp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xg(){}function Dk(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Al(s);o.call(c)}}var s=xw(e,r,t,0,null,!1,!1,"",Xg);return t._reactRootContainer=s,t[Ln]=s.current,_s(t.nodeType===8?t.parentNode:t),ii(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Al(l);a.call(c)}}var l=sp(t,0,!1,null,null,!1,!1,"",Xg);return t._reactRootContainer=l,t[Ln]=l.current,_s(t.nodeType===8?t.parentNode:t),ii(function(){Ic(e,l,n,r)}),l}function Rc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Al(s);a.call(l)}}Ic(e,s,t,i)}else s=Dk(n,e,t,i,r);return Al(s)}i0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vo(e.pendingLanes);n!==0&&(xf(e,n|1),wt(e,Ne()),!(ce&6)&&(oo=Ne()+500,Rr()))}break;case 13:ii(function(){var r=Dn(t,1);if(r!==null){var i=ct();en(r,t,1,i)}}),ap(t,1)}};Pf=function(t){if(t.tag===13){var e=Dn(t,134217728);if(e!==null){var n=ct();en(e,t,134217728,n)}ap(t,134217728)}};o0=function(t){if(t.tag===13){var e=hr(t),n=Dn(t,e);if(n!==null){var r=ct();en(n,t,e,r)}ap(t,e)}};s0=function(){return pe};a0=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};Wd=function(t,e,n){switch(e){case"input":if(Md(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wc(r);if(!i)throw Error(L(90));F_(r),Md(r,i)}}}break;case"textarea":B_(t,n);break;case"select":e=n.value,e!=null&&Hi(t,!!n.multiple,e,!1)}};Y_=np;q_=ii;var $k={usingClientEntryPoint:!1,Events:[Ks,Oi,wc,V_,G_,np]},$o={findFiberByHostInstance:Wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mk={bundleType:$o.bundleType,version:$o.version,rendererPackageName:$o.rendererPackageName,rendererConfig:$o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Q_(t),t===null?null:t.stateNode},findFiberByHostInstance:$o.findFiberByHostInstance||Lk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{gc=Aa.inject(Mk),dn=Aa}catch(t){}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$k;Rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cp(e))throw Error(L(200));return Nk(t,e,null,n)};Rt.createRoot=function(t,e){if(!cp(t))throw Error(L(299));var n=!1,r="",i=Pw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sp(t,1,!1,null,null,n,!1,r,i),t[Ln]=e.current,_s(t.nodeType===8?t.parentNode:t),new lp(e)};Rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=Q_(e),t=t===null?null:t.stateNode,t};Rt.flushSync=function(t){return ii(t)};Rt.hydrate=function(t,e,n){if(!Pc(e))throw Error(L(200));return Rc(null,t,e,!0,n)};Rt.hydrateRoot=function(t,e,n){if(!cp(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Pw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=xw(e,null,t,1,n!=null?n:null,i,!1,o,s),t[Ln]=e.current,_s(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xc(e)};Rt.render=function(t,e,n){if(!Pc(e))throw Error(L(200));return Rc(null,t,e,!1,n)};Rt.unmountComponentAtNode=function(t){if(!Pc(t))throw Error(L(40));return t._reactRootContainer?(ii(function(){Rc(null,null,t,!1,function(){t._reactRootContainer=null,t[Ln]=null})}),!0):!1};Rt.unstable_batchedUpdates=np;Rt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pc(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Rc(t,e,n,!1,r)};Rt.version="18.3.1-next-f1338f8080-20240426";function Rw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rw)}catch(t){console.error(t)}}Rw(),R_.exports=Rt;var up=R_.exports;const Fk=Vs(up);var Ow,Qg=up;Ow=Qg.createRoot,Qg.hydrateRoot;function Sh(t,e){return Sh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Sh(t,e)}function Sr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Sh(t,e)}var Aw={exports:{}},Uk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bk=Uk,Hk=Bk;function Nw(){}function Lw(){}Lw.resetWarningCache=Nw;var jk=function(){function t(r,i,o,s,a,l){if(l!==Hk){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Lw,resetWarningCache:Nw};return n.PropTypes=n,n};Aw.exports=jk();var zk=Aw.exports;const Jg=Vs(zk);function St(){return St=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},St.apply(null,arguments)}function Na(t){return t.charAt(0)==="/"}function Ku(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function Wk(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&Na(t),o=e&&Na(e),s=i||o;if(t&&Na(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a;if(r.length){var l=r[r.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var c=0,u=r.length;u>=0;u--){var d=r[u];d==="."?Ku(r,u):d===".."?(Ku(r,u),c++):c&&(Ku(r,u),c--)}if(!s)for(;c--;c)r.unshift("..");s&&r[0]!==""&&(!r[0]||!Na(r[0]))&&r.unshift("");var h=r.join("/");return a&&h.substr(-1)!=="/"&&(h+="/"),h}function Zg(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function rl(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(i,o){return rl(i,e[o])});if(typeof t=="object"||typeof e=="object"){var n=Zg(t),r=Zg(e);return n!==t||r!==e?rl(n,r):Object.keys(Object.assign({},t,e)).every(function(i){return rl(t[i],e[i])})}return!1}var Vk="Invariant failed";function gi(t,e){throw new Error(Vk)}function rs(t){return t.charAt(0)==="/"?t:"/"+t}function ev(t){return t.charAt(0)==="/"?t.substr(1):t}function Gk(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function Dw(t,e){return Gk(t,e)?t.substr(e.length):t}function $w(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function Yk(t){var e=t||"/",n="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return o!==-1&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function Ft(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function gt(t,e,n,r){var i;typeof t=="string"?(i=Yk(t),i.state=e):(i=St({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=Wk(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function qk(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&rl(t.state,e.state)}function dp(){var t=null;function e(s){return t=s,function(){t===s&&(t=null)}}function n(s,a,l,c){if(t!=null){var u=typeof t=="function"?t(s,a):t;typeof u=="string"?typeof l=="function"?l(u,c):c(!0):c(u!==!1)}else c(!0)}var r=[];function i(s){var a=!0;function l(){a&&s.apply(void 0,arguments)}return r.push(l),function(){a=!1,r=r.filter(function(c){return c!==l})}}function o(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];r.forEach(function(c){return c.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:o}}var Mw=!!(typeof window<"u"&&window.document&&window.document.createElement);function Fw(t,e){e(window.confirm(t))}function Kk(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Xk(){return window.navigator.userAgent.indexOf("Trident")===-1}function Qk(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Jk(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var tv="popstate",nv="hashchange";function rv(){try{return window.history.state||{}}catch(t){return{}}}function Zk(t){t===void 0&&(t={}),Mw||gi();var e=window.history,n=Kk(),r=!Xk(),i=t,o=i.forceRefresh,s=o===void 0?!1:o,a=i.getUserConfirmation,l=a===void 0?Fw:a,c=i.keyLength,u=c===void 0?6:c,d=t.basename?$w(rs(t.basename)):"";function h(N){var O=N||{},W=O.key,B=O.state,le=window.location,_=le.pathname,E=le.search,x=le.hash,M=_+E+x;return d&&(M=Dw(M,d)),gt(M,B,W)}function f(){return Math.random().toString(36).substr(2,u)}var m=dp();function v(N){St(D,N),D.length=e.length,m.notifyListeners(D.location,D.action)}function b(N){Jk(N)||y(h(N.state))}function g(){y(h(rv()))}var p=!1;function y(N){if(p)p=!1,v();else{var O="POP";m.confirmTransitionTo(N,O,l,function(W){W?v({action:O,location:N}):w(N)})}}function w(N){var O=D.location,W=S.indexOf(O.key);W===-1&&(W=0);var B=S.indexOf(N.key);B===-1&&(B=0);var le=W-B;le&&(p=!0,A(le))}var k=h(rv()),S=[k.key];function I(N){return d+Ft(N)}function P(N,O){var W="PUSH",B=gt(N,O,f(),D.location);m.confirmTransitionTo(B,W,l,function(le){if(le){var _=I(B),E=B.key,x=B.state;if(n)if(e.pushState({key:E,state:x},null,_),s)window.location.href=_;else{var M=S.indexOf(D.location.key),U=S.slice(0,M+1);U.push(B.key),S=U,v({action:W,location:B})}else window.location.href=_}})}function T(N,O){var W="REPLACE",B=gt(N,O,f(),D.location);m.confirmTransitionTo(B,W,l,function(le){if(le){var _=I(B),E=B.key,x=B.state;if(n)if(e.replaceState({key:E,state:x},null,_),s)window.location.replace(_);else{var M=S.indexOf(D.location.key);M!==-1&&(S[M]=B.key),v({action:W,location:B})}else window.location.replace(_)}})}function A(N){e.go(N)}function G(){A(-1)}function V(){A(1)}var te=0;function se(N){te+=N,te===1&&N===1?(window.addEventListener(tv,b),r&&window.addEventListener(nv,g)):te===0&&(window.removeEventListener(tv,b),r&&window.removeEventListener(nv,g))}var ne=!1;function re(N){N===void 0&&(N=!1);var O=m.setPrompt(N);return ne||(se(1),ne=!0),function(){return ne&&(ne=!1,se(-1)),O()}}function Le(N){var O=m.appendListener(N);return se(1),function(){se(-1),O()}}var D={length:e.length,action:"POP",location:k,createHref:I,push:P,replace:T,go:A,goBack:G,goForward:V,block:re,listen:Le};return D}var iv="hashchange",eI={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+ev(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:ev,decodePath:rs},slash:{encodePath:rs,decodePath:rs}};function Uw(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Mo(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function tI(t){window.location.hash=t}function Xu(t){window.location.replace(Uw(window.location.href)+"#"+t)}function nI(t){t===void 0&&(t={}),Mw||gi();var e=window.history;Qk();var n=t,r=n.getUserConfirmation,i=r===void 0?Fw:r,o=n.hashType,s=o===void 0?"slash":o,a=t.basename?$w(rs(t.basename)):"",l=eI[s],c=l.encodePath,u=l.decodePath;function d(){var O=u(Mo());return a&&(O=Dw(O,a)),gt(O)}var h=dp();function f(O){St(N,O),N.length=e.length,h.notifyListeners(N.location,N.action)}var m=!1,v=null;function b(O,W){return O.pathname===W.pathname&&O.search===W.search&&O.hash===W.hash}function g(){var O=Mo(),W=c(O);if(O!==W)Xu(W);else{var B=d(),le=N.location;if(!m&&b(le,B)||v===Ft(B))return;v=null,p(B)}}function p(O){if(m)m=!1,f();else{var W="POP";h.confirmTransitionTo(O,W,i,function(B){B?f({action:W,location:O}):y(O)})}}function y(O){var W=N.location,B=I.lastIndexOf(Ft(W));B===-1&&(B=0);var le=I.lastIndexOf(Ft(O));le===-1&&(le=0);var _=B-le;_&&(m=!0,G(_))}var w=Mo(),k=c(w);w!==k&&Xu(k);var S=d(),I=[Ft(S)];function P(O){var W=document.querySelector("base"),B="";return W&&W.getAttribute("href")&&(B=Uw(window.location.href)),B+"#"+c(a+Ft(O))}function T(O,W){var B="PUSH",le=gt(O,void 0,void 0,N.location);h.confirmTransitionTo(le,B,i,function(_){if(_){var E=Ft(le),x=c(a+E),M=Mo()!==x;if(M){v=E,tI(x);var U=I.lastIndexOf(Ft(N.location)),X=I.slice(0,U+1);X.push(E),I=X,f({action:B,location:le})}else f()}})}function A(O,W){var B="REPLACE",le=gt(O,void 0,void 0,N.location);h.confirmTransitionTo(le,B,i,function(_){if(_){var E=Ft(le),x=c(a+E),M=Mo()!==x;M&&(v=E,Xu(x));var U=I.indexOf(Ft(N.location));U!==-1&&(I[U]=E),f({action:B,location:le})}})}function G(O){e.go(O)}function V(){G(-1)}function te(){G(1)}var se=0;function ne(O){se+=O,se===1&&O===1?window.addEventListener(iv,g):se===0&&window.removeEventListener(iv,g)}var re=!1;function Le(O){O===void 0&&(O=!1);var W=h.setPrompt(O);return re||(ne(1),re=!0),function(){return re&&(re=!1,ne(-1)),W()}}function D(O){var W=h.appendListener(O);return ne(1),function(){ne(-1),W()}}var N={length:e.length,action:"POP",location:S,createHref:P,push:T,replace:A,go:G,goBack:V,goForward:te,block:Le,listen:D};return N}function ov(t,e,n){return Math.min(Math.max(t,e),n)}function rI(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,o=e.initialIndex,s=o===void 0?0:o,a=e.keyLength,l=a===void 0?6:a,c=dp();function u(P){St(I,P),I.length=I.entries.length,c.notifyListeners(I.location,I.action)}function d(){return Math.random().toString(36).substr(2,l)}var h=ov(s,0,i.length-1),f=i.map(function(P){return typeof P=="string"?gt(P,void 0,d()):gt(P,void 0,P.key||d())}),m=Ft;function v(P,T){var A="PUSH",G=gt(P,T,d(),I.location);c.confirmTransitionTo(G,A,n,function(V){if(V){var te=I.index,se=te+1,ne=I.entries.slice(0);ne.length>se?ne.splice(se,ne.length-se,G):ne.push(G),u({action:A,location:G,index:se,entries:ne})}})}function b(P,T){var A="REPLACE",G=gt(P,T,d(),I.location);c.confirmTransitionTo(G,A,n,function(V){V&&(I.entries[I.index]=G,u({action:A,location:G}))})}function g(P){var T=ov(I.index+P,0,I.entries.length-1),A="POP",G=I.entries[T];c.confirmTransitionTo(G,A,n,function(V){V?u({action:A,location:G,index:T}):u()})}function p(){g(-1)}function y(){g(1)}function w(P){var T=I.index+P;return T>=0&&T<I.entries.length}function k(P){return P===void 0&&(P=!1),c.setPrompt(P)}function S(P){return c.appendListener(P)}var I={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:m,push:v,replace:b,go:g,goBack:p,goForward:y,canGo:w,block:k,listen:S};return I}var yo={exports:{}},iI=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},Nl=iI;yo.exports=jw;yo.exports.parse=hp;yo.exports.compile=aI;yo.exports.tokensToFunction=Bw;yo.exports.tokensToRegExp=Hw;var oI=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function hp(t,e){for(var n=[],r=0,i=0,o="",s=e&&e.delimiter||"/",a;(a=oI.exec(t))!=null;){var l=a[0],c=a[1],u=a.index;if(o+=t.slice(i,u),i=u+l.length,c){o+=c[1];continue}var d=t[i],h=a[2],f=a[3],m=a[4],v=a[5],b=a[6],g=a[7];o&&(n.push(o),o="");var p=h!=null&&d!=null&&d!==h,y=b==="+"||b==="*",w=b==="?"||b==="*",k=h||s,S=m||v,I=h||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:f||r++,prefix:h||"",delimiter:k,optional:w,repeat:y,partial:p,asterisk:!!g,pattern:S?uI(S):g?".*":sI(k,I)})}return i<t.length&&(o+=t.substr(i)),o&&n.push(o),n}function sI(t,e){return!e||e.indexOf(t)>-1?"[^"+Yr(t)+"]+?":Yr(e)+"|(?:(?!"+Yr(e)+")[^"+Yr(t)+"])+?"}function aI(t,e){return Bw(hp(t,e),e)}function lI(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function cI(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Bw(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",pp(e)));return function(i,o){for(var s="",a=i||{},l=o||{},c=l.pretty?lI:encodeURIComponent,u=0;u<t.length;u++){var d=t[u];if(typeof d=="string"){s+=d;continue}var h=a[d.name],f;if(h==null)if(d.optional){d.partial&&(s+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(Nl(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var m=0;m<h.length;m++){if(f=c(h[m]),!n[u].test(f))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(f)+"`");s+=(m===0?d.prefix:d.delimiter)+f}continue}if(f=d.asterisk?cI(h):c(h),!n[u].test(f))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+f+'"');s+=d.prefix+f}return s}}function Yr(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function uI(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function fp(t,e){return t.keys=e,t}function pp(t){return t&&t.sensitive?"":"i"}function dI(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return fp(t,e)}function hI(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(jw(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",pp(n));return fp(o,e)}function fI(t,e,n){return Hw(hp(t,n),e,n)}function Hw(t,e,n){Nl(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,o="",s=0;s<t.length;s++){var a=t[s];if(typeof a=="string")o+=Yr(a);else{var l=Yr(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+l+c+")*"),a.optional?a.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",o+=c}}var u=Yr(n.delimiter||"/"),d=o.slice(-u.length)===u;return r||(o=(d?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),i?o+="$":o+=r&&d?"":"(?="+u+"|$)",fp(new RegExp("^"+o,pp(n)),e)}function jw(t,e,n){return Nl(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?dI(t,e):Nl(t)?hI(t,e,n):fI(t,e,n)}var pI=yo.exports;const zw=Vs(pI);var ve={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ke=typeof Symbol=="function"&&Symbol.for,mp=Ke?Symbol.for("react.element"):60103,gp=Ke?Symbol.for("react.portal"):60106,Oc=Ke?Symbol.for("react.fragment"):60107,Ac=Ke?Symbol.for("react.strict_mode"):60108,Nc=Ke?Symbol.for("react.profiler"):60114,Lc=Ke?Symbol.for("react.provider"):60109,Dc=Ke?Symbol.for("react.context"):60110,vp=Ke?Symbol.for("react.async_mode"):60111,$c=Ke?Symbol.for("react.concurrent_mode"):60111,Mc=Ke?Symbol.for("react.forward_ref"):60112,Fc=Ke?Symbol.for("react.suspense"):60113,mI=Ke?Symbol.for("react.suspense_list"):60120,Uc=Ke?Symbol.for("react.memo"):60115,Bc=Ke?Symbol.for("react.lazy"):60116,gI=Ke?Symbol.for("react.block"):60121,vI=Ke?Symbol.for("react.fundamental"):60117,yI=Ke?Symbol.for("react.responder"):60118,_I=Ke?Symbol.for("react.scope"):60119;function At(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mp:switch(t=t.type,t){case vp:case $c:case Oc:case Nc:case Ac:case Fc:return t;default:switch(t=t&&t.$$typeof,t){case Dc:case Mc:case Bc:case Uc:case Lc:return t;default:return e}}case gp:return e}}}function Ww(t){return At(t)===$c}ve.AsyncMode=vp;ve.ConcurrentMode=$c;ve.ContextConsumer=Dc;ve.ContextProvider=Lc;ve.Element=mp;ve.ForwardRef=Mc;ve.Fragment=Oc;ve.Lazy=Bc;ve.Memo=Uc;ve.Portal=gp;ve.Profiler=Nc;ve.StrictMode=Ac;ve.Suspense=Fc;ve.isAsyncMode=function(t){return Ww(t)||At(t)===vp};ve.isConcurrentMode=Ww;ve.isContextConsumer=function(t){return At(t)===Dc};ve.isContextProvider=function(t){return At(t)===Lc};ve.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mp};ve.isForwardRef=function(t){return At(t)===Mc};ve.isFragment=function(t){return At(t)===Oc};ve.isLazy=function(t){return At(t)===Bc};ve.isMemo=function(t){return At(t)===Uc};ve.isPortal=function(t){return At(t)===gp};ve.isProfiler=function(t){return At(t)===Nc};ve.isStrictMode=function(t){return At(t)===Ac};ve.isSuspense=function(t){return At(t)===Fc};ve.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Oc||t===$c||t===Nc||t===Ac||t===Fc||t===mI||typeof t=="object"&&t!==null&&(t.$$typeof===Bc||t.$$typeof===Uc||t.$$typeof===Lc||t.$$typeof===Dc||t.$$typeof===Mc||t.$$typeof===vI||t.$$typeof===yI||t.$$typeof===_I||t.$$typeof===gI)};ve.typeOf=At;function Vw(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var Gw={exports:{}},me={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xe=typeof Symbol=="function"&&Symbol.for,yp=Xe?Symbol.for("react.element"):60103,_p=Xe?Symbol.for("react.portal"):60106,Hc=Xe?Symbol.for("react.fragment"):60107,jc=Xe?Symbol.for("react.strict_mode"):60108,zc=Xe?Symbol.for("react.profiler"):60114,Wc=Xe?Symbol.for("react.provider"):60109,Vc=Xe?Symbol.for("react.context"):60110,wp=Xe?Symbol.for("react.async_mode"):60111,Gc=Xe?Symbol.for("react.concurrent_mode"):60111,Yc=Xe?Symbol.for("react.forward_ref"):60112,qc=Xe?Symbol.for("react.suspense"):60113,wI=Xe?Symbol.for("react.suspense_list"):60120,Kc=Xe?Symbol.for("react.memo"):60115,Xc=Xe?Symbol.for("react.lazy"):60116,bI=Xe?Symbol.for("react.block"):60121,EI=Xe?Symbol.for("react.fundamental"):60117,SI=Xe?Symbol.for("react.responder"):60118,CI=Xe?Symbol.for("react.scope"):60119;function Nt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yp:switch(t=t.type,t){case wp:case Gc:case Hc:case zc:case jc:case qc:return t;default:switch(t=t&&t.$$typeof,t){case Vc:case Yc:case Xc:case Kc:case Wc:return t;default:return e}}case _p:return e}}}function Yw(t){return Nt(t)===Gc}me.AsyncMode=wp;me.ConcurrentMode=Gc;me.ContextConsumer=Vc;me.ContextProvider=Wc;me.Element=yp;me.ForwardRef=Yc;me.Fragment=Hc;me.Lazy=Xc;me.Memo=Kc;me.Portal=_p;me.Profiler=zc;me.StrictMode=jc;me.Suspense=qc;me.isAsyncMode=function(t){return Yw(t)||Nt(t)===wp};me.isConcurrentMode=Yw;me.isContextConsumer=function(t){return Nt(t)===Vc};me.isContextProvider=function(t){return Nt(t)===Wc};me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yp};me.isForwardRef=function(t){return Nt(t)===Yc};me.isFragment=function(t){return Nt(t)===Hc};me.isLazy=function(t){return Nt(t)===Xc};me.isMemo=function(t){return Nt(t)===Kc};me.isPortal=function(t){return Nt(t)===_p};me.isProfiler=function(t){return Nt(t)===zc};me.isStrictMode=function(t){return Nt(t)===jc};me.isSuspense=function(t){return Nt(t)===qc};me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Hc||t===Gc||t===zc||t===jc||t===qc||t===wI||typeof t=="object"&&t!==null&&(t.$$typeof===Xc||t.$$typeof===Kc||t.$$typeof===Wc||t.$$typeof===Vc||t.$$typeof===Yc||t.$$typeof===EI||t.$$typeof===SI||t.$$typeof===CI||t.$$typeof===bI)};me.typeOf=Nt;Gw.exports=me;var TI=Gw.exports,bp=TI,kI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},II={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},qw={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ep={};Ep[bp.ForwardRef]=xI;Ep[bp.Memo]=qw;function sv(t){return bp.isMemo(t)?qw:Ep[t.$$typeof]||kI}var PI=Object.defineProperty,RI=Object.getOwnPropertyNames,av=Object.getOwnPropertySymbols,OI=Object.getOwnPropertyDescriptor,AI=Object.getPrototypeOf,lv=Object.prototype;function Kw(t,e,n){if(typeof e!="string"){if(lv){var r=AI(e);r&&r!==lv&&Kw(t,r,n)}var i=RI(e);av&&(i=i.concat(av(e)));for(var o=sv(t),s=sv(e),a=0;a<i.length;++a){var l=i[a];if(!II[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var c=OI(e,l);try{PI(t,l,c)}catch(u){}}}}return t}var NI=Kw;const LI=Vs(NI);var Qu=1073741823,cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function DI(){var t="__global_unique_id__";return cv[t]=(cv[t]||0)+1}function $I(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function MI(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return t},set:function(r,i){t=r,e.forEach(function(o){return o(t,i)})}}}function FI(t){return Array.isArray(t)?t[0]:t}function UI(t,e){var n,r,i="__create-react-context-"+DI()+"__",o=function(a){Sr(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=a.call.apply(a,[this].concat(h))||this,u.emitter=MI(u.props.value),u}var c=l.prototype;return c.getChildContext=function(){var d;return d={},d[i]=this.emitter,d},c.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,f=d.value,m;$I(h,f)?m=0:(m=typeof e=="function"?e(h,f):Qu,m|=0,m!==0&&this.emitter.set(d.value,m))}},c.render=function(){return this.props.children},l}(R.Component);o.childContextTypes=(n={},n[i]=Jg.object.isRequired,n);var s=function(a){Sr(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=a.call.apply(a,[this].concat(h))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(m,v){var b=u.observedBits|0;b&v&&u.setState({value:u.getValue()})},u}var c=l.prototype;return c.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h==null?Qu:h},c.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d==null?Qu:d},c.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},c.getValue=function(){return this.context[i]?this.context[i].get():t},c.render=function(){return FI(this.props.children)(this.state.value)},l}(R.Component);return s.contextTypes=(r={},r[i]=Jg.object,r),{Provider:o,Consumer:s}}var BI=R.createContext||UI,Xw=function(e){var n=BI();return n.displayName=e,n},Qw=Xw("Router-History"),oi=Xw("Router"),Qs=function(t){Sr(e,t),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=t.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(o){i._pendingLocation=o})),i}var n=e.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){i._isMounted&&i.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return R.createElement(oi.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},R.createElement(Qw.Provider,{children:this.props.children||null,value:this.props.history}))},e}(R.Component);R.Component;var HI=function(t){Sr(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(i){this.props.onUpdate&&this.props.onUpdate.call(this,this,i)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(R.Component),Ju={},jI=1e4,uv=0;function zI(t){if(Ju[t])return Ju[t];var e=zw.compile(t);return uv<jI&&(Ju[t]=e,uv++),e}function dv(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:zI(t)(e,{pretty:!0})}function WI(t){var e=t.computedMatch,n=t.to,r=t.push,i=r===void 0?!1:r;return R.createElement(oi.Consumer,null,function(o){o||gi();var s=o.history,a=o.staticContext,l=i?s.push:s.replace,c=gt(e?typeof n=="string"?dv(n,e.params):St({},n,{pathname:dv(n.pathname,e.params)}):n);return a?(l(c),null):R.createElement(HI,{onMount:function(){l(c)},onUpdate:function(d,h){var f=gt(h.to);qk(f,St({},c,{key:f.key}))||l(c)},to:n})})}var hv={},VI=1e4,fv=0;function GI(t,e){var n=""+e.end+e.strict+e.sensitive,r=hv[n]||(hv[n]={});if(r[t])return r[t];var i=[],o=zw(t,i,e),s={regexp:o,keys:i};return fv<VI&&(r[t]=s,fv++),s}function Sp(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=i===void 0?!1:i,s=n.strict,a=s===void 0?!1:s,l=n.sensitive,c=l===void 0?!1:l,u=[].concat(r);return u.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var f=GI(h,{end:o,strict:a,sensitive:c}),m=f.regexp,v=f.keys,b=m.exec(t);if(!b)return null;var g=b[0],p=b.slice(1),y=t===g;return o&&!y?null:{path:h,url:h==="/"&&g===""?"/":g,isExact:y,params:v.reduce(function(w,k,S){return w[k.name]=p[S],w},{})}},null)}function YI(t){return R.Children.count(t)===0}var Yo=function(t){Sr(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return R.createElement(oi.Consumer,null,function(o){o||gi();var s=i.props.location||o.location,a=i.props.computedMatch?i.props.computedMatch:i.props.path?Sp(s.pathname,i.props):o.match,l=St({},o,{location:s,match:a}),c=i.props,u=c.children,d=c.component,h=c.render;return Array.isArray(u)&&YI(u)&&(u=null),R.createElement(oi.Provider,{value:l},l.match?u?typeof u=="function"?u(l):u:d?R.createElement(d,l):h?h(l):null:typeof u=="function"?u(l):null)})},e}(R.Component);function Cp(t){return t.charAt(0)==="/"?t:"/"+t}function qI(t,e){return t?St({},e,{pathname:Cp(t)+e.pathname}):e}function KI(t,e){if(!t)return e;var n=Cp(t);return e.pathname.indexOf(n)!==0?e:St({},e,{pathname:e.pathname.substr(n.length)})}function pv(t){return typeof t=="string"?t:Ft(t)}function Zu(t){return function(){gi()}}function mv(){}R.Component;R.Component;function XI(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(i){var o=i.wrappedComponentRef,s=Vw(i,["wrappedComponentRef"]);return R.createElement(oi.Consumer,null,function(a){return a||gi(),R.createElement(t,St({},s,a,{ref:o}))})};return n.displayName=e,n.WrappedComponent=t,LI(n,t)}var Jw=R.useContext;function Zw(){return Jw(Qw)}function eb(){var t=Jw(oi).match;return t?t.params:{}}const QI="modulepreload",JI=function(t){return"/"+t},gv={},cn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=JI(a),a in gv)return;gv[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(a,'"]').concat(c)))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":QI,l||(u.as="script",u.crossOrigin=""),u.href=a,s&&u.setAttribute("nonce",s),document.head.appendChild(u),l)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error("Unable to preload CSS for ".concat(a))))})}))}return i.then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var Ht={hasRenderFn:!0,reflect:!0,scoped:!0,updatable:!0,vdomRender:!0,hydrateServerSide:!1,lazyLoad:!1,slotRelocation:!0,experimentalSlotFixes:!1},ZI=Object.defineProperty,ex=(t,e)=>{for(var n in e)ZI(t,n,{get:e[n],enumerable:!0})},tx={isBrowser:!0},tb=new WeakMap,Or=t=>tb.get(t),nx=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return tb.set(t,n)},vv=(t,e)=>e in t,Js=(t,e)=>(0,console.error)(t,e),Ll=new Map,nb=[],rx="slot-fb{display:contents}slot-fb[hidden]{display:none}",yv="http://www.w3.org/1999/xlink",Zs=typeof window<"u"?window:{},tn=Zs.document||{head:{}},on=Zs.HTMLElement||class{},qe={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},ix=t=>{Object.assign(qe,t)},ox=(()=>{let t=!1;try{tn.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(e){}return t})(),sx=t=>Promise.resolve(t),ax=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(t){}return!1})(),Ch=!1,Th=[],rb=[],ib=(t,e)=>n=>{t.push(n),Ch||(Ch=!0,e&&qe.$flags$&4?lx(kh):qe.raf(kh))},_v=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Js(n)}t.length=0},kh=()=>{_v(Th),_v(rb),(Ch=Th.length>0)&&qe.raf(kh)},lx=t=>sx().then(t),Ih=ib(Th,!1),Tp=ib(rb,!0),ob=t=>{const e=new URL(t,qe.$resourcesUrl$);return e.origin!==Zs.location.origin?e.href:e.pathname},wv={},cx="http://www.w3.org/2000/svg",ux="http://www.w3.org/1999/xhtml",dx=t=>t!=null,kp=t=>(t=typeof t,t==="object"||t==="function");function hx(t){var e,n,r;return(r=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}var fx={};ex(fx,{err:()=>sb,map:()=>px,ok:()=>xh,unwrap:()=>mx,unwrapErr:()=>gx});var xh=t=>({isOk:!0,isErr:!1,value:t}),sb=t=>({isOk:!1,isErr:!0,value:t});function px(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(r=>xh(r)):xh(n)}if(t.isErr){const n=t.value;return sb(n)}throw"should never get here"}var mx=t=>{if(t.isOk)return t.value;throw t.value},gx=t=>{if(t.isErr)return t.value;throw t.value},si=(t,e="")=>()=>{},Q=(t,e,...n)=>{let r=null,i=null,o=null,s=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)r=d[h],Array.isArray(r)?c(r):r!=null&&typeof r!="boolean"&&((s=typeof t!="function"&&!kp(r))&&(r=String(r)),s&&a?l[l.length-1].$text$+=r:l.push(s?Dl(null,r):r),a=s)};if(c(n),e){e.key&&(i=e.key),e.name&&(o=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,yx);const u=Dl(t,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=i,u.$name$=o,u},Dl=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},jn={},vx=t=>t&&t.$tag$===jn,yx={forEach:(t,e)=>t.map(bv).forEach(e),map:(t,e)=>t.map(bv).map(e).map(_x)},bv=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),_x=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),Q(t.vtag,n,...t.vchildren||[])}const e=Dl(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},wx=t=>nb.map(e=>e(t)).find(e=>!!e),bx=t=>nb.push(t),Ex=t=>Or(t).$modeName$,Sx=(t,e)=>t!=null&&!kp(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,Cx=t=>t,De=(t,e,n)=>{const r=Cx(t);return{emit:i=>Tx(r,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:i})}},Tx=(t,e,n)=>{const r=qe.ce(e,n);return t.dispatchEvent(r),r},Ev=new WeakMap,kx=(t,e,n)=>{let r=Ll.get(t);ax&&n?(r=r||new CSSStyleSheet,typeof r=="string"?r=e:r.replaceSync(e)):r=e,Ll.set(t,r)},Ix=(t,e,n)=>{var r;const i=ab(e,n),o=Ll.get(i);if(t=t.nodeType===11?t:tn,o)if(typeof o=="string"){t=t.head||t;let s=Ev.get(t),a;if(s||Ev.set(t,s=new Set),!s.has(i)){{a=tn.createElement("style"),a.innerHTML=o;const l=(r=qe.$nonce$)!=null?r:hx(tn);l!=null&&a.setAttribute("nonce",l),(!(e.$flags$&1)||e.$flags$&1&&t.nodeName!=="HEAD")&&t.insertBefore(a,t.querySelector("link"))}e.$flags$&4&&(a.innerHTML+=rx),s&&s.add(i)}}else t.adoptedStyleSheets.includes(o)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,o]);return i},xx=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,i=si("attachStyles",e.$tagName$),o=Ix(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);r&10&&r&2&&(n["s-sc"]=o,n.classList.add(o+"-h"),r&2&&n.classList.add(o+"-s")),i()},ab=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),Sv=(t,e,n,r,i,o)=>{if(n!==r){let s=vv(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,c=Cv(n),u=Cv(r);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in n)(!r||r[l]==null)&&(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in r)(!n||r[l]!==n[l])&&(l.includes("-")?t.style.setProperty(l,r[l]):t.style[l]=r[l])}else if(e!=="key")if(e==="ref")r&&r(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):vv(Zs,a)?e=a.slice(2):e=a[2]+e.slice(3),n||r){const l=e.endsWith(lb);e=e.replace(Rx,""),n&&qe.rel(t,e,n,l),r&&qe.ael(t,e,r,l)}}else{const l=kp(r);if((s||l&&r!==null)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{const u=r==null?"":r;e==="list"?s=!1:(n==null||t[e]!=u)&&(t[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),r==null||r===!1?(r!==!1||t.getAttribute(e)==="")&&(c?t.removeAttributeNS(yv,e):t.removeAttribute(e)):(!s||o&4||i)&&!l&&(r=r===!0?"":r,c?t.setAttributeNS(yv,e,r):t.setAttribute(e,r))}}},Px=/\s/,Cv=t=>t?t.split(Px):[],lb="Capture",Rx=new RegExp(lb+"$"),cb=(t,e,n)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||wv,o=e.$attrs$||wv;for(const s of Tv(Object.keys(i)))s in o||Sv(r,s,i[s],void 0,n,e.$flags$);for(const s of Tv(Object.keys(o)))Sv(r,s,i[s],o[s],n,e.$flags$)};function Tv(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var Si,Ph,so,$l=!1,Ml=!1,Ip=!1,kt=!1,Fl=(t,e,n,r)=>{var i;const o=e.$children$[n];let s=0,a,l,c;if($l||(Ip=!0,o.$tag$==="slot"&&(Si&&r.classList.add(Si+"-s"),o.$flags$|=o.$children$?2:1)),o.$text$!==null)a=o.$elm$=tn.createTextNode(o.$text$);else if(o.$flags$&1)a=o.$elm$=tn.createTextNode("");else{if(kt||(kt=o.$tag$==="svg"),a=o.$elm$=tn.createElementNS(kt?cx:ux,!$l&&Ht.slotRelocation&&o.$flags$&2?"slot-fb":o.$tag$),kt&&o.$tag$==="foreignObject"&&(kt=!1),cb(null,o,kt),!!a.getRootNode().querySelector("body")&&Ht.scoped&&dx(Si)&&a["s-si"]!==Si&&a.classList.add(a["s-si"]=Si),Pp(a,r),o.$children$)for(s=0;s<o.$children$.length;++s)l=Fl(t,o,s,a),l&&a.appendChild(l);o.$tag$==="svg"?kt=!1:a.tagName==="foreignObject"&&(kt=!0)}return a["s-hn"]=so,o.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=Ph,a["s-sn"]=o.$name$||"",a["s-rf"]=(i=o.$attrs$)==null?void 0:i.ref,c=t&&t.$children$&&t.$children$[n],c&&c.$tag$===o.$tag$&&t.$elm$&&xs(t.$elm$,!1)),a},xs=(t,e)=>{qe.$flags$|=1;const n=Array.from(t.childNodes);if(t["s-sr"]&&Ht.experimentalSlotFixes){let r=t;for(;r=r.nextSibling;)r&&r["s-sn"]===t["s-sn"]&&r["s-sh"]===so&&n.push(r)}for(let r=n.length-1;r>=0;r--){const i=n[r];i["s-hn"]!==so&&i["s-ol"]&&(pr(hb(i),i,xp(i)),i["s-ol"].remove(),i["s-ol"]=void 0,i["s-sh"]=void 0,Ip=!0),e&&xs(i,e)}qe.$flags$&=-2},ub=(t,e,n,r,i,o)=>{let s=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(s.shadowRoot&&s.tagName===so&&(s=s.shadowRoot);i<=o;++i)r[i]&&(a=Fl(null,n,i,t),a&&(r[i].$elm$=a,pr(s,a,xp(e))))},db=(t,e,n)=>{for(let r=e;r<=n;++r){const i=t[r];if(i){const o=i.$elm$;mb(i),o&&(Ml=!0,o["s-ol"]?o["s-ol"].remove():xs(o,!0),o.remove())}}},Ox=(t,e,n,r,i=!1)=>{let o=0,s=0,a=0,l=0,c=e.length-1,u=e[0],d=e[c],h=r.length-1,f=r[0],m=r[h],v,b;for(;o<=c&&s<=h;)if(u==null)u=e[++o];else if(d==null)d=e[--c];else if(f==null)f=r[++s];else if(m==null)m=r[--h];else if(La(u,f,i))Ci(u,f,i),u=e[++o],f=r[++s];else if(La(d,m,i))Ci(d,m,i),d=e[--c],m=r[--h];else if(La(u,m,i))(u.$tag$==="slot"||m.$tag$==="slot")&&xs(u.$elm$.parentNode,!1),Ci(u,m,i),pr(t,u.$elm$,d.$elm$.nextSibling),u=e[++o],m=r[--h];else if(La(d,f,i))(u.$tag$==="slot"||m.$tag$==="slot")&&xs(d.$elm$.parentNode,!1),Ci(d,f,i),pr(t,d.$elm$,u.$elm$),d=e[--c],f=r[++s];else{for(a=-1,l=o;l<=c;++l)if(e[l]&&e[l].$key$!==null&&e[l].$key$===f.$key$){a=l;break}a>=0?(b=e[a],b.$tag$!==f.$tag$?v=Fl(e&&e[s],n,a,t):(Ci(b,f,i),e[a]=void 0,v=b.$elm$),f=r[++s]):(v=Fl(e&&e[s],n,s,t),f=r[++s]),v&&pr(hb(u.$elm$),v,xp(u.$elm$))}o>c?ub(t,r[h+1]==null?null:r[h+1].$elm$,n,r,s,h):s>h&&db(e,o,c)},La=(t,e,n=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?"$nodeId$"in t&&n&&t.$elm$.nodeType!==8?!1:t.$name$===e.$name$:n?!0:t.$key$===e.$key$:!1,xp=t=>t&&t["s-ol"]||t,hb=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,Ci=(t,e,n=!1)=>{const r=e.$elm$=t.$elm$,i=t.$children$,o=e.$children$,s=e.$tag$,a=e.$text$;let l;a===null?(kt=s==="svg"?!0:s==="foreignObject"?!1:kt,s==="slot"&&!$l||cb(t,e,kt),i!==null&&o!==null?Ox(r,i,e,o,n):o!==null?(t.$text$!==null&&(r.textContent=""),ub(r,null,e,o,0,o.length-1)):!n&&Ht.updatable&&i!==null&&db(i,0,i.length-1),kt&&s==="svg"&&(kt=!1)):(l=r["s-cr"])?l.parentNode.textContent=a:t.$text$!==a&&(r.data=a)},fb=t=>{const e=t.childNodes;for(const n of e)if(n.nodeType===1){if(n["s-sr"]){const r=n["s-sn"];n.hidden=!1;for(const i of e)if(i!==n){if(i["s-hn"]!==n["s-hn"]||r!==""){if(i.nodeType===1&&(r===i.getAttribute("slot")||r===i["s-sn"])||i.nodeType===3&&r===i["s-sn"]){n.hidden=!0;break}}else if(i.nodeType===1||i.nodeType===3&&i.textContent.trim()!==""){n.hidden=!0;break}}}fb(n)}},En=[],pb=t=>{let e,n,r;for(const i of t.childNodes){if(i["s-sr"]&&(e=i["s-cr"])&&e.parentNode){n=e.parentNode.childNodes;const o=i["s-sn"];for(r=n.length-1;r>=0;r--)if(e=n[r],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==i["s-hn"]&&!Ht.experimentalSlotFixes)if(kv(e,o)){let s=En.find(a=>a.$nodeToRelocate$===e);Ml=!0,e["s-sn"]=e["s-sn"]||o,s?(s.$nodeToRelocate$["s-sh"]=i["s-hn"],s.$slotRefNode$=i):(e["s-sh"]=i["s-hn"],En.push({$slotRefNode$:i,$nodeToRelocate$:e})),e["s-sr"]&&En.map(a=>{kv(a.$nodeToRelocate$,e["s-sn"])&&(s=En.find(l=>l.$nodeToRelocate$===e),s&&!a.$slotRefNode$&&(a.$slotRefNode$=s.$slotRefNode$))})}else En.some(s=>s.$nodeToRelocate$===e)||En.push({$nodeToRelocate$:e})}i.nodeType===1&&pb(i)}},kv=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",mb=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(mb)},pr=(t,e,n)=>{const r=t==null?void 0:t.insertBefore(e,n);return Pp(e,t),r},gb=t=>{const e=[];return t&&e.push(...t["s-scs"]||[],t["s-si"],t["s-sc"],...gb(t.parentElement)),e},Pp=(t,e,n=!1)=>{var r;if(t&&e&&t.nodeType===1){const i=new Set(gb(e).filter(Boolean));if(i.size&&((r=t.classList)==null||r.add(...t["s-scs"]=[...i]),t["s-ol"]||n))for(const o of Array.from(t.childNodes))Pp(o,t,!0)}},Ax=(t,e,n=!1)=>{var r,i,o,s,a;const l=t.$hostElement$,c=t.$cmpMeta$,u=t.$vnode$||Dl(null,null),d=vx(e)?e:Q(null,null,e);if(so=l.tagName,c.$attrsToReflect$&&(d.$attrs$=d.$attrs$||{},c.$attrsToReflect$.map(([h,f])=>d.$attrs$[f]=l[h])),n&&d.$attrs$)for(const h of Object.keys(d.$attrs$))l.hasAttribute(h)&&!["key","ref","style","class"].includes(h)&&(d.$attrs$[h]=l[h]);d.$tag$=null,d.$flags$|=4,t.$vnode$=d,d.$elm$=u.$elm$=l.shadowRoot||l,Si=l["s-sc"],$l=(c.$flags$&1)!==0,Ph=l["s-cr"],Ml=!1,Ci(u,d,n);{if(qe.$flags$|=1,Ip){pb(d.$elm$);for(const h of En){const f=h.$nodeToRelocate$;if(!f["s-ol"]){const m=tn.createTextNode("");m["s-nr"]=f,pr(f.parentNode,f["s-ol"]=m,f)}}for(const h of En){const f=h.$nodeToRelocate$,m=h.$slotRefNode$;if(m){const v=m.parentNode;let b=m.nextSibling;{let g=(r=f["s-ol"])==null?void 0:r.previousSibling;for(;g;){let p=(i=g["s-nr"])!=null?i:null;if(p&&p["s-sn"]===f["s-sn"]&&v===p.parentNode){for(p=p.nextSibling;p===f||p!=null&&p["s-sr"];)p=p==null?void 0:p.nextSibling;if(!p||!p["s-nr"]){b=p;break}}g=g.previousSibling}}(!b&&v!==f.parentNode||f.nextSibling!==b)&&f!==b&&(!f["s-hn"]&&f["s-ol"]&&(f["s-hn"]=f["s-ol"].parentNode.nodeName),pr(v,f,b),f.nodeType===1&&(f.hidden=(o=f["s-ih"])!=null?o:!1)),f&&typeof m["s-rf"]=="function"&&m["s-rf"](f)}else f.nodeType===1&&(n&&(f["s-ih"]=(s=f.hidden)!=null?s:!1),f.hidden=!0)}}Ml&&fb(d.$elm$),qe.$flags$&=-2,En.length=0}if(Ht.experimentalScopedSlotChanges&&c.$flags$&2)for(const h of d.$elm$.childNodes)h["s-hn"]!==so&&!h["s-sh"]&&(n&&h["s-ih"]==null&&(h["s-ih"]=(a=h.hidden)!=null?a:!1),h.hidden=!0);Ph=void 0},Nx=(t,e)=>{},Rp=(t,e)=>(t.$flags$|=16,Nx(t,t.$ancestorComponent$),Tp(()=>Lx(t,e))),Lx=(t,e)=>{const n=t.$hostElement$,r=si("scheduleUpdate",t.$cmpMeta$.$tagName$),i=n;if(!i)throw new Error("Can't render component <".concat(n.tagName.toLowerCase()," /> with invalid Stencil runtime! Make sure this imported component is compiled with a `externalRuntime: true` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime"));let o;return e?o=Yi(i,"componentWillLoad"):o=Yi(i,"componentWillUpdate"),o=Iv(o,()=>Yi(i,"componentWillRender")),r(),Iv(o,()=>$x(t,i,e))},Iv=(t,e)=>Dx(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),Dx=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",$x=async(t,e,n)=>{const r=t.$hostElement$,i=si("update",t.$cmpMeta$.$tagName$);r["s-rc"],n&&xx(t);const o=si("render",t.$cmpMeta$.$tagName$);Mx(t,e,r,n),o(),i(),Fx(t)},xv=null,Mx=(t,e,n,r)=>{try{xv=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(Ht.hasRenderFn||Ht.reflect)&&(Ht.vdomRender||Ht.reflect)&&(Ht.hydrateServerSide||Ax(t,e,r))}catch(l){Js(l,t.$hostElement$)}return xv=null,null},Fx=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,r=si("postUpdate",e),i=n;t.$ancestorComponent$,Yi(i,"componentDidRender"),t.$flags$&64?(Yi(i,"componentDidUpdate"),r()):(t.$flags$|=64,Yi(i,"componentDidLoad"),r())},Pv=t=>{{const e=Or(t),n=e.$hostElement$.isConnected;return n&&(e.$flags$&18)===2&&Rp(e,!1),n}},Yi=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(r){Js(r)}},Ux=(t,e)=>Or(t).$instanceValues$.get(e),Bx=(t,e,n,r)=>{const i=Or(t),o=t,s=i.$instanceValues$.get(e),a=i.$flags$,l=o;n=Sx(n,r.$members$[e][0]);const c=Number.isNaN(s)&&Number.isNaN(n);if(n!==s&&!c){i.$instanceValues$.set(e,n);{if(r.$watchers$&&a&128){const d=r.$watchers$[e];d&&d.map(h=>{try{l[h](n,s,e)}catch(f){Js(f,o)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,s,e)===!1)return;Rp(i,!1)}}}},Hx=(t,e,n)=>{var r,i;const o=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const s=Object.entries((r=e.$members$)!=null?r:{});s.map(([a,[l]])=>{(l&31||l&32)&&Object.defineProperty(o,a,{get(){return Ux(this,a)},set(c){Bx(this,a,c,e)},configurable:!0,enumerable:!0})});{const a=new Map;o.attributeChangedCallback=function(l,c,u){qe.jmp(()=>{var d;const h=a.get(l);if(this.hasOwnProperty(h))u=this[h],delete this[h];else{if(o.hasOwnProperty(h)&&typeof this[h]=="number"&&this[h]==u)return;if(h==null){const f=Or(this),m=f==null?void 0:f.$flags$;if(m&&!(m&8)&&m&128&&u!==c){const b=this,g=(d=e.$watchers$)==null?void 0:d[l];g==null||g.forEach(p=>{b[p]!=null&&b[p].call(b,u,c,l)})}return}}this[h]=u===null&&typeof this[h]=="boolean"?!1:u})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...s.filter(([l,c])=>c[0]&15).map(([l,c])=>{var u;const d=c[1]||l;return a.set(d,l),c[0]&512&&((u=e.$attrsToReflect$)==null||u.push([l,d])),d})]))}}return t},jx=async(t,e,n,r)=>{let i;if(!(e.$flags$&32)){e.$flags$|=32,n.$lazyBundleId$;{i=t.constructor;const s=t.localName;customElements.whenDefined(s).then(()=>e.$flags$|=128)}if(i&&i.style){let s;typeof i.style=="string"?s=i.style:typeof i.style!="string"&&(e.$modeName$=wx(t),e.$modeName$&&(s=i.style[e.$modeName$]));const a=ab(n,e.$modeName$);if(!Ll.has(a)){const l=si("registerStyles",n.$tagName$);kx(a,s,!!(n.$flags$&1)),l()}}}e.$ancestorComponent$,Rp(e,!0)},Rv=t=>{},zx=t=>{if(!(qe.$flags$&1)){const e=Or(t),n=e.$cmpMeta$,r=si("connectedCallback",n.$tagName$);e.$flags$&1?(vb(t,e,n.$listeners$),e!=null&&e.$lazyInstance$?Rv(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>Rv(e.$lazyInstance$))):(e.$flags$|=1,n.$flags$&12&&Wx(t),n.$members$&&Object.entries(n.$members$).map(([i,[o]])=>{if(o&31&&t.hasOwnProperty(i)){const s=t[i];delete t[i],t[i]=s}}),jx(t,e,n)),r()}},Wx=t=>{const e=t["s-cr"]=tn.createComment("");e["s-cn"]=!0,pr(t,e,t.firstChild)},Vx=async t=>{if(!(qe.$flags$&1)){const e=Or(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},yn=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const r=t.prototype.connectedCallback,i=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){nx(this,n)},connectedCallback(){const o=Or(this);vb(this,o,n.$listeners$),zx(this),r&&r.call(this)},disconnectedCallback(){Vx(this),i&&i.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error("Unable to re-use existing shadow root for ".concat(n.$tagName$,"! Mode is set to ").concat(this.shadowRoot.mode," but Stencil only supports open shadow roots."))}}),t.is=n.$tagName$,Hx(t,n)},vb=(t,e,n,r)=>{n&&n.map(([i,o,s])=>{const a=Yx(t,i),l=Gx(e,s),c=qx(i);qe.ael(a,o,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>qe.rel(a,o,l,c))})},Gx=(t,e)=>n=>{var r;try{Ht.lazyLoad||t.$hostElement$[e](n)}catch(i){Js(i)}},Yx=(t,e)=>e&4?tn:e&8?Zs:e&16?tn.body:t,qx=t=>ox?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ae=typeof window<"u"?window:void 0,fn=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let ed;const Kx=t=>{if(ed===void 0){const e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;ed=!e&&n?"-webkit-":""}return ed},td=(t,e,n)=>{const r=e.startsWith("animation")?Kx(t):"";t.style.setProperty(r+e,n)},Da=(t=[],e)=>{if(e!==void 0){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},gn=t=>{let e,n,r,i,o,s,a=[],l=[],c=[],u=!1,d,h={},f=[],m=[],v={},b=0,g=!1,p=!1,y,w,k,S=!0,I=!1,P=!0,T,A=!1;const G=t,V=[],te=[],se=[],ne=[],re=[],Le=[],D=[],N=[],O=[],W=[],B=[],le=typeof AnimationEffect=="function"||Ae!==void 0&&typeof Ae.AnimationEffect=="function",_=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&le,E=()=>B,x=C=>(re.forEach(z=>{z.destroy(C)}),M(C),ne.length=0,re.length=0,a.length=0,Me(),u=!1,P=!0,T),M=C=>{he(),C&&Qe()},U=()=>{g=!1,p=!1,P=!0,y=void 0,w=void 0,k=void 0,b=0,I=!1,S=!0,A=!1},X=()=>b!==0&&!A,q=(C,z)=>{const J=z.findIndex(Oe=>Oe.c===C);J>-1&&z.splice(J,1)},ae=(C,z)=>(se.push({c:C,o:z}),T),Te=(C,z)=>((z!=null&&z.oneTimeCallback?te:V).push({c:C,o:z}),T),Me=()=>(V.length=0,te.length=0,T),he=()=>{_&&(B.forEach(C=>{C.cancel()}),B.length=0)},Qe=()=>{Le.forEach(C=>{C!=null&&C.parentNode&&C.parentNode.removeChild(C)}),Le.length=0},Dr=C=>(D.push(C),T),_i=C=>(N.push(C),T),Wn=C=>(O.push(C),T),$r=C=>(W.push(C),T),ha=C=>(l=Da(l,C),T),fa=C=>(c=Da(c,C),T),FC=(C={})=>(h=C,T),UC=(C=[])=>{for(const z of C)h[z]="";return T},BC=C=>(f=Da(f,C),T),HC=C=>(m=Da(m,C),T),jC=(C={})=>(v=C,T),zC=(C=[])=>{for(const z of C)v[z]="";return T},_u=()=>o!==void 0?o:d?d.getFill():"both",pa=()=>y!==void 0?y:s!==void 0?s:d?d.getDirection():"normal",wu=()=>g?"linear":r!==void 0?r:d?d.getEasing():"linear",wi=()=>p?0:w!==void 0?w:n!==void 0?n:d?d.getDuration():0,bu=()=>i!==void 0?i:d?d.getIterations():1,Eu=()=>k!==void 0?k:e!==void 0?e:d?d.getDelay():0,WC=()=>a,VC=C=>(s=C,Dt(!0),T),GC=C=>(o=C,Dt(!0),T),YC=C=>(e=C,Dt(!0),T),qC=C=>(r=C,Dt(!0),T),KC=C=>(!_&&C===0&&(C=1),n=C,Dt(!0),T),XC=C=>(i=C,Dt(!0),T),QC=C=>(d=C,T),JC=C=>{if(C!=null)if(C.nodeType===1)ne.push(C);else if(C.length>=0)for(let z=0;z<C.length;z++)ne.push(C[z]);else console.error("Invalid addElement value");return T},ZC=C=>{if(C!=null)if(Array.isArray(C))for(const z of C)z.parent(T),re.push(z);else C.parent(T),re.push(C);return T},eT=C=>{const z=a!==C;return a=C,z&&tT(a),T},tT=C=>{_&&E().forEach(z=>{const J=z.effect;if(J.setKeyframes)J.setKeyframes(C);else{const Oe=new KeyframeEffect(J.target,C,J.getTiming());z.effect=Oe}})},nT=()=>{D.forEach(Oe=>Oe()),N.forEach(Oe=>Oe());const C=l,z=c,J=h;ne.forEach(Oe=>{const st=Oe.classList;C.forEach(sn=>st.add(sn)),z.forEach(sn=>st.remove(sn));for(const sn in J)J.hasOwnProperty(sn)&&td(Oe,sn,J[sn])})},rT=()=>{O.forEach(st=>st()),W.forEach(st=>st());const C=S?1:0,z=f,J=m,Oe=v;ne.forEach(st=>{const sn=st.classList;z.forEach(Mr=>sn.add(Mr)),J.forEach(Mr=>sn.remove(Mr));for(const Mr in Oe)Oe.hasOwnProperty(Mr)&&td(st,Mr,Oe[Mr])}),w=void 0,y=void 0,k=void 0,V.forEach(st=>st.c(C,T)),te.forEach(st=>st.c(C,T)),te.length=0,P=!0,S&&(I=!0),S=!0},ma=()=>{b!==0&&(b--,b===0&&(rT(),d&&d.animationFinish()))},iT=()=>{ne.forEach(C=>{const z=C.animate(a,{id:G,delay:Eu(),duration:wi(),easing:wu(),iterations:bu(),fill:_u(),direction:pa()});z.pause(),B.push(z)}),B.length>0&&(B[0].onfinish=()=>{ma()})},Mm=()=>{nT(),a.length>0&&_&&iT(),u=!0},xo=C=>{C=Math.min(Math.max(C,0),.9999),_&&B.forEach(z=>{z.currentTime=z.effect.getComputedTiming().delay+wi()*C,z.pause()})},Fm=C=>{B.forEach(z=>{z.effect.updateTiming({delay:Eu(),duration:wi(),easing:wu(),iterations:bu(),fill:_u(),direction:pa()})}),C!==void 0&&xo(C)},Dt=(C=!1,z=!0,J)=>(C&&re.forEach(Oe=>{Oe.update(C,z,J)}),_&&Fm(J),T),oT=(C=!1,z)=>(re.forEach(J=>{J.progressStart(C,z)}),Um(),g=C,u||Mm(),Dt(!1,!0,z),T),sT=C=>(re.forEach(z=>{z.progressStep(C)}),xo(C),T),aT=(C,z,J)=>(g=!1,re.forEach(Oe=>{Oe.progressEnd(C,z,J)}),J!==void 0&&(w=J),I=!1,S=!0,C===0?(y=pa()==="reverse"?"normal":"reverse",y==="reverse"&&(S=!1),_?(Dt(),xo(1-z)):(k=(1-z)*wi()*-1,Dt(!1,!1))):C===1&&(_?(Dt(),xo(z)):(k=z*wi()*-1,Dt(!1,!1))),C!==void 0&&!d&&Bm(),T),Um=()=>{u&&(_?B.forEach(C=>{C.pause()}):ne.forEach(C=>{td(C,"animation-play-state","paused")}),A=!0)},lT=()=>(re.forEach(C=>{C.pause()}),Um(),T),cT=()=>{ma()},uT=()=>{B.forEach(C=>{C.play()}),(a.length===0||ne.length===0)&&ma()},dT=()=>{_&&(xo(0),Fm())},Bm=C=>new Promise(z=>{C!=null&&C.sync&&(p=!0,Te(()=>p=!1,{oneTimeCallback:!0})),u||Mm(),I&&(dT(),I=!1),P&&(b=re.length+1,P=!1);const J=()=>{q(Oe,te),z()},Oe=()=>{q(J,se),z()};Te(Oe,{oneTimeCallback:!0}),ae(J,{oneTimeCallback:!0}),re.forEach(st=>{st.play()}),_?uT():cT(),A=!1}),hT=()=>{re.forEach(C=>{C.stop()}),u&&(he(),u=!1),U(),se.forEach(C=>C.c(0,T)),se.length=0},Hm=(C,z)=>{const J=a[0];return J!==void 0&&(J.offset===void 0||J.offset===0)?J[C]=z:a=[{offset:0,[C]:z},...a],T};return T={parentAnimation:d,elements:ne,childAnimations:re,id:G,animationFinish:ma,from:Hm,to:(C,z)=>{const J=a[a.length-1];return J!==void 0&&(J.offset===void 0||J.offset===1)?J[C]=z:a=[...a,{offset:1,[C]:z}],T},fromTo:(C,z,J)=>Hm(C,z).to(C,J),parent:QC,play:Bm,pause:lT,stop:hT,destroy:x,keyframes:eT,addAnimation:ZC,addElement:JC,update:Dt,fill:GC,direction:VC,iterations:XC,duration:KC,easing:qC,delay:YC,getWebAnimations:E,getKeyframes:WC,getFill:_u,getDirection:pa,getDelay:Eu,getIterations:bu,getEasing:wu,getDuration:wi,afterAddRead:Wn,afterAddWrite:$r,afterClearStyles:zC,afterStyles:jC,afterRemoveClass:HC,afterAddClass:BC,beforeAddRead:Dr,beforeAddWrite:_i,beforeClearStyles:UC,beforeStyles:FC,beforeRemoveClass:fa,beforeAddClass:ha,onFinish:Te,isRunning:X,progressStart:oT,progressStep:sT,progressEnd:aT}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class Xx{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const r=this.m.get(e);return r!==void 0?r:n}getBoolean(e,n=!1){const r=this.m.get(e);return r===void 0?n:typeof r=="string"?r==="true":!!r}getNumber(e,n){const r=parseFloat(this.m.get(e));return isNaN(r)?n!==void 0?n:NaN:r}set(e,n){this.m.set(e,n)}}const de=new Xx,Qx=t=>{try{const e=t.sessionStorage.getItem(yb);return e!==null?JSON.parse(e):{}}catch(e){return{}}},Jx=(t,e)=>{try{t.sessionStorage.setItem(yb,JSON.stringify(e))}catch(n){return}},Zx=t=>{const e={};return t.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,r])=>{try{return[decodeURIComponent(n),decodeURIComponent(r)]}catch(i){return["",""]}}).filter(([n])=>eP(n,Ov)).map(([n,r])=>[n.slice(Ov.length),r]).forEach(([n,r])=>{e[n]=r}),e},eP=(t,e)=>t.substr(0,e.length)===e,Ov="ionic:",yb="ionic-persist-config",tP=t=>_b(t),ir=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),tP(t).includes(e)),_b=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=nP(t),e.forEach(n=>t.document.documentElement.classList.add("plt-".concat(n)))),e},nP=t=>{const e=de.get("platform");return Object.keys(Av).filter(n=>{const r=e==null?void 0:e[n];return typeof r=="function"?r(t):Av[n](t)})},rP=t=>Qc(t)&&!bb(t),Op=t=>!!(ai(t,/iPad/i)||ai(t,/Macintosh/i)&&Qc(t)),iP=t=>ai(t,/iPhone/i),oP=t=>ai(t,/iPhone|iPod/i)||Op(t),wb=t=>ai(t,/android|sink/i),sP=t=>wb(t)&&!ai(t,/mobile/i),aP=t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},lP=t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return Op(t)||sP(t)||r>460&&r<820&&i>780&&i<1400},Qc=t=>hP(t,"(any-pointer:coarse)"),cP=t=>!Qc(t),bb=t=>Eb(t)||Sb(t),Eb=t=>!!(t.cordova||t.phonegap||t.PhoneGap),Sb=t=>{const e=t.Capacitor;return!!(e!=null&&e.isNative)},uP=t=>ai(t,/electron/i),dP=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},ai=(t,e)=>e.test(t.navigator.userAgent),hP=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},Av={ipad:Op,iphone:iP,ios:oP,android:wb,phablet:aP,tablet:lP,cordova:Eb,capacitor:Sb,electron:uP,pwa:dP,mobile:Qc,mobileweb:rP,desktop:cP,hybrid:bb};let Ti;const bt=t=>t&&Ex(t)||Ti,fP=(t={})=>{if(typeof window>"u")return;const e=window.document,n=window,r=n.Ionic=n.Ionic||{},i={};t._ael&&(i.ael=t._ael),t._rel&&(i.rel=t._rel),t._ce&&(i.ce=t._ce),ix(i);const o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qx(n)),{persistConfig:!1}),r.config),Zx(n)),t);de.reset(o),de.getBoolean("persistConfig")&&Jx(n,o),_b(n),r.config=de,r.mode=Ti=de.get("mode",e.documentElement.getAttribute("mode")||(ir(n,"ios")?"ios":"md")),de.set("mode",Ti),e.documentElement.setAttribute("mode",Ti),e.documentElement.classList.add(Ti),de.getBoolean("_testing")&&de.set("animated",!1);const s=l=>{var c;return(c=l.tagName)===null||c===void 0?void 0:c.startsWith("ION-")},a=l=>["ios","md"].includes(l);bx(l=>{for(;l;){const c=l.mode||l.getAttribute("mode");if(c){if(a(c))return c;s(l)&&console.warn('Invalid ionic mode: "'+c+'", expected: "ios" or "md"')}l=l.parentElement}return Ti})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const or=(t,...e)=>console.warn("[Ionic Warning]: ".concat(t),...e);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ps=(t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):Ap(()=>e(t))},Rh=t=>t.componentOnReady!==void 0,Cb=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},pP=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],mP=(t,e)=>Cb(t,pP),gP=(t,e,n,r)=>{var i;if(typeof window<"u"){const o=window,s=(i=o==null?void 0:o.Ionic)===null||i===void 0?void 0:i.config;if(s){const a=s.get("_ael");if(a)return a(t,e,n,r);if(s._ael)return s._ael(t,e,n,r)}}return t.addEventListener(e,n,r)},vP=(t,e,n,r)=>{var i;if(typeof window<"u"){const o=window,s=(i=o==null?void 0:o.Ionic)===null||i===void 0?void 0:i.config;if(s){const a=s.get("_rel");if(a)return a(t,e,n,r);if(s._rel)return s._rel(t,e,n,r)}}return t.removeEventListener(e,n,r)},_o=(t,e=t)=>t.shadowRoot||e,Ap=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),Tb=t=>{if(t.focus(),t.classList.contains("ion-focusable")){const e=t.closest("ion-app");e&&e.setFocus([t])}},KU=(t,e,n)=>Math.max(t,Math.min(e,n)),ft=(t,e)=>{if(!t){const n="ASSERT: "+e;console.error(n);debugger;throw new Error(n)}},XU=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const n=e[0];return{x:n.clientX,y:n.clientY}}if(t.pageX!==void 0)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},kb=(t,e)=>{if(t!=null||(t={}),e!=null||(e={}),t===e)return!0;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!(r in e)||t[r]!==e[r])return!1;return!0},yP="ionViewWillEnter",_P="ionViewDidEnter",Ib="ionViewWillLeave",xb="ionViewDidLeave",nd="ionViewWillUnload",Fo=t=>{t.tabIndex=-1,t.focus()},$a=t=>t.offsetParent!==null,wP=()=>({saveViewFocus:n=>{if(de.get("focusManagerPriority",!1)){const i=document.activeElement;i!==null&&(n!=null&&n.contains(i))&&i.setAttribute(Nv,"true")}},setViewFocus:n=>{const r=de.get("focusManagerPriority",!1);if(Array.isArray(r)&&!n.contains(document.activeElement)){const i=n.querySelector("[".concat(Nv,"]"));if(i&&$a(i)){Fo(i);return}for(const o of r)switch(o){case"content":const s=n.querySelector('main, [role="main"]');if(s&&$a(s)){Fo(s);return}break;case"heading":const a=n.querySelector('h1, [role="heading"][aria-level="1"]');if(a&&$a(a)){Fo(a);return}break;case"banner":const l=n.querySelector('header, [role="banner"]');if(l&&$a(l)){Fo(l);return}break;default:or("Unrecognized focus manager priority value ".concat(o));break}Fo(n)}}}),Nv="ion-last-focus",bP=()=>cn(()=>import("./ios.transition-CpMiOoix.js"),[]),EP=()=>cn(()=>import("./md.transition-OGRQFvpa.js"),[]),Pb=wP(),Rb=t=>new Promise((e,n)=>{Tp(()=>{SP(t),CP(t).then(r=>{r.animation&&r.animation.destroy(),Lv(t),e(r)},r=>{Lv(t),n(r)})})}),SP=t=>{const e=t.enteringEl,n=t.leavingEl;Pb.saveViewFocus(n),RP(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),Ah(e,!1),e.style.setProperty("pointer-events","none"),n&&(Ah(n,!1),n.style.setProperty("pointer-events","none"))},CP=async t=>{const e=await TP(t);return e&&tx.isBrowser?kP(e,t):IP(t)},Lv=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),Pb.setViewFocus(e)},TP=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await bP()).iosTransitionAnimation:(await EP()).mdTransitionAnimation,kP=async(t,e)=>{await Ob(e,!0);const n=t(e.baseEl,e);Ab(e.enteringEl,e.leavingEl);const r=await PP(n,e);return e.progressCallback&&e.progressCallback(void 0),r&&Nb(e.enteringEl,e.leavingEl),{hasCompleted:r,animation:n}},IP=async t=>{const e=t.enteringEl,n=t.leavingEl,r=de.get("focusManagerPriority",!1);return await Ob(t,r),Ab(e,n),Nb(e,n),{hasCompleted:!0}},Ob=async(t,e)=>{(t.deepWait!==void 0?t.deepWait:e)&&await Promise.all([Oh(t.enteringEl),Oh(t.leavingEl)]),await xP(t.viewIsReady,t.enteringEl)},xP=async(t,e)=>{t&&await t(e)},PP=(t,e)=>{const n=e.progressCallback,r=new Promise(i=>{t.onFinish(o=>i(o===1))});return n?(t.progressStart(!0),n(t)):t.play(),r},Ab=(t,e)=>{Sn(e,Ib),Sn(t,yP)},Nb=(t,e)=>{Sn(t,_P),Sn(e,xb)},Sn=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},Oh=async t=>{const e=t;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(r=>Ap(r));return}await Promise.all(Array.from(e.children).map(Oh))}},Ah=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},RP=(t,e,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},QU=t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ul=(t,e,n,r,i)=>AP(t[1],e[1],n[1],r[1],i).map(o=>OP(t[0],e[0],n[0],r[0],o)),OP=(t,e,n,r,i)=>{const o=3*e*Math.pow(i-1,2),s=-3*n*i+3*n+r*i,a=t*Math.pow(i-1,3);return i*(o+i*s)-a},AP=(t,e,n,r,i)=>(t-=i,e-=i,n-=i,r-=i,LP(r-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(s=>s>=0&&s<=1)),NP=(t,e,n)=>{const r=e*e-4*t*n;return r<0?[]:[(-e+Math.sqrt(r))/(2*t),(-e-Math.sqrt(r))/(2*t)]},LP=(t,e,n,r)=>{if(t===0)return NP(e,n,r);e/=t,n/=t,r/=t;const i=(3*n-e*e)/3,o=(2*e*e*e-9*e*n+27*r)/27;if(i===0)return[Math.pow(-o,1/3)];if(o===0)return[Math.sqrt(-i),-Math.sqrt(-i)];const s=Math.pow(o/2,2)+Math.pow(i/3,3);if(s===0)return[Math.pow(o/2,1/2)-e/3];if(s>0)return[Math.pow(-(o/2)+Math.sqrt(s),1/3)-Math.pow(o/2+Math.sqrt(s),1/3)-e/3];const a=Math.sqrt(Math.pow(-(i/3),3)),l=Math.acos(-(o/(2*Math.sqrt(Math.pow(-(i/3),3))))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class DP{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var n;return new $P(this,this.newID(),e.name,(n=e.priority)!==null&&n!==void 0?n:0,!!e.disableScroll)}createBlocker(e={}){return new MP(this,this.newID(),e.disable,!!e.disableScroll)}start(e,n,r){return this.canStart(e)?(this.requestedStart.set(n,r),!0):(this.requestedStart.delete(n),!1)}capture(e,n,r){if(!this.start(e,n,r))return!1;const i=this.requestedStart;let o=-1e4;if(i.forEach(s=>{o=Math.max(o,s)}),o===r){this.capturedId=n,i.clear();const s=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(s),!0}return i.delete(n),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,n){let r=this.disabledGestures.get(e);r===void 0&&(r=new Set,this.disabledGestures.set(e,r)),r.add(n)}enableGesture(e,n){const r=this.disabledGestures.get(e);r!==void 0&&r.delete(n)}disableScroll(e){this.disabledScroll.add(e),this.disabledScroll.size===1&&document.body.classList.add(Bl)}enableScroll(e){this.disabledScroll.delete(e),this.disabledScroll.size===0&&document.body.classList.remove(Bl)}canStart(e){return!(this.capturedId!==void 0||this.isDisabled(e))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const n=this.disabledGestures.get(e);return!!(n&&n.size>0)}newID(){return this.gestureId++,this.gestureId}}class $P{constructor(e,n,r,i,o){this.id=n,this.name=r,this.disableScroll=o,this.priority=i*1e6+n,this.ctrl=e}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class MP{constructor(e,n,r,i){this.id=n,this.disable=r,this.disableScroll=i,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Bl="backdrop-no-scroll",FP=new DP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Fr=(t,e,n,r)=>{const i=UP(t)?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;let o,s;return t.__zone_symbol__addEventListener?(o="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(o="addEventListener",s="removeEventListener"),t[o](e,n,i),()=>{t[s](e,n,i)}},UP=t=>{if(Ma===void 0)try{const e=Object.defineProperty({},"passive",{get:()=>{Ma=!0}});t.addEventListener("optsTest",()=>{},e)}catch(e){Ma=!1}return!!Ma};let Ma;const BP=2e3,HP=(t,e,n,r,i)=>{let o,s,a,l,c,u,d,h=0;const f=S=>{h=Date.now()+BP,e(S)&&(!s&&n&&(s=Fr(t,"touchmove",n,i)),a||(a=Fr(S.target,"touchend",v,i)),l||(l=Fr(S.target,"touchcancel",v,i)))},m=S=>{h>Date.now()||e(S)&&(!u&&n&&(u=Fr(Dv(t),"mousemove",n,i)),d||(d=Fr(Dv(t),"mouseup",b,i)))},v=S=>{g(),r&&r(S)},b=S=>{p(),r&&r(S)},g=()=>{s&&s(),a&&a(),l&&l(),s=a=l=void 0},p=()=>{u&&u(),d&&d(),u=d=void 0},y=()=>{g(),p()},w=(S=!0)=>{S?(o||(o=Fr(t,"touchstart",f,i)),c||(c=Fr(t,"mousedown",m,i))):(o&&o(),c&&c(),o=c=void 0,y())};return{enable:w,stop:y,destroy:()=>{w(!1),r=n=e=void 0}}},Dv=t=>t instanceof Document?t:t.ownerDocument,jP=(t,e,n)=>{const r=n*(Math.PI/180),i=t==="x",o=Math.cos(r),s=e*e;let a=0,l=0,c=!1,u=0;return{start(d,h){a=d,l=h,u=0,c=!0},detect(d,h){if(!c)return!1;const f=d-a,m=h-l,v=f*f+m*m;if(v<s)return!1;const b=Math.sqrt(v),g=(i?f:m)/b;return g>o?u=1:g<-o?u=-1:u=0,c=!1,!0},isGesture(){return u!==0},getDirection(){return u}}},zP=t=>{let e=!1,n=!1,r=!0,i=!1;const o=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),s=o.canStart,a=o.onWillStart,l=o.onStart,c=o.onEnd,u=o.notCaptured,d=o.onMove,h=o.threshold,f=o.passive,m=o.blurOnStart,v={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},b=jP(o.direction,o.threshold,o.maxAngle),g=FP.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),p=V=>{const te=Db(V);return n||!r||(Lb(V,v),v.startX=v.currentX,v.startY=v.currentY,v.startTime=v.currentTime=te,v.velocityX=v.velocityY=v.deltaX=v.deltaY=0,v.event=V,s&&s(v)===!1)||(g.release(),!g.start())?!1:(n=!0,h===0?k():(b.start(v.startX,v.startY),!0))},y=V=>{if(e){!i&&r&&(i=!0,rd(v,V),requestAnimationFrame(w));return}rd(v,V),b.detect(v.currentX,v.currentY)&&(!b.isGesture()||!k())&&G()},w=()=>{e&&(i=!1,d&&d(v))},k=()=>g.capture()?(e=!0,r=!1,v.startX=v.currentX,v.startY=v.currentY,v.startTime=v.currentTime,a?a(v).then(I):I(),!0):!1,S=()=>{if(typeof document<"u"){const V=document.activeElement;V!=null&&V.blur&&V.blur()}},I=()=>{m&&S(),l&&l(v),r=!0},P=()=>{e=!1,n=!1,i=!1,r=!0,g.release()},T=V=>{const te=e,se=r;if(P(),!!se){if(rd(v,V),te){c&&c(v);return}u&&u(v)}},A=HP(o.el,p,y,T,{capture:!1,passive:f}),G=()=>{P(),A.stop(),u&&u(v)};return{enable(V=!0){V||(e&&T(void 0),P()),A.enable(V)},destroy(){g.destroy(),A.destroy()}}},rd=(t,e)=>{if(!e)return;const n=t.currentX,r=t.currentY,i=t.currentTime;Lb(e,t);const o=t.currentX,s=t.currentY,l=(t.currentTime=Db(e))-i;if(l>0&&l<100){const c=(o-n)/l,u=(s-r)/l;t.velocityX=c*.7+t.velocityX*.3,t.velocityY=u*.7+t.velocityY*.3}t.deltaX=o-t.startX,t.deltaY=s-t.startY,t.event=e},Lb=(t,e)=>{let n=0,r=0;if(t){const i=t.changedTouches;if(i&&i.length>0){const o=i[0];n=o.clientX,r=o.clientY}else t.pageX!==void 0&&(n=t.pageX,r=t.pageY)}e.currentX=n,e.currentY=r},Db=t=>t.timeStamp||Date.now();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const WP=t=>{try{if(t instanceof qP)return t.value;if(!VP()||typeof t!="string"||t==="")return t;if(t.includes("onload="))return"";const e=document.createDocumentFragment(),n=document.createElement("div");e.appendChild(n),n.innerHTML=t,YP.forEach(s=>{const a=e.querySelectorAll(s);for(let l=a.length-1;l>=0;l--){const c=a[l];c.parentNode?c.parentNode.removeChild(c):e.removeChild(c);const u=Lh(c);for(let d=0;d<u.length;d++)Nh(u[d])}});const r=Lh(e);for(let s=0;s<r.length;s++)Nh(r[s]);const i=document.createElement("div");i.appendChild(e);const o=i.querySelector("div");return o!==null?o.innerHTML:i.innerHTML}catch(e){return console.error(e),""}},Nh=t=>{if(t.nodeType&&t.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(t.attributes instanceof NamedNodeMap)){t.remove();return}for(let n=t.attributes.length-1;n>=0;n--){const r=t.attributes.item(n),i=r.name;if(!GP.includes(i.toLowerCase())){t.removeAttribute(i);continue}const o=r.value,s=t[i];(o!=null&&o.toLowerCase().includes("javascript:")||s!=null&&s.toLowerCase().includes("javascript:"))&&t.removeAttribute(i)}const e=Lh(t);for(let n=0;n<e.length;n++)Nh(e[n])},Lh=t=>t.children!=null?t.children:t.childNodes,VP=()=>{var t;const e=window,n=(t=e==null?void 0:e.Ionic)===null||t===void 0?void 0:t.config;return n?n.get?n.get("sanitizerEnabled",!0):n.sanitizerEnabled===!0||n.sanitizerEnabled===void 0:!0},GP=["class","id","href","src","name","slot"],YP=["script","style","iframe","meta","link","object","embed"];class qP{constructor(e){this.value=e}}const KP=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const XP=(t,e)=>e.closest(t)!==null,Np=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(t)]:!0},e):e,QP=t=>t!==void 0?(Array.isArray(t)?t:t.split(" ")).filter(n=>n!=null).map(n=>n.trim()).filter(n=>n!==""):[],JP=t=>{const e={};return QP(t).forEach(n=>e[n]=!0),e};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Rs=()=>de.get("experimentalCloseWatcher",!1)&&Ae!==void 0&&"CloseWatcher"in Ae,ZP=()=>{document.addEventListener("backbutton",()=>{})},eR=()=>{const t=document;let e=!1;const n=()=>{if(e)return;let r=0,i=[];const o=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(l,c){i.push({priority:l,handler:c,id:r++})}}});t.dispatchEvent(o);const s=async l=>{try{if(l!=null&&l.handler){const c=l.handler(a);c!=null&&await c}}catch(c){console.error(c)}},a=()=>{if(i.length>0){let l={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(c=>{c.priority>=l.priority&&(l=c)}),e=!0,i=i.filter(c=>c.id!==l.id),s(l).then(()=>e=!1)}};a()};if(Rs()){let r;const i=()=>{r==null||r.destroy(),r=new Ae.CloseWatcher,r.onclose=()=>{n(),i()}};i()}else t.addEventListener("backbutton",n)},$b=100,tR=99,nR=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:tR,OVERLAY_BACK_BUTTON_PRIORITY:$b,blockHardwareBackButton:ZP,shouldUseCloseWatcher:Rs,startHardwareBackButton:eR},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Mb=async(t,e,n,r,i,o)=>{var s;if(t)return t.attachViewToDom(e,n,i,r);if(typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof n=="string"?(s=e.ownerDocument)===null||s===void 0?void 0:s.createElement(n):n;return r&&r.forEach(l=>a.classList.add(l)),i&&Object.assign(a,i),e.appendChild(a),await new Promise(l=>Ps(a,l)),a},rR=(t,e)=>{if(e){if(t){const n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()},iR=()=>{let t,e;return{attachViewToDom:async(i,o,s={},a=[])=>{var l,c;t=i;let u;if(o){const h=typeof o=="string"?(l=t.ownerDocument)===null||l===void 0?void 0:l.createElement(o):o;a.forEach(f=>h.classList.add(f)),Object.assign(h,s),t.appendChild(h),u=h,await new Promise(f=>Ps(h,f))}else if(t.children.length>0&&(t.tagName==="ION-MODAL"||t.tagName==="ION-POPOVER")&&!(u=t.children[0]).classList.contains("ion-delegate-host")){const f=(c=t.ownerDocument)===null||c===void 0?void 0:c.createElement("div");f.classList.add("ion-delegate-host"),a.forEach(m=>f.classList.add(m)),f.append(...t.children),t.appendChild(f),u=f}const d=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),t.parentNode.insertBefore(e,t),d.appendChild(t),u!=null?u:t},removeViewFromDom:()=>(t&&e&&(e.parentNode.insertBefore(t,e),e.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ea='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',$v=(t,e)=>{const n=t.querySelector(ea);Fb(n,e!=null?e:t)},Mv=(t,e)=>{const n=Array.from(t.querySelectorAll(ea)),r=n.length>0?n[n.length-1]:null;Fb(r,e!=null?e:t)},Fb=(t,e)=>{let n=t;const r=t==null?void 0:t.shadowRoot;r&&(n=r.querySelector(ea)||t),n?Tb(n):e.focus()};let Dh=0,oR=0;const Hl=new WeakMap,sR=t=>{typeof document<"u"&&uR(document);const e=Dh++;t.overlayIndex=e},aR=t=>(t.hasAttribute("id")||(t.id="ion-overlay-".concat(++oR)),t.id),lR=t=>t.classList.contains("overlay-hidden"),Fv=(t,e)=>{let n=t;const r=t==null?void 0:t.shadowRoot;r&&(n=r.querySelector(ea)||t),n?Tb(n):e.focus()},cR=(t,e)=>{const n=$h(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),r=t.target;if(!n||!r||n.classList.contains(CR))return;const i=()=>{if(n===r)n.lastFocus=void 0;else if(r.tagName==="ION-TOAST")Fv(n.lastFocus,n);else{const s=_o(n);if(!s.contains(r))return;const a=s.querySelector(".ion-overlay-wrapper");if(!a)return;if(a.contains(r)||r===s.querySelector("ion-backdrop"))n.lastFocus=r;else{const l=n.lastFocus;$v(a,n),l===e.activeElement&&Mv(a,n),n.lastFocus=e.activeElement}}},o=()=>{if(n.contains(r))n.lastFocus=r;else if(r.tagName==="ION-TOAST")Fv(n.lastFocus,n);else{const s=n.lastFocus;$v(n),s===e.activeElement&&Mv(n),n.lastFocus=e.activeElement}};n.shadowRoot?o():i()},uR=t=>{Dh===0&&(Dh=1,t.addEventListener("focus",e=>{cR(e,t)},!0),t.addEventListener("ionBackButton",e=>{const n=$h(t);n!=null&&n.backdropDismiss&&e.detail.register($b,()=>{n.dismiss(void 0,Fh)})}),Rs()||t.addEventListener("keydown",e=>{if(e.key==="Escape"){const n=$h(t);n!=null&&n.backdropDismiss&&n.dismiss(void 0,Fh)}}))},dR=(t,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(n=>n.overlayIndex>0)),Jc=(t,e)=>dR(t,e).filter(n=>!lR(n)),$h=(t,e,n)=>{const r=Jc(t,e);return r[r.length-1]},Ub=(t=!1)=>{const n=mR(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},hR=async(t,e,n,r,i)=>{var o,s;if(t.presented)return;t.el.tagName!=="ION-TOAST"&&Ub(!0),document.body.classList.add(Bl),ER(t.el),jb(t.el),t.presented=!0,t.willPresent.emit(),(o=t.willPresentShorthand)===null||o===void 0||o.emit();const a=bt(t),l=t.enterAnimation?t.enterAnimation:de.get(e,a==="ios"?n:r);await Bb(t,l,t.el,i)&&(t.didPresent.emit(),(s=t.didPresentShorthand)===null||s===void 0||s.emit()),t.el.tagName!=="ION-TOAST"&&fR(t.el),t.keyboardClose&&(document.activeElement===null||!t.el.contains(document.activeElement))&&t.el.focus(),t.el.removeAttribute("aria-hidden")},fR=async t=>{let e=document.activeElement;if(!e)return;const n=e==null?void 0:e.shadowRoot;n&&(e=n.querySelector(ea)||e),await t.onDidDismiss(),(document.activeElement===null||document.activeElement===document.body)&&e.focus()},pR=async(t,e,n,r,i,o,s)=>{var a,l;if(!t.presented)return!1;const c=fn!==void 0?Jc(fn).filter(d=>d.tagName!=="ION-TOAST"):[];c.length===1&&c[0].id===t.el.id&&(Ub(!1),document.body.classList.remove(Bl)),t.presented=!1;try{jb(t.el),t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:e,role:n}),(a=t.willDismissShorthand)===null||a===void 0||a.emit({data:e,role:n});const d=bt(t),h=t.leaveAnimation?t.leaveAnimation:de.get(r,d==="ios"?i:o);n!==Hb&&await Bb(t,h,t.el,s),t.didDismiss.emit({data:e,role:n}),(l=t.didDismissShorthand)===null||l===void 0||l.emit({data:e,role:n}),(Hl.get(t)||[]).forEach(m=>m.destroy()),Hl.delete(t),t.el.classList.add("overlay-hidden"),t.el.style.removeProperty("pointer-events"),t.el.lastFocus!==void 0&&(t.el.lastFocus=void 0)}catch(d){console.error(d)}return t.el.remove(),SR(),!0},mR=t=>t.querySelector("ion-app")||t.body,Bb=async(t,e,n,r)=>{n.classList.remove("overlay-hidden");const i=t.el,o=e(i,r);(!t.animated||!de.getBoolean("animated",!0))&&o.duration(0),t.keyboardClose&&o.beforeAddWrite(()=>{const a=n.ownerDocument.activeElement;a!=null&&a.matches("input,ion-input, ion-textarea")&&a.blur()});const s=Hl.get(t)||[];return Hl.set(t,[...s,o]),await o.play(),!0},Uv=(t,e)=>{let n;const r=new Promise(i=>n=i);return gR(t,e,i=>{n(i.detail)}),r},gR=(t,e,n)=>{const r=i=>{vP(t,e,r),n(i)};gP(t,e,r)},Mh=t=>t==="cancel"||t===Fh,vR=t=>t(),yR=(t,e)=>{if(typeof t=="function")return de.get("_zoneGate",vR)(()=>{try{return t(e)}catch(r){throw r}})},Fh="backdrop",Hb="gesture",_R=39,wR=t=>{let e=!1,n;const r=iR(),i=(a=!1)=>{if(n&&!a)return{delegate:n,inline:e};const{el:l,hasController:c,delegate:u}=t;return e=l.parentNode!==null&&!c,n=e?u||r:u,{inline:e,delegate:n}};return{attachViewToDom:async a=>{const{delegate:l}=i(!0);if(l)return await l.attachViewToDom(t.el,a);const{hasController:c}=t;if(c&&a!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:a}=i();a&&t.el!==void 0&&a.removeViewFromDom(t.el.parentElement,t.el)}}},bR=()=>{let t;const e=()=>{t&&(t(),t=void 0)};return{addClickListener:(r,i)=>{e();const o=i!==void 0?document.getElementById(i):null;if(!o){or('A trigger element with the ID "'.concat(i,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.'),r);return}t=((a,l)=>{const c=()=>{l.present()};return a.addEventListener("click",c),()=>{a.removeEventListener("click",c)}})(o,r)},removeClickListener:e}},jb=t=>{fn!==void 0&&t.setAttribute("aria-hidden","true")},ER=t=>{var e;if(fn===void 0)return;const n=Jc(fn);for(let r=n.length-1;r>=0;r--){const i=n[r],o=(e=n[r+1])!==null&&e!==void 0?e:t;(o.hasAttribute("aria-hidden")||o.tagName!=="ION-TOAST")&&i.setAttribute("aria-hidden","true")}},SR=()=>{if(fn===void 0)return;const t=Jc(fn);for(let e=t.length-1;e>=0;e--){const n=t[e];if(n.removeAttribute("aria-hidden"),n.tagName!=="ION-TOAST")break}},CR="ion-disable-focus-trap";function je(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let id;const TR=()=>{if(typeof window>"u")return new Map;if(!id){const t=window;t.Ionicons=t.Ionicons||{},id=t.Ionicons.map=t.Ionicons.map||new Map}return id},kR=t=>{let e=od(t.src);return e||(e=zb(t.name,t.icon,t.mode,t.ios,t.md),e?IR(e,t):t.icon&&(e=od(t.icon),e||(e=od(t.icon[t.mode]),e))?e:null)},IR=(t,e)=>{const n=TR().get(t);if(n)return n;try{return ob("svg/".concat(t,".svg"))}catch(r){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},zb=(t,e,n,r,i)=>(n=(n&&Fa(n))==="ios"?"ios":"md",r&&n==="ios"?t=Fa(r):i&&n==="md"?t=Fa(i):(!t&&e&&!Wb(e)&&(t=e),jl(t)&&(t=Fa(t))),!jl(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),od=t=>jl(t)&&(t=t.trim(),Wb(t))?t:null,Wb=t=>t.length>0&&/(\/|\.)/.test(t),jl=t=>typeof t=="string",Fa=t=>t.toLowerCase(),xR=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},PR=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",RR=t=>{const e=document.createElement("div");e.innerHTML=t;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const r=n.getAttribute("class")||"";if(n.setAttribute("class",(r+" s-ion-icon").trim()),Vb(n))return e.innerHTML}return""},Vb=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(jl(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!Vb(t.childNodes[e]))return!1}return!0},OR=t=>t.startsWith("data:image/svg+xml"),AR=t=>t.indexOf(";utf8,")!==-1,qr=new Map,Bv=new Map;let sd;const NR=(t,e)=>{let n=Bv.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(OR(t)&&AR(t)){sd||(sd=new DOMParser);const i=sd.parseFromString(t,"text/html").querySelector("svg");return i&&qr.set(t,i.outerHTML),Promise.resolve()}else n=fetch(t).then(r=>{if(r.ok)return r.text().then(i=>{i&&e!==!1&&(i=RR(i)),qr.set(t,i||"")});qr.set(t,"")}),Bv.set(t,n);else return qr.set(t,""),Promise.resolve();return n},LR=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",DR=LR,$R=yn(class extends on{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=MR(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=xR(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,r){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(i.disconnect(),this.io=void 0,r())},{rootMargin:n});i.observe(e)}else r()}loadIcon(){if(this.isVisible){const e=kR(this);e&&(qr.has(e)?this.svgContent=qr.get(e):NR(e,this.sanitize).then(()=>this.svgContent=qr.get(e)),this.didLoadIcon=!0)}this.iconName=zb(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:r,el:i}=this,o=this.mode||"md",s=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||s;return Q(jn,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},FR(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&PR(i)})},r),this.svgContent?Q("div",{class:"icon-inner",innerHTML:this.svgContent}):Q("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return DR}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),MR=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",FR=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function UR(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,$R);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const BR=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",HR=BR,jR=yn(class extends on{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,n){return new Promise(r=>{Ih(()=>{const i=this.el.getBoundingClientRect(),o=i.width,s=i.height,a=Math.sqrt(o*o+s*s),l=Math.max(s,o),c=this.unbounded?l:a+WR,u=Math.floor(l*VR),d=c/u;let h=e-i.left,f=n-i.top;this.unbounded&&(h=o*.5,f=s*.5);const m=h-u*.5,v=f-u*.5,b=o*.5-h,g=s*.5-f;Tp(()=>{const p=document.createElement("div");p.classList.add("ripple-effect");const y=p.style;y.top=v+"px",y.left=m+"px",y.width=y.height=u+"px",y.setProperty("--final-scale","".concat(d)),y.setProperty("--translate-end","".concat(b,"px, ").concat(g,"px")),(this.el.shadowRoot||this.el).appendChild(p),setTimeout(()=>{r(()=>{zR(p)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=bt(this);return Q(jn,{key:"7ae559bda5d2c1856a45bfa150c2cb4f83373f8e",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return HR}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),zR=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},WR=10,VR=.5;function Gb(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,jR);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ua=typeof window<"u"?window:void 0;Ua&&(Ua.CSS&&Ua.CSS.supports&&Ua.CSS.supports("--a: 0"));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const GR=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const YR=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',qR=YR,KR=yn(class extends on{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=De(this,"ionScrollStart",7),this.ionScroll=De(this,"ionScroll",7),this.ionScrollEnd=De(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=mP(this.el)}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,Rh(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");e!==null&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),Rh(this.el)){const{tabsElement:e,tabsLoadCallback:n}=this;e!==null&&n!==void 0&&e.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,n=bt(this);return e===void 0?n==="ios"&&ir("ios"):e}resize(){this.fullscreen?Ih(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,Pv(this))}readDimensions(){const e=QR(this.el),n=Math.max(this.el.offsetTop,0),r=Math.max(e.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||r!==this.cBottom)&&(this.cTop=n,this.cBottom=r,Pv(this))}onScroll(e){const n=Date.now(),r=!this.isScrolling;this.lastScroll=n,r&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Ih(i=>{this.queued=!1,this.detail.event=e,JR(this.detail,this.scrollEl,i,r),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>Ps(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>Ps(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const n=await this.getScrollElement(),r=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,r,e)}async scrollByPoint(e,n,r){const i=await this.getScrollElement();return this.scrollToPoint(e+i.scrollLeft,n+i.scrollTop,r)}async scrollToPoint(e,n,r=0){const i=await this.getScrollElement();if(r<32){n!=null&&(i.scrollTop=n),e!=null&&(i.scrollLeft=e);return}let o,s=0;const a=new Promise(f=>o=f),l=i.scrollTop,c=i.scrollLeft,u=n!=null?n-l:0,d=e!=null?e-c:0,h=f=>{const m=Math.min(1,(f-s)/r)-1,v=Math.pow(m,3)+1;u!==0&&(i.scrollTop=Math.floor(v*u+l)),d!==0&&(i.scrollLeft=Math.floor(v*d+c)),v<1?requestAnimationFrame(h):o()};return requestAnimationFrame(f=>{s=f,h(f)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:e,inheritedAttributes:n,isMainContent:r,scrollX:i,scrollY:o,el:s}=this,a=GR(s)?"rtl":"ltr",l=bt(this),c=this.shouldForceOverscroll(),u=l==="ios";return this.resize(),Q(jn,Object.assign({key:"f2a24aa66dbf5c76f9d4b06f708eb73cadc239df",role:r?"main":void 0,class:Np(this.color,{[l]:!0,"content-sizing":XP("ion-popover",this.el),overscroll:c,["content-".concat(a)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},n),Q("div",{key:"6480ca7648b278abb36477b3838bccbcd4995e2a",ref:d=>this.backgroundContentEl=d,id:"background-content",part:"background"}),e==="before"?Q("slot",{name:"fixed"}):null,Q("div",{key:"29a23b663f5f0215bb000820c01e1814c0d55985",class:{"inner-scroll":!0,"scroll-x":i,"scroll-y":o,overscroll:(i||o)&&c},ref:d=>this.scrollEl=d,onScroll:this.scrollEvents?d=>this.onScroll(d):void 0,part:"scroll"},Q("slot",{key:"0fe1bd05609a4b88ae2ce9addf5d5dc5dc1806f0"})),u?Q("div",{class:"transition-effect"},Q("div",{class:"transition-cover"}),Q("div",{class:"transition-shadow"})):null,e==="after"?Q("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return qR}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),XR=t=>{var e;return t.parentElement?t.parentElement:!((e=t.parentNode)===null||e===void 0)&&e.host?t.parentNode.host:null},QR=t=>{const e=t.closest("ion-tabs");if(e)return e;const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||XR(t)},JR=(t,e,n,r)=>{const i=t.currentX,o=t.currentY,s=t.currentTime,a=e.scrollLeft,l=e.scrollTop,c=n-s;if(r&&(t.startTime=n,t.startX=a,t.startY=l,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=a,t.currentY=t.scrollTop=l,t.deltaX=a-t.startX,t.deltaY=l-t.startY,c>0&&c<100){const u=(a-i)/c,d=(l-o)/c;t.velocityX=u*.7+t.velocityX*.3,t.velocityY=d*.7+t.velocityY*.3}};function ZR(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,KR);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const eO=ZR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const tO=()=>{if(Ae!==void 0)return Ae.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Yb=()=>{let t;return{lock:async()=>{const n=t;let r;return t=new Promise(i=>r=i),n!==void 0&&await n,r}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Uh;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Uh||(Uh={}));var Bh;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(Bh||(Bh={}));const nO={getEngine(){const t=tO();if(t!=null&&t.isPluginAvailable("Keyboard"))return t.Plugins.Keyboard},getResizeMode(){const t=this.getEngine();return t!=null&&t.getResizeMode?t.getResizeMode().catch(e=>{if(e.code!==Uh.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qb=t=>{if(fn===void 0||t===Bh.None||t===void 0)return null;const e=fn.querySelector("ion-app");return e!=null?e:fn.body},Hv=t=>{const e=qb(t);return e===null?0:e.clientHeight},rO=async t=>{let e,n,r,i;const o=async()=>{const u=await nO.getResizeMode(),d=u===void 0?void 0:u.mode;e=()=>{i===void 0&&(i=Hv(d)),r=!0,s(r,d)},n=()=>{r=!1,s(r,d)},Ae==null||Ae.addEventListener("keyboardWillShow",e),Ae==null||Ae.addEventListener("keyboardWillHide",n)},s=(u,d)=>{t&&t(u,a(d))},a=u=>{if(i===0||i===Hv(u))return;const d=qb(u);if(d!==null)return new Promise(h=>{const f=()=>{d.clientHeight===i&&(m.disconnect(),h())},m=new ResizeObserver(f);m.observe(d)})},l=()=>{Ae==null||Ae.removeEventListener("keyboardWillShow",e),Ae==null||Ae.removeEventListener("keyboardWillHide",n),e=n=void 0},c=()=>r;return await o(),{init:o,destroy:l,isKeyboardVisible:c}},Kb=1,Xb=2,zl=3;class Hh{constructor(e,n){this.component=e,this.params=n,this.state=Kb}async init(e){if(this.state=Xb,!this.element){const n=this.component;this.element=await Mb(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){ft(this.state!==zl,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=zl}}const jv=(t,e,n)=>!t||t.component!==e?!1:kb(t.params,n),zv=(t,e)=>t?t instanceof Hh?t:new Hh(t,e):null,iO=t=>t.map(e=>e instanceof Hh?e:"component"in e?zv(e.component,e.componentProps===null?void 0:e.componentProps):zv(e,void 0)).filter(e=>e!==null),oO=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",sO=oO,aO=yn(class extends on{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=De(this,"ionNavWillLoad",7),this.ionNavWillChange=De(this,"ionNavWillChange",3),this.ionNavDidChange=De(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=bt(this);this.swipeGesture=de.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await cn(()=>import("./swipe-back-DfoIy0sc.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)Sn(e.element,nd),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,n,r,i){return this.insert(-1,e,n,r,i)}insert(e,n,r,i,o){return this.insertPages(e,[{component:n,componentProps:r}],i,o)}insertPages(e,n,r,i){return this.queueTrns({insertStart:e,insertViews:n,opts:r},i)}pop(e,n){return this.removeIndex(-1,1,e,n)}popTo(e,n,r){const i={removeStart:-1,removeCount:-1,opts:n};return typeof e=="object"&&e.component?(i.removeView=e,i.removeStart=1):typeof e=="number"&&(i.removeStart=e+1),this.queueTrns(i,r)}popToRoot(e,n){return this.removeIndex(1,-1,e,n)}removeIndex(e,n=1,r,i){return this.queueTrns({removeStart:e,removeCount:n,opts:r},i)}setRoot(e,n,r,i){return this.setPages([{component:e,componentProps:n}],r,i)}setPages(e,n,r){return n!=null||(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:n},r)}setRouteId(e,n,r,i){const o=this.getActiveSync();if(jv(o,e,n))return Promise.resolve({changed:!1,element:o.element});let s;const a=new Promise(u=>s=u);let l;const c={updateURL:!1,viewIsReady:u=>{let d;const h=new Promise(f=>d=f);return s({changed:!0,element:u,markVisible:async()=>{d(),await l}}),h}};if(r==="root")l=this.setRoot(e,n,c);else{const u=this.views.find(d=>jv(d,e,n));u?l=this.popTo(u,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:i})):r==="forward"?l=this.push(e,n,Object.assign(Object.assign({},c),{animationBuilder:i})):r==="back"&&(l=this.setRoot(e,n,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:i})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const n=this.views,r=n.indexOf(e);return r>0?n[r-1]:void 0}async queueTrns(e,n){var r,i;if(this.isTransitioning&&(!((r=e.opts)===null||r===void 0)&&r.skipIfBusy))return!1;const o=new Promise((s,a)=>{e.resolve=s,e.reject=a});if(e.done=n,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const s=document.querySelector("ion-router");if(s){const a=await s.canTransition();if(a===!1)return!1;if(typeof a=="string")return s.push(a,e.opts.direction||"back"),!1}}return((i=e.insertViews)===null||i===void 0?void 0:i.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),o}success(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),n.resolve(e.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const r=document.querySelector("ion-router");if(r){const i=e.direction==="back"?"back":"forward";r.navChanged(i)}}}failed(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(e,n)}fireError(e,n){n.done&&n.done(!1,!1,e),n.reject&&!this.destroyed?n.reject(e):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const n=this.getActiveSync(),r=this.getEnteringView(e,n);if(!n&&!r)throw new Error("no views in the stack to be removed");r&&r.state===Kb&&await r.init(this.el),this.postViewInit(r,n,e);const i=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&r!==n;i&&e.opts&&n&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(r==null?void 0:r.animationBuilder)),n.animationBuilder=e.opts.animationBuilder);let o;i?o=await this.transition(r,n,e):o={hasCompleted:!0,requiresTransition:!1},this.success(o,e),this.ionNavDidChange.emit()}catch(n){this.failed(n,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var n,r,i;const o=this.views.length;if((n=e.opts)!==null&&n!==void 0||(e.opts={}),(r=(i=e.opts).delegate)!==null&&r!==void 0||(i.delegate=this.delegate),e.removeView!==void 0){ft(e.removeStart!==void 0,"removeView needs removeStart"),ft(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=o-1),e.removeCount<0&&(e.removeCount=o-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===o),e.insertViews&&((e.insertStart<0||e.insertStart>o)&&(e.insertStart=o),e.enteringRequiresTransition=e.insertStart===o);const s=e.insertViews;if(!s)return;ft(s.length>0,"length can not be zero");const a=iO(s);if(a.length===0)throw new Error("invalid views to insert");for(const l of a){l.delegate=e.opts.delegate;const c=l.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(l.state===zl)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,n){const r=e.insertViews;if(r!==void 0)return r[r.length-1];const i=e.removeStart;if(i!==void 0){const o=this.views,s=i+e.removeCount;for(let a=o.length-1;a>=0;a--){const l=o[a];if((a<i||a>=s)&&l!==n)return l}}}postViewInit(e,n,r){var i,o,s;ft(n||e,"Both leavingView and enteringView are null"),ft(r.resolve,"resolve must be valid"),ft(r.reject,"reject must be valid");const a=r.opts,{insertViews:l,removeStart:c,removeCount:u}=r;let d;if(c!==void 0&&u!==void 0){ft(c>=0,"removeStart can not be negative"),ft(u>=0,"removeCount can not be negative"),d=[];for(let f=c;f<c+u;f++){const m=this.views[f];m!==void 0&&m!==e&&m!==n&&d.push(m)}(i=a.direction)!==null&&i!==void 0||(a.direction="back")}const h=this.views.length+((o=l==null?void 0:l.length)!==null&&o!==void 0?o:0)-(u!=null?u:0);if(ft(h>=0,"final balance can not be negative"),h===0)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let f=r.insertStart;for(const m of l)this.insertViewAt(m,f),f++;r.enteringRequiresTransition&&((s=a.direction)!==null&&s!==void 0||(a.direction="forward"))}if(d&&d.length>0){for(const f of d)Sn(f.element,Ib),Sn(f.element,xb),Sn(f.element,nd);for(const f of d)this.destroyView(f)}}async transition(e,n,r){const i=r.opts,o=i.progressAnimation?d=>{d!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,d.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),d.progressEnd(0,0,0)):this.sbAni=d}:void 0,s=bt(this),a=e.element,l=n&&n.element,c=Object.assign(Object.assign({mode:s,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:o,animated:this.animated&&de.getBoolean("animated",!0),enteringEl:a,leavingEl:l},i),{animationBuilder:i.animationBuilder||this.animation||de.get("navAnimation")}),{hasCompleted:u}=await Rb(c);return this.transitionFinish(u,e,n,i)}transitionFinish(e,n,r,i){const o=e?n:r;return o&&this.unmountInactiveViews(o),{hasCompleted:e,requiresTransition:!0,enteringView:n,leavingView:r,direction:i.direction}}insertViewAt(e,n){const r=this.views,i=r.indexOf(e);i>-1?(ft(e.nav===this,"view is not part of the nav"),r.splice(i,1),r.splice(n,0,e)):(ft(!e.nav,"nav is used"),e.nav=this,r.splice(n,0,e))}removeView(e){ft(e.state===Xb||e.state===zl,"view state should be loaded or destroyed");const n=this.views,r=n.indexOf(e);ft(r>-1,"view must be part of the stack"),r>=0&&n.splice(r,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const n=this.views,r=n.indexOf(e);for(let i=n.length-1;i>=0;i--){const o=n[i],s=o.element;s&&(i>r?(Sn(s,nd),this.destroyView(o)):i<r&&Ah(s,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,n,r){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let i=e?-.001:.001;e?i+=Ul([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=Ul([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(e?1:0,i,r)}else this.gestureOrAnimationInProgress=!1}render(){return Q("slot",{key:"dfe98cb6604a2015a49f41beffebdd2da957dfff"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return sO}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function lO(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,aO);break}})}const cO=lO;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */function uO(t,e,n,r){let i;if(n==="md"?i=t==="top"?8:-8:i=t==="top"?10:-10,e&&Ae){dO(e,r);const o=e.getBoundingClientRect();return t==="top"?i+=o.bottom:t==="bottom"&&(i-=Ae.innerHeight-o.top),{top:"".concat(i,"px"),bottom:"".concat(i,"px")}}else return{top:"calc(".concat(i,"px + var(--ion-safe-area-top, 0px))"),bottom:"calc(".concat(i,"px - var(--ion-safe-area-bottom, 0px))")}}function dO(t,e){t.offsetParent===null&&or("The positionAnchor element for ion-toast was found in the DOM, but appears to be hidden. This may lead to unexpected positioning of the toast.",e)}const Lp=(t,e)=>Math.floor(t/2-e/2),hO=(t,e)=>{const n=gn(),r=gn(),{position:i,top:o,bottom:s}=e,l=_o(t).querySelector(".toast-wrapper");switch(r.addElement(l),i){case"top":r.fromTo("transform","translateY(-100%)","translateY(".concat(o,")"));break;case"middle":const c=Lp(t.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),r.fromTo("opacity",.01,1);break;default:r.fromTo("transform","translateY(100%)","translateY(".concat(s,")"));break}return n.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(r)},fO=(t,e)=>{const n=gn(),r=gn(),{position:i,top:o,bottom:s}=e,l=_o(t).querySelector(".toast-wrapper");switch(r.addElement(l),i){case"top":r.fromTo("transform","translateY(".concat(o,")"),"translateY(-100%)");break;case"middle":r.fromTo("opacity",.99,0);break;default:r.fromTo("transform","translateY(".concat(s,")"),"translateY(100%)");break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(r)},pO=(t,e)=>{const n=gn(),r=gn(),{position:i,top:o,bottom:s}=e,l=_o(t).querySelector(".toast-wrapper");switch(r.addElement(l),i){case"top":l.style.setProperty("transform","translateY(".concat(o,")")),r.fromTo("opacity",.01,1);break;case"middle":const c=Lp(t.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),r.fromTo("opacity",.01,1);break;default:l.style.setProperty("transform","translateY(".concat(s,")")),r.fromTo("opacity",.01,1);break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(r)},mO=t=>{const e=gn(),n=gn(),i=_o(t).querySelector(".toast-wrapper");return n.addElement(i).fromTo("opacity",.99,0),e.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},gO=(t,e,n)=>{const r=_o(t).querySelector(".toast-wrapper"),i=t.clientHeight,o=r.getBoundingClientRect();let s=0;const a=.5,l=t.position==="middle"?.5:0,c=t.position==="top"?-1:1,u=Lp(i,o.height),d=[{offset:0,transform:"translateY(-".concat(u+o.height,"px)")},{offset:.5,transform:"translateY(0px)"},{offset:1,transform:"translateY(".concat(u+o.height,"px)")}],h=gn("toast-swipe-to-dismiss-animation").addElement(r).duration(100);switch(t.position){case"middle":s=i+o.height,h.keyframes(d),h.progressStart(!0,.5);break;case"top":s=o.bottom,h.keyframes([{offset:0,transform:"translateY(".concat(e.top,")")},{offset:1,transform:"translateY(-100%)"}]),h.progressStart(!0,0);break;case"bottom":default:s=i-o.top,h.keyframes([{offset:0,transform:"translateY(".concat(e.bottom,")")},{offset:1,transform:"translateY(100%)"}]),h.progressStart(!0,0);break}const f=g=>g*c/s,b=zP({el:r,gestureName:"toast-swipe-to-dismiss",gesturePriority:_R,direction:"y",onMove:g=>{const p=l+f(g.deltaY);h.progressStep(p)},onEnd:g=>{const p=g.velocityY,y=(g.deltaY+p*1e3)/s*c;b.enable(!1);let w=!0,k=1,S=0,I=0;if(t.position==="middle"){w=y>=a/2||y<=-a/2,k=1,S=0;const T=r.getBoundingClientRect(),A=T.top-u,G="".concat(A,"px"),V=g.deltaY<=0?-1:1,te=(u+T.height)*V,se=w?"".concat(te,"px"):"0px",ne=[{offset:0,transform:"translateY(".concat(G,")")},{offset:1,transform:"translateY(".concat(se,")")}];h.keyframes(ne),I=te-A}else w=y>=a,k=w?1:0,S=f(g.deltaY),I=(w?1-S:S)*s;const P=Math.min(Math.abs(I)/Math.abs(p),200);h.onFinish(()=>{w?(n(),h.destroy()):(t.position==="middle"?h.keyframes(d).progressStart(!0,.5):h.progressStart(!0,0),b.enable(!0))},{oneTimeCallback:!0}).progressEnd(k,S,P)}});return b},vO=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-radius:14px;--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--max-width:700px;--max-height:478px;--start:10px;--end:10px;font-size:clamp(14px, 0.875rem, 43.4px)}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-middle{opacity:0.01}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;min-height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:clamp(17px, 1.0625rem, 21.998px);font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",yO=vO,_O=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, var(--ion-background-color-step-800, #333333));--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-50, var(--ion-text-color-step-950, #f2f2f2));--max-width:700px;--start:8px;--end:8px;font-size:0.875rem}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:1.25rem}.toast-message{line-height:1.25rem}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:0.875rem;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, var(--ion-text-color-step-900, #e6e6e6))}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}",wO=_O,bO=yn(class extends on{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=De(this,"ionToastDidPresent",7),this.willPresent=De(this,"ionToastWillPresent",7),this.willDismiss=De(this,"ionToastWillDismiss",7),this.didDismiss=De(this,"ionToastDidDismiss",7),this.didPresentShorthand=De(this,"didPresent",7),this.willPresentShorthand=De(this,"willPresent",7),this.willDismissShorthand=De(this,"willDismiss",7),this.didDismissShorthand=De(this,"didDismiss",7),this.delegateController=wR(this),this.lockController=Yb(),this.triggerController=bR(),this.customHTMLEnabled=de.get("innerHTMLTemplatesEnabled",KP),this.presented=!1,this.dispatchCancelHandler=e=>{const n=e.detail.role;if(Mh(n)){const r=this.getButtons().find(i=>i.role==="cancel");this.callButtonHandler(r)}},this.createSwipeGesture=e=>{(this.gesture=gO(this.el,e,()=>{this.dismiss(void 0,Hb)})).enable(!0)},this.destroySwipeGesture=()=>{const{gesture:e}=this;e!==void 0&&(e.destroy(),this.gesture=void 0)},this.prefersSwipeGesture=()=>{const{swipeGesture:e}=this;return e==="vertical"},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=de.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.positionAnchor=void 0,this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.swipeGesture=void 0,this.isOpen=!1,this.trigger=void 0}swipeGestureChanged(){this.destroySwipeGesture(),this.presented&&this.prefersSwipeGesture()&&this.createSwipeGesture(this.lastPresentedPosition)}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:r}=this;e&&r.addClickListener(n,e)}connectedCallback(){sR(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||aR(this.el)}componentDidLoad(){this.isOpen===!0&&Ap(()=>this.present()),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom();const{el:n,position:r}=this,i=this.getAnchorElement(),o=uO(r,i,bt(this),n);this.lastPresentedPosition=o,await hR(this,"toastEnter",hO,pO,{position:r,top:o.top,bottom:o.bottom}),this.revealContentToScreenReader=!0,this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(void 0,"timeout"),this.duration)),this.prefersSwipeGesture()&&this.createSwipeGesture(o),e()}async dismiss(e,n){var r,i;const o=await this.lockController.lock(),{durationTimeout:s,position:a,lastPresentedPosition:l}=this;s&&clearTimeout(s);const c=await pR(this,e,n,"toastLeave",fO,mO,{position:a,top:(r=l==null?void 0:l.top)!==null&&r!==void 0?r:"",bottom:(i=l==null?void 0:l.bottom)!==null&&i!==void 0?i:""});return c&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),this.lastPresentedPosition=void 0,this.destroySwipeGesture(),o(),c}onDidDismiss(){return Uv(this.el,"ionToastDidDismiss")}onWillDismiss(){return Uv(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map(n=>typeof n=="string"?{text:n}:n):[]}getAnchorElement(){const{position:e,positionAnchor:n,el:r}=this;if(n!==void 0){if(e==="middle"&&n!==void 0){or('The positionAnchor property is ignored when using position="middle".',this.el);return}if(typeof n=="string"){const i=document.getElementById(n);if(i===null){or('An anchor element with an ID of "'.concat(n,'" was not found in the DOM.'),r);return}return i}if(n instanceof on)return n;or("Invalid positionAnchor value:",n,r)}}async buttonClick(e){const n=e.role;return Mh(n)?this.dismiss(void 0,n):await this.callButtonHandler(e)?this.dismiss(void 0,n):Promise.resolve()}async callButtonHandler(e){if(e!=null&&e.handler)try{if(await yR(e.handler)===!1)return!1}catch(n){console.error(n)}return!0}renderButtons(e,n){if(e.length===0)return;const r=bt(this),i={"toast-button-group":!0,["toast-button-group-".concat(n)]:!0};return Q("div",{class:i},e.map(o=>Q("button",Object.assign({},o.htmlAttributes,{type:"button",class:EO(o),tabIndex:0,onClick:()=>this.buttonClick(o),part:SO(o)}),Q("div",{class:"toast-button-inner"},o.icon&&Q("ion-icon",{"aria-hidden":"true",icon:o.icon,slot:o.text===void 0?"icon-only":void 0,class:"toast-button-icon"}),o.text),r==="md"&&Q("ion-ripple-effect",{type:o.icon!==void 0&&o.text===void 0?"unbounded":"bounded"}))))}renderToastMessage(e,n=null){const{customHTMLEnabled:r,message:i}=this;return r?Q("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message",innerHTML:WP(i)}):Q("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message"},i)}renderHeader(e,n=null){return Q("div",{key:e,class:"toast-header","aria-hidden":n,part:"header"},this.header)}render(){const{layout:e,el:n,revealContentToScreenReader:r,header:i,message:o}=this,s=this.getButtons(),a=s.filter(d=>d.side==="start"),l=s.filter(d=>d.side!=="start"),c=bt(this),u={"toast-wrapper":!0,["toast-".concat(this.position)]:!0,["toast-layout-".concat(e)]:!0};return e==="stacked"&&a.length>0&&l.length>0&&or("This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",n),Q(jn,Object.assign({key:"c05655ff06af8d0e48c2a85396b07ad942fa81b4",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:"".concat(6e4+this.overlayIndex)},class:Np(this.color,Object.assign(Object.assign({[c]:!0},JP(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),Q("div",{key:"9393ead4de1bf28529661d6f64049d34e18d725c",class:u},Q("div",{key:"3e9dd73c17c337849c3f26e8d0f395b3e5ee20a7",class:"toast-container",part:"container"},this.renderButtons(a,"start"),this.icon!==void 0&&Q("ion-icon",{key:"5d15b18364301ad55e44e9f601014ac33181590b",class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),Q("div",{key:"f6dd164502637a882c5caf18445d8509b85ad6f9",class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!r&&i!==void 0&&this.renderHeader("oldHeader","true"),!r&&o!==void 0&&this.renderToastMessage("oldMessage","true"),r&&i!==void 0&&this.renderHeader("header"),r&&o!==void 0&&this.renderToastMessage("header")),this.renderButtons(l,"end"))))}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:yO,md:wO}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],positionAnchor:[1,"position-anchor"],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],swipeGesture:[1,"swipe-gesture"],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),EO=t=>({"toast-button":!0,"toast-button-icon-only":t.icon!==void 0&&t.text===void 0,["toast-button-".concat(t.role)]:t.role!==void 0,"ion-focusable":!0,"ion-activatable":!0}),SO=t=>Mh(t.role)?"button cancel":"button";function CO(){if(typeof customElements>"u")return;["ion-toast","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-toast":customElements.get(e)||customElements.define(e,bO);break;case"ion-icon":customElements.get(e)||UR();break;case"ion-ripple-effect":customElements.get(e)||Gb();break}})}const TO=CO,kO="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",IO=kO,xO=yn(class extends on{constructor(){super(),this.__registerHost()}componentDidLoad(){RO(async()=>{const e=ir(window,"hybrid");if(de.getBoolean("_testing")||cn(()=>import("./index9-kxYR4P1o.js"),[]).then(i=>i.startTapClick(de)),de.getBoolean("statusTap",e)&&cn(()=>import("./status-tap-CYbEzilX.js"),__vite__mapDeps([0,1])).then(i=>i.startStatusTap()),de.getBoolean("inputShims",PO())){const i=ir(window,"ios")?"ios":"android";cn(()=>import("./input-shims-mBbKF1Ln.js"),__vite__mapDeps([2,1])).then(o=>o.startInputShims(de,i))}const n=await cn(()=>Promise.resolve().then(()=>nR),void 0),r=e||Rs();de.getBoolean("hardwareBackButton",r)?n.startHardwareBackButton():(Rs()&&or("experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&cn(()=>import("./keyboard2-CFMxUPuC.js"),[]).then(i=>i.startKeyboardAssist(window)),cn(()=>import("./focus-visible-supuXXMI.js"),[]).then(i=>this.focusVisible=i.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=bt(this);return Q(jn,{key:"96715520fd05d6f0e6fa26a8ba78792cfccd4c0a",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":de.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return IO}},[0,"ion-app",{setFocus:[64]}]),PO=()=>!!(ir(window,"ios")&&ir(window,"mobile")||ir(window,"android")&&ir(window,"mobileweb")),RO=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};function OO(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,xO);break}})}const AO=OO,NO=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",LO=NO,DO=yn(class extends on{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=De(this,"ionNavWillLoad",7),this.ionNavWillChange=De(this,"ionNavWillChange",3),this.ionNavDidChange=De(this,"ionNavDidChange",3),this.lockController=Yb(),this.gestureOrAnimationInProgress=!1,this.mode=bt(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await cn(()=>import("./swipe-back-DfoIy0sc.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),n=>{var r;return(r=this.ani)===null||r===void 0?void 0:r.progressStep(n)},(n,r,i)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let o=n?-.001:.001;n?o+=Ul([0,0],[.32,.72],[0,1],[1,1],r)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),o+=Ul([0,0],[1,0],[.68,.28],[1,1],r)[0]),this.ani.progressEnd(n?1:0,o,i)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,n,r){const i=await this.lockController.lock();let o=!1;try{o=await this.transition(e,n,r)}catch(s){console.error(s)}return i(),o}async setRouteId(e,n,r,i){return{changed:await this.setRoot(e,n,{duration:r==="root"?0:void 0,direction:r==="back"?"back":"forward",animationBuilder:i}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,n,r){if(this.activeComponent===e&&kb(n,this.activeParams))return!1;const i=this.activeEl,o=await Mb(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);return this.activeComponent=e,this.activeEl=o,this.activeParams=n,await this.commit(o,i,r),await rR(this.delegate,i),!0}async transition(e,n,r={}){if(n===e)return!1;this.ionNavWillChange.emit();const{el:i,mode:o}=this,s=this.animated&&de.getBoolean("animated",!0),a=r.animationBuilder||this.animation||de.get("navAnimation");return await Rb(Object.assign(Object.assign({mode:o,animated:s,enteringEl:e,leavingEl:n,baseEl:i,deepWait:Rh(i),progressCallback:r.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},r),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}render(){return Q("slot",{key:"a70341f58d19df55de1dad00e3464388e446aa2a"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return LO}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function $O(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,DO);break}})}const MO=$O;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const FO=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",UO=FO,BO=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}",HO=BO,jO=yn(class extends on{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=De(this,"ionTabBarChanged",7),this.ionTabBarLoaded=De(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await rO(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:n,keyboardVisible:r}=this,i=bt(this),o=r&&this.el.getAttribute("slot")!=="top";return Q(jn,{key:"a87fd2ea5df053705a37ea7ffec043e75c4a9907",role:"tablist","aria-hidden":o?"true":null,class:Np(e,{[i]:!0,"tab-bar-translucent":n,"tab-bar-hidden":o})},Q("slot",{key:"81a6223299b6cab29d7ddced590e9152e2b3ded0"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:UO,md:HO}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function zO(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,jO);break}})}const WO=zO;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VO=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',GO=VO,YO=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',qO=YO,KO=yn(class extends on{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=De(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const n=e.target,r=this.el.parentElement;(e.composedPath().includes(r)||n!=null&&n.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},Cb(this.el,["aria-label"])),this.layout===void 0&&(this.layout=de.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:n,hasLabel:r,href:i,rel:o,target:s,layout:a,selected:l,tab:c,inheritedAttributes:u}=this,d=bt(this),h={download:this.download,href:i,rel:o,target:s};return Q(jn,{key:"5976c45943ea7ea8e7c1a85fc9996de421439f08",onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?"tab-button-".concat(c):null,class:{[d]:!0,"tab-selected":l,"tab-disabled":e,"tab-has-label":r,"tab-has-icon":n,"tab-has-label-only":r&&!n,"tab-has-icon-only":n&&!r,["tab-layout-".concat(a)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},Q("a",Object.assign({key:"1db09d861b67ff292018fb4b0dc7b85bd4677eb8"},h,{class:"button-native",part:"native",role:"tab","aria-selected":l?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},u),Q("span",{key:"4381eafcb27e8c7bb0d86d4f115ceb0caf03b9b4",class:"button-inner"},Q("slot",{key:"1981135f6fbb88376c1bd923c55c70fe8b5c5159"})),d==="md"&&Q("ion-ripple-effect",{key:"0509bc7155d055d1ed710600e9cf4df135881491",type:"unbounded"})))}get el(){return this}static get style(){return{ios:GO,md:qO}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function XO(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,KO);break;case"ion-ripple-effect":customElements.get(e)||Gb();break}})}const QO=XO;let ad;const JO=()=>{if(typeof window>"u")return new Map;if(!ad){const t=window;t.Ionicons=t.Ionicons||{},ad=t.Ionicons.map=t.Ionicons.map||new Map}return ad},ZO=t=>{let e=ld(t.src);return e||(e=Qb(t.name,t.icon,t.mode,t.ios,t.md),e?eA(e,t):t.icon&&(e=ld(t.icon),e||(e=ld(t.icon[t.mode]),e))?e:null)},eA=(t,e)=>{const n=JO().get(t);if(n)return n;try{return ob("svg/".concat(t,".svg"))}catch(r){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},Qb=(t,e,n,r,i)=>(n=(n&&Ba(n))==="ios"?"ios":"md",r&&n==="ios"?t=Ba(r):i&&n==="md"?t=Ba(i):(!t&&e&&!Jb(e)&&(t=e),Wl(t)&&(t=Ba(t))),!Wl(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),ld=t=>Wl(t)&&(t=t.trim(),Jb(t))?t:null,Jb=t=>t.length>0&&/(\/|\.)/.test(t),Wl=t=>typeof t=="string",Ba=t=>t.toLowerCase(),tA=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},nA=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",rA=t=>{const e=document.createElement("div");e.innerHTML=t;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const r=n.getAttribute("class")||"";if(n.setAttribute("class",(r+" s-ion-icon").trim()),Zb(n))return e.innerHTML}return""},Zb=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(Wl(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!Zb(t.childNodes[e]))return!1}return!0},iA=t=>t.startsWith("data:image/svg+xml"),oA=t=>t.indexOf(";utf8,")!==-1,Kr=new Map,Wv=new Map;let cd;const sA=(t,e)=>{let n=Wv.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(iA(t)&&oA(t)){cd||(cd=new DOMParser);const i=cd.parseFromString(t,"text/html").querySelector("svg");return i&&Kr.set(t,i.outerHTML),Promise.resolve()}else n=fetch(t).then(r=>{if(r.ok)return r.text().then(i=>{i&&e!==!1&&(i=rA(i)),Kr.set(t,i||"")});Kr.set(t,"")}),Wv.set(t,n);else return Kr.set(t,""),Promise.resolve();return n},aA=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",lA=yn(class extends on{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=cA(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=tA(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,r){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(i.disconnect(),this.io=void 0,r())},{rootMargin:n});i.observe(e)}else r()}loadIcon(){if(this.isVisible){const e=ZO(this);e&&(Kr.has(e)?this.svgContent=Kr.get(e):sA(e,this.sanitize).then(()=>this.svgContent=Kr.get(e)),this.didLoadIcon=!0)}this.iconName=Qb(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:r,el:i}=this,o=this.mode||"md",s=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||s;return Q(jn,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},uA(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&nA(i)})},r),this.svgContent?Q("div",{class:"icon-inner",innerHTML:this.svgContent}):Q("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return aA}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),cA=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",uA=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function dA(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,lA);break}})}const hA=dA,Dp=R.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),fA=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(t){if(t.id){const e=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillEnterCallbacks[e]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}teardownCallback(t,e){const n=e.filter(r=>r.id===t.id);n.length!==0&&(n.forEach(r=>{r&&typeof r.destructor=="function"&&r.destructor()}),e=e.filter(r=>r.id!==t.id))}cleanupIonViewWillEnter(t){this.teardownCallback(t,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(t){this.teardownCallback(t,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(t){this.teardownCallback(t,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(t){this.teardownCallback(t,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidEnter(t){if(t.id){const e=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidEnterCallbacks[e]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewWillLeave(t){if(t.id){const e=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillLeaveCallbacks[e]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidLeave(t){if(t.id){const e=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidLeaveCallbacks[e]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:t.id,destructor:e})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(t){this.componentCanBeDestroyedCallback=t}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},Ar=R.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:t=>{typeof window<"u"&&(typeof t=="string"?window.location.pathname=t:window.history.back())},navigate:t=>{typeof window<"u"&&(window.location.pathname=t)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),eE=t=>t.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),$p=t=>t.replace(/([A-Z])/g,e=>"-".concat(e[0].toLowerCase())),tE=(t,e,n={})=>{if(t instanceof Element){const r=pA(t.classList,e,n);r!==""&&(t.className=r),Object.keys(e).forEach(i=>{if(!(i==="children"||i==="style"||i==="ref"||i==="class"||i==="className"||i==="forwardedRef"))if(i.indexOf("on")===0&&i[2]===i[2].toUpperCase()){const o=i.substring(2),s=o[0].toLowerCase()+o.substring(1);Zc(s)||gA(t,s,e[i])}else t[i]=e[i],typeof e[i]==="string"&&t.setAttribute($p(i),e[i])})}},pA=(t,e,n)=>{const r=e.className||e.class,i=n.className||n.class,o=ud(t),s=ud(r?r.split(" "):[]),a=ud(i?i.split(" "):[]),l=[];return o.forEach(c=>{s.has(c)?(l.push(c),s.delete(c)):a.has(c)||l.push(c)}),s.forEach(c=>l.push(c)),l.join(" ")},mA=t=>{switch(t){case"doubleclick":return"dblclick"}return t};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const Zc=t=>{if(typeof document>"u")return!0;{const e="on"+mA(t);let n=e in document;if(!n){const r=document.createElement("div");r.setAttribute(e,"return;"),n=typeof r[e]=="function"}return n}},gA=(t,e,n)=>{const r=t.__events||(t.__events={}),i=r[e];i&&t.removeEventListener(e,i),t.addEventListener(e,r[e]=function(s){n&&n.call(this,s)})},ud=t=>{const e=new Map;return t.forEach(n=>e.set(n,n)),e},vA=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},Mp=(...t)=>e=>{t.forEach(n=>{vA(n,e)})},yA=(t,e)=>{const n=(r,i)=>R.createElement(t,Object.assign({},r,{forwardedRef:i}));return n.displayName=e,R.forwardRef(n)},vi=(t,e,n,r)=>{r!==void 0&&r();const i=eE(t),o=class extends R.Component{constructor(s){super(s),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(s){tE(this.componentEl,this.props,s)}render(){const s=this.props,{children:a,forwardedRef:l,style:c,className:u,ref:d}=s,h=je(s,["children","forwardedRef","style","className","ref"]);let f=Object.keys(h).reduce((v,b)=>{const g=h[b];if(b.indexOf("on")===0&&b[2]===b[2].toUpperCase()){const p=b.substring(2).toLowerCase();typeof document<"u"&&Zc(p)&&(v[b]=g)}else{const p=typeof g;(p==="string"||p==="boolean"||p==="number")&&(v[$p(b)]=g)}return v},{});const m=Object.assign(Object.assign({},f),{ref:Mp(l,this.setComponentElRef),style:c});return H.createElement(t,m,a)}static get displayName(){return i}};return yA(o,i)},jh=vi("ion-content",void 0,void 0,eO),wo=(t,e)=>{const n=(r,i)=>R.createElement(t,Object.assign({},r,{forwardedRef:i}));return n.displayName=e,R.forwardRef(n)},Fp=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},_A=(t,e)=>{t instanceof Element&&Object.keys(e).forEach(n=>{if(n.indexOf("on")===0&&n[2]===n[2].toUpperCase()){const r=n.substring(2),i=r[0].toLowerCase()+r.substring(1);Zc(i)||wA(t,i)}})},wA=(t,e)=>{const n=t.__events||(t.__events={}),r=n[e];r&&(t.removeEventListener(e,r),n[e]=void 0)},bA=(t,e,n)=>{e&&e();const r=eE(t),i=class extends R.Component{constructor(o){super(o),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=s=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(s)},this.handleDidDismiss=s=>{const a=this.wrapperRef.current,l=this.ref.current;a&&l&&(l.append(a),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(s)},this.ref=R.createRef(),this.stableMergedRefs=Mp(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=R.createRef()}componentDidMount(){var o,s,a;this.componentDidUpdate(this.props),(o=this.ref.current)===null||o===void 0||o.addEventListener("ionMount",this.handleIonMount),(s=this.ref.current)===null||s===void 0||s.addEventListener("willPresent",this.handleWillPresent),(a=this.ref.current)===null||a===void 0||a.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(o){const s=this.ref.current,a=this.props,l=je(a,["onDidDismiss","onWillPresent"]);tE(s,l,o)}componentWillUnmount(){const o=this.ref.current;o&&this.state.isOpen&&(o.removeEventListener("didDismiss",this.handleDidDismiss),o.remove(),_A(o,this.props))}render(){const o=this.props,{children:s,forwardedRef:a,style:l,className:c,ref:u}=o,d=je(o,["children","forwardedRef","style","className","ref"]),h=Object.keys(d).reduce((v,b)=>{if(b.indexOf("on")===0&&b[2]===b[2].toUpperCase()){const g=b.substring(2).toLowerCase();Zc(g)&&(v[b]=d[b])}else["string","boolean","number"].includes(typeof d[b])&&(v[$p(b)]=d[b]);return v},{}),f=Object.assign(Object.assign({},h),{ref:this.stableMergedRefs,style:l}),m=()=>n?"".concat(Vv," ion-page"):Vv;return H.createElement("template",{},H.createElement(t,f,this.state.isOpen||this.props.keepContentsMounted?H.createElement("div",{ref:this.wrapperRef,className:m()},s):null))}static get displayName(){return r}};return wo(i,r)},Vv="ion-delegate-host",nE=bA("ion-toast",TO),EA=R.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),SA=({onAddOverlay:t,onRemoveOverlay:e})=>{const[n,r]=H.useState({}),i=H.useRef({});H.useEffect(()=>{t(o),e(s)},[]);const o=(l,c,u)=>{const d=Object.assign({},i.current);d[l]={component:c,containerElement:u},i.current=d,r(d)},s=l=>{const c=Object.assign({},i.current);delete c[l],i.current=c,r(c)},a=Object.keys(n);return R.createElement(R.Fragment,null,a.map(l=>{const c=n[l];return Fk.createPortal(c.component,c.containerElement,"overlay-".concat(l))}))},CA=vi("ion-tab-button",void 0,void 0,QO),TA=vi("ion-tab-bar",void 0,void 0,WO),zh=vi("ion-router-outlet",void 0,void 0,MO),kA=vi("ion-app",void 0,void 0,AO),IA=vi("ion-icon",void 0,void 0,hA),xA=class extends R.Component{constructor(t){super(t),this.ionContext={addOverlay:(e,n,r)=>{this.addOverlayCallback&&this.addOverlayCallback(e,n,r)},removeOverlay:e=>{this.removeOverlayCallback&&this.removeOverlayCallback(e)}}}render(){return R.createElement(EA.Provider,{value:this.ionContext},R.createElement(kA,Object.assign({},this.props),this.props.children),R.createElement(SA,{onAddOverlay:t=>{this.addOverlayCallback=t},onRemoveOverlay:t=>{this.removeOverlayCallback=t}}))}static get displayName(){return"IonApp"}},Up=R.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class rE extends R.PureComponent{constructor(e){super(e),this.ionPageElementRef=R.createRef(),this.stableMergedRefs=Mp(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{className:n,children:r,routeInfo:i,forwardedRef:o}=e,s=je(e,["className","children","routeInfo","forwardedRef"]);return R.createElement(Dp.Consumer,null,a=>(this.ionLifeCycleContext=a,R.createElement("div",Object.assign({className:n?"".concat(n," ion-page"):"ion-page",ref:this.stableMergedRefs},s),r)))}static get contextType(){return Up}}class PA extends R.Component{constructor(e){super(e)}render(){const e=this.props,{className:n,children:r,forwardedRef:i}=e,o=je(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?R.createElement(rE,Object.assign({className:n?"".concat(n):"",routeInfo:this.context.routeInfo,forwardedRef:i},o),r):R.createElement("div",Object.assign({className:n?"ion-page ".concat(n):"ion-page",ref:i},o),r)}static get displayName(){return"IonPage"}static get contextType(){return Ar}}const Wh=wo(PA,"IonPage"),Gv={main:0},Os=(t="main")=>{var e;const n=((e=Gv[t])!==null&&e!==void 0?e:0)+1;return Gv[t]=n,n.toString()},RA=(t,e)=>{const n=new WeakMap,r="react-delegate-".concat(Os());let i=0;return{attachViewToDom:async(a,l,c,u)=>{const d=document.createElement("div");u&&d.classList.add(...u),a.appendChild(d);const h=l(c),f="".concat(r,"-").concat(i++),m=up.createPortal(h,d,f);return n.set(d,m),t(m),Promise.resolve(d)},removeViewFromDom:(a,l)=>{const c=n.get(l);return c&&e(c),l.remove(),Promise.resolve()}}},OA=vi("ion-nav",void 0,void 0,cO),AA=t=>{var{children:e,forwardedRef:n}=t,r=je(t,["children","forwardedRef"]);const[i,o]=H.useState([]),s=c=>o(u=>[...u,c]),a=c=>o(u=>u.filter(d=>d!==c)),l=H.useMemo(()=>RA(s,a),[]);return R.createElement(OA,Object.assign({delegate:l,ref:n},r),i)};wo(AA,"IonNav");const NA=R.createContext({activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:R.createRef()}}),LA=typeof HTMLElement<"u"?HTMLElement:class{};class DA extends R.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||Ps(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{StackManager:n,children:r,routeInfo:i}=e,o=je(e,["StackManager","children","routeInfo"]);return R.createElement(Dp.Consumer,null,s=>(this.ionLifeCycleContext=s,R.createElement(n,{routeInfo:i},R.createElement(zh,Object.assign({setRef:a=>this.ionRouterOutlet=a},o),r))))}static get contextType(){return Up}}class $A extends R.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),n=this.props,{children:r,forwardedRef:i}=n,o=je(n,["children","forwardedRef"]);return this.context.hasIonicRouter()?o.ionPage?R.createElement(DA,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},o),r):R.createElement(e,{routeInfo:this.context.routeInfo},R.createElement(zh,Object.assign({},o,{forwardedRef:i}),r)):R.createElement(zh,Object.assign({ref:i},this.props),this.props.children)}static get contextType(){return Ar}}const MA=wo($A,"IonRouterOutlet");class FA extends LA{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",FA));const dd=class extends R.Component{constructor(t){super(t),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const t=this.props,e=je(t,["onClick"]);return R.createElement(CA,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},e))}static get displayName(){return"IonTabButton"}};class UA extends R.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=r=>{};const n={};R.Children.forEach(e.children,r=>{var i,o,s,a;r!=null&&typeof r=="object"&&r.props&&(r.type===dd||r.type.isTabButton)&&(n[r.props.tab]={originalHref:r.props.href,currentHref:r.props.href,originalRouteOptions:r.props.href===((i=e.routeInfo)===null||i===void 0?void 0:i.pathname)?(o=e.routeInfo)===null||o===void 0?void 0:o.routeOptions:void 0,currentRouteOptions:r.props.href===((s=e.routeInfo)===null||s===void 0?void 0:s.pathname)?(a=e.routeInfo)===null||a===void 0?void 0:a.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,r=Object.keys(e).find(i=>{const o=e[i].originalHref;return this.props.routeInfo.pathname.startsWith(o)});r&&this.setState({activeTab:r})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const n=this.state.tabs[e];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,n){var r,i,o;const s=Object.assign({},n.tabs),l=Object.keys(n.tabs).find(u=>{const d=n.tabs[u].originalHref;return e.routeInfo.pathname.startsWith(d)});R.Children.forEach(e.children,u=>{if(u!=null&&typeof u=="object"&&u.props&&(u.type===dd||u.type.isTabButton)){const d=s[u.props.tab];(!d||d.originalHref!==u.props.href)&&(s[u.props.tab]={originalHref:u.props.href,currentHref:u.props.href,originalRouteOptions:u.props.routeOptions,currentRouteOptions:u.props.routeOptions})}});const{activeTab:c}=n;if(l&&c){const u=n.tabs[c].currentHref,d=n.tabs[c].currentRouteOptions;(l!==c||u!==((r=e.routeInfo)===null||r===void 0?void 0:r.pathname)||d!==((i=e.routeInfo)===null||i===void 0?void 0:i.routeOptions))&&(s[l]={originalHref:s[l].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:s[l].originalRouteOptions,currentRouteOptions:(o=e.routeInfo)===null||o===void 0?void 0:o.routeOptions},e.routeInfo.routeAction==="pop"&&l!==c&&(s[c]={originalHref:s[c].originalHref,currentHref:s[c].originalHref,originalRouteOptions:s[c].originalRouteOptions,currentRouteOptions:s[c].currentRouteOptions}))}return l&&e.onSetCurrentTab(l,e.routeInfo),{activeTab:l,tabs:s}}onTabButtonClick(e,n){var r;const i=this.state.tabs[e.detail.tab],o=i.originalHref,s=(r=this.props.tabsContext)===null||r===void 0?void 0:r.hasRouterOutlet,a=s?e.detail.href:"",{activeTab:l}=this.state;n&&n(e),l===e.detail.tab?o!==a&&this.context.resetTab(e.detail.tab,o,i.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),s&&(this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,a,e.detail.routeOptions)))}renderTabButton(e){return n=>{var r,i;if(n!=null&&n.props&&(n.type===dd||n.type.isTabButton)){const o=n.props.tab===e?(r=this.props.routeInfo)===null||r===void 0?void 0:r.pathname:this.state.tabs[n.props.tab].currentHref,s=n.props.tab===e?(i=this.props.routeInfo)===null||i===void 0?void 0:i.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return R.cloneElement(n,{href:o,routeOptions:s,onClick:a=>this.onTabButtonClick(a,n.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return R.createElement(TA,Object.assign({},this.props,{selectedTab:e}),R.Children.map(this.props.children,this.renderTabButton(e)))}static get contextType(){return Ar}}const BA=R.memo(t=>{var{forwardedRef:e}=t,n=je(t,["forwardedRef"]);const r=H.useContext(Ar),i=H.useContext(NA),o=e||i.tabBarProps.ref,s=Object.assign(Object.assign({},i.tabBarProps),{ref:o});return R.createElement(UA,Object.assign({ref:o},n,{routeInfo:n.routeInfo||r.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:r.setCurrentTab,tabsContext:Object.assign(Object.assign({},i),{tabBarProps:s})}),n.children)});wo(BA,"IonTabBar");class HA extends R.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var e,n;const r=this.props,{icon:i,ios:o,md:s,mode:a}=r,l=je(r,["icon","ios","md","mode"]);let c;const u=Fp(),d=a||(u==null?void 0:u.get("mode"));return o||s?d==="ios"?c=(e=o!=null?o:s)!==null&&e!==void 0?e:i:c=(n=s!=null?s:o)!==null&&n!==void 0?n:i:c=i,R.createElement(IA,Object.assign({ref:this.props.forwardedRef,icon:c},l),this.props.children)}static get contextType(){return Ar}}wo(HA,"IonIcon");class Bp extends R.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!Bp?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):R.createElement(e,Object.assign({},this.props))}static get contextType(){return Ar}}class iE extends R.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!iE?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):R.createElement(e,Object.assign({},this.props))}static get contextType(){return Ar}}const jA=R.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});class lB extends R.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=gn(e.id)}setupAnimation(e){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),Yv(n,e),qv(n,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const n=this.animation,r=this.props;Yv(n,r,e),zA(n,r,e),qv(n,r,e)}render(){const{children:e}=this.props;return R.createElement(R.Fragment,null,R.Children.map(e,(n,r)=>R.cloneElement(n,{ref:i=>this.nodes.set(r,i)})))}}const Yv=(t,e={},n={})=>{const r=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const l in e)e.hasOwnProperty(l)&&!r.includes(l)&&e[l]!==n[l]&&t[l](e[l]);const i=e.from;i&&i!==n.from&&(Array.isArray(i)?i:[i]).forEach(c=>t.from(c.property,c.value));const o=e.to;o&&o!==n.to&&(Array.isArray(o)?o:[o]).forEach(c=>t.to(c.property,c.value));const s=e.fromTo;s&&s!==n.fromTo&&(Array.isArray(s)?s:[s]).forEach(c=>t.fromTo(c.property,c.fromValue,c.toValue));const a=e.onFinish;a&&a!==n.onFinish&&(Array.isArray(a)?a:[a]).forEach(c=>t.onFinish(c.callback,c.opts))},zA=(t,e={},n={})=>{var r,i,o,s,a;const{progressStart:l,progressStep:c,progressEnd:u}=e;l&&(((r=n.progressStart)===null||r===void 0?void 0:r.forceLinearEasing)!==(l==null?void 0:l.forceLinearEasing)||((i=n.progressStart)===null||i===void 0?void 0:i.step)!==(l==null?void 0:l.step))&&t.progressStart(l.forceLinearEasing,l.step),c&&((o=n.progressStep)===null||o===void 0?void 0:o.step)!==(c==null?void 0:c.step)&&t.progressStep(c.step),u&&(((s=n.progressEnd)===null||s===void 0?void 0:s.playTo)!==(u==null?void 0:u.playTo)||((a=n.progressEnd)===null||a===void 0?void 0:a.step)!==(u==null?void 0:u.step)||(n==null?void 0:n.dur)!==(u==null?void 0:u.dur))&&t.progressEnd(u.playTo,u.step,u.dur)},qv=(t,e={},n={})=>{!n.play&&e.play&&t.play(),!n.pause&&e.pause&&t.pause(),!n.stop&&e.stop&&t.stop(),!n.destroy&&e.destroy&&t.destroy()},WA=(t={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),fP(Object.assign({},t))},oE=R.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class Kv extends R.Component{constructor(e){super(e),this.ionLifeCycleContext=new fA,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return R.createElement(Dp.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}class VA{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const n=this._getRouteInfosByKey(e);n&&(n.forEach(r=>{this.locationHistory=this.locationHistory.filter(i=>i.id!==r.id)}),this.tabHistory[e]=[])}update(e){const n=this.locationHistory.findIndex(i=>i.id===e.id);n>-1&&this.locationHistory.splice(n,1,e);const r=this.tabHistory[e.tab||""];if(r){const i=r.findIndex(o=>o.id===e.id);i>-1?r.splice(i,1,e):r.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const n=this._getRouteInfosByKey(e.tab);n&&(this._areRoutesEqual(n[n.length-1],e)&&n.pop(),n.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,n){return!e||!n?!1:e.pathname===n.pathname&&e.search===n.search}_pop(e){const n=this._getRouteInfosByKey(e.tab);n&&(n.pop(),n.pop(),n.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const n=this._getRouteInfosByKey(e.tab);n&&n.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(n=>this.tabHistory[n]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let n;return e&&(n=this.tabHistory[e],n||(n=this.tabHistory[e]=[])),n}getFirstRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[0]}getCurrentRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[n.length-1]}findLastLocation(e){const n=this._getRouteInfosByKey(e.tab);if(n)for(let r=n.length-2;r>=0;r--){const i=n[r];if(i&&i.pathname===e.pushedByRoute)return i}for(let r=this.locationHistory.length-2;r>=0;r--){const i=this.locationHistory[r];if(i&&i.pathname===e.pushedByRoute)return i}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class GA extends R.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(n,r,i,o,s)=>{this.navigate(n,r,i,s,o)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(e,n){this.props.onNavigateBack(e,n)}nativeGoBack(){this.props.onNativeBack()}navigate(e,n="forward",r="push",i,o,s){this.props.onNavigate(e,r,n,i,o,s)}getPageManager(){return rE}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return R.createElement(Ar.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},R.createElement(jA.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}class YA{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:n}=e;this.viewStacks[n]?this.viewStacks[n].push(e):this.viewStacks[n]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:n}=e,r=this.viewStacks[n];if(r){const i=r.find(o=>o.id===e.id);i&&(i.mount=!1,this.viewStacks[n]=r.filter(o=>o.id!==i.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),n=[];return e.forEach(r=>{n.push(...this.viewStacks[r])}),n}}class qA extends R.PureComponent{render(){return R.createElement(Yo,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}const As=({pathname:t,componentProps:e})=>{const{exact:n,component:r}=e,i=e.path||e.from,s=Sp(t,{exact:n,path:i,component:r});return s||!1};class KA extends YA{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,n,r,i){const o={id:Os("viewItem"),outletId:e,ionPageElement:i,reactElement:n,mount:!0,ionRoute:!1};return n.type===Bp&&(o.ionRoute=!0,o.disableIonPageManagement=n.props.disableIonPageManagement),o.routeData={match:As({pathname:r.pathname,componentProps:n.props}),childProps:n.props},o}getChildrenToRender(e,n,r){const i=this.getViewItemsForOutlet(e);return R.Children.forEach(n.props.children,s=>{const a=i.find(l=>Xv(s,l.routeData.childProps.path||l.routeData.childProps.from));a&&(a.reactElement=s)}),i.map(s=>{let a;if(s.ionRoute&&!s.disableIonPageManagement)a=R.createElement(Kv,{key:"view-".concat(s.id),mount:s.mount,removeView:()=>this.remove(s)},R.cloneElement(s.reactElement,{computedMatch:s.routeData.match}));else{const l=Xv(s.reactElement,r.pathname);a=R.createElement(Kv,{key:"view-".concat(s.id),mount:s.mount,removeView:()=>this.remove(s)},R.cloneElement(s.reactElement,{computedMatch:s.routeData.match})),!l&&s.routeData.match&&(s.routeData.match=void 0,s.mount=!1)}return a})}findViewItemByRouteInfo(e,n,r){const{viewItem:i,match:o}=this.findViewItemByPath(e.pathname,n);return(r===void 0||r===!0)&&i&&o&&(i.routeData.match=o),i}findLeavingViewItemByRouteInfo(e,n,r=!0){const{viewItem:i}=this.findViewItemByPath(e.lastPathname,n,r);return i}findViewItemByPathname(e,n){const{viewItem:r}=this.findViewItemByPath(e,n);return r}findViewItemByPath(e,n,r){let i,o,s;if(n)s=this.getViewItemsForOutlet(n),s.some(a),i||s.some(l);else{const c=this.getAllViewItems();c.some(a),i||c.some(l)}return{viewItem:i,match:o};function a(c){var u,d;if(r&&!c.ionRoute)return!1;if(o=As({pathname:e,componentProps:c.routeData.childProps}),o){const h=o.path.includes(":");if(!h||h&&o.url===((d=(u=c.routeData)===null||u===void 0?void 0:u.match)===null||d===void 0?void 0:d.url))return i=c,!0}return!1}function l(c){return!c.routeData.childProps.path&&!c.routeData.childProps.from?(o={path:e,url:e,isExact:!0,params:{}},i=c,!0):!1}}}function Xv(t,e){return As({pathname:e,componentProps:t.props})}function XA(t){let e;if(typeof t=="string"?e=t:e=t.outerHTML,document){const n=document.createElement("div");n.innerHTML=e,n.style.zIndex="";const r=n.getElementsByTagName("ion-back-button");return r[0]&&r[0].remove(),n.firstChild}}const Qv=t=>!t.classList.contains("ion-page-invisible")&&!t.classList.contains("ion-page-hidden");class QA extends R.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=Os("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:n}=this.props.routeInfo,{pathname:r}=e.routeInfo;n!==r?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var n,r;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let i=this.context.findViewItemByRouteInfo(e,this.id),o=this.context.findLeavingViewItemByRouteInfo(e,this.id);!o&&e.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),o&&(e.routeAction==="replace"?o.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((n=e.routeOptions)===null||n===void 0)&&n.unmount&&(o.mount=!1):e.routeDirection!=="none"&&i!==o&&(o.mount=!1));const s=JA((r=this.ionRouterOutlet)===null||r===void 0?void 0:r.props.children,e);if(i?i.reactElement=s:s&&(i=this.context.createViewItem(this.id,s,e),this.context.addViewItem(i)),i&&i.ionPageElement){if(i===o&&i.routeData.match.url!==e.pathname||(!o&&this.props.routeInfo.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),Qv(i.ionPageElement)&&o!==void 0&&!Qv(o.ionPageElement)))return;this.transitionPage(e,i,o)}else o&&!s&&!i&&o.ionPageElement&&(o.ionPageElement.classList.add("ion-page-hidden"),o.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,n){const r=this.context.findViewItemByRouteInfo(n,this.id);if(r){const i=r.ionPageElement;if(r.ionPageElement=e,r.ionRoute=!0,i===e)return}this.handlePageTransition(n)}async setupRouterOutlet(e){const n=()=>{const o=Fp();if(!(o&&o.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:a}=this.props,l=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(l,this.id,!1);return!!c&&c.mount&&c.routeData.match.path!==a.pathname},r=async()=>{const{routeInfo:o}=this.props,s=this.prevProps&&this.prevProps.routeInfo.pathname===o.pushedByRoute?this.prevProps.routeInfo:{pathname:o.pushedByRoute||""},a=this.context.findViewItemByRouteInfo(s,this.id,!1),l=this.context.findViewItemByRouteInfo(o,this.id,!1);return a&&l&&await this.transitionPage(o,a,l,"back",!0),Promise.resolve()},i=o=>{if(o)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:s}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===s.pushedByRoute?this.prevProps.routeInfo:{pathname:s.pushedByRoute||""},l=this.context.findViewItemByRouteInfo(a,this.id,!1),c=this.context.findViewItemByRouteInfo(s,this.id,!1);if(l!==c&&(l==null?void 0:l.ionPageElement)!==void 0){const{ionPageElement:u}=l;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:n,onStart:r,onEnd:i}}async transitionPage(e,n,r,i,o=!1){const s=async(u,d)=>{const h=this.skipTransition;h?this.skipTransition=!1:(u.classList.add("ion-page"),u.classList.add("ion-page-invisible")),await a.commit(u,d,{duration:h||c===void 0?0:void 0,direction:c,showGoBack:!!e.pushedByRoute,progressAnimation:o,animationBuilder:e.routeAnimation})},a=this.routerOutletElement,l=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,c=i!=null?i:l;if(n&&n.ionPageElement&&this.routerOutletElement)if(r&&r.ionPageElement&&n===r)if(ZA(r.reactElement,e.pathname,!0)){const d=XA(r.ionPageElement.outerHTML);d&&(this.routerOutletElement.appendChild(d),await s(n.ionPageElement,d),this.routerOutletElement.removeChild(d))}else await s(n.ionPageElement,void 0);else await s(n.ionPageElement,r==null?void 0:r.ionPageElement),r&&r.ionPageElement&&!o&&(r.ionPageElement.classList.add("ion-page-hidden"),r.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,n=R.Children.only(e);this.ionRouterOutlet=n;const r=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return R.createElement(Up.Provider,{value:this.stackContextValue},R.cloneElement(n,{ref:i=>{n.props.setRef&&n.props.setRef(i),n.props.forwardedRef&&(n.props.forwardedRef.current=i),this.routerOutletElement=i;const{ref:o}=n;typeof o=="function"&&o(i)}},r))}static get contextType(){return oE}}function JA(t,e){let n;return R.Children.forEach(t,r=>{As({pathname:e.pathname,componentProps:r.props})&&(n=r)}),n||(R.Children.forEach(t,r=>{r.props.path||r.props.from||(n=r)}),n)}function ZA(t,e,n){return As({pathname:e,componentProps:Object.assign(Object.assign({},t.props),{exact:n})})}class eN extends R.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new VA,this.viewStack=new KA,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const n={id:Os("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(n),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:n}}handleChangeTab(e,n,r){if(!n)return;const i=this.locationHistory.getCurrentRouteInfoForTab(e),[o,s]=n.split("?");i?(this.incomingRouteParams=Object.assign(Object.assign({},i),{routeAction:"push",routeDirection:"none"}),i.pathname===o?(this.incomingRouteParams.routeOptions=r,this.props.history.push(i.pathname+(i.search||""))):(this.incomingRouteParams.pathname=o,this.incomingRouteParams.search=s?"?"+s:void 0,this.incomingRouteParams.routeOptions=r,this.props.history.push(o+(s?"?"+s:"")))):this.handleNavigate(o,"push","none",void 0,r,e)}handleHistoryChange(e,n){var r,i,o;let s;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?s=this.locationHistory.previous():s=this.locationHistory.current():s=this.locationHistory.current(),s.pathname+s.search!==e.pathname){if(!this.incomingRouteParams){if(n==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),n==="POP"){const c=this.locationHistory.current();if(c&&c.pushedByRoute){const u=this.locationHistory.findLastLocation(c);this.incomingRouteParams=Object.assign(Object.assign({},u),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((r=e.state)===null||r===void 0?void 0:r.direction)||"forward",routeOptions:(i=e.state)===null||i===void 0?void 0:i.routerOptions,tab:this.currentTab})}let l;if(!((o=this.incomingRouteParams)===null||o===void 0)&&o.id)l=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:s.pathname}),this.locationHistory.add(l);else{const c=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(l=Object.assign(Object.assign({id:Os("routeInfo")},this.incomingRouteParams),{lastPathname:s.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:s.lastPathname}),c)l.tab=s.tab,l.pushedByRoute=s.pathname;else if(l.routeAction==="pop"){const u=this.locationHistory.findLastLocation(l);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="push"&&l.tab!==s.tab){const u=this.locationHistory.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="replace"){const u=this.locationHistory.current(),d=u==null?void 0:u.pushedByRoute,h=d!==void 0&&d!==l.pathname?d:l.pushedByRoute;l.lastPathname=(u==null?void 0:u.pathname)||l.lastPathname,l.prevRouteLastPathname=u==null?void 0:u.lastPathname,l.pushedByRoute=h,l.routeDirection=l.routeDirection||(u==null?void 0:u.routeDirection),l.routeAnimation=l.routeAnimation||(u==null?void 0:u.routeAnimation)}this.locationHistory.add(l)}this.setState({routeInfo:l})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,n,r,i,o,s){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:n,routeDirection:r,routeOptions:o,routeAnimation:i,tab:s}),n==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",n){const r=Fp();e=e||r&&r.get("backButtonDefaultHref");const i=this.locationHistory.current();if(i&&i.pushedByRoute){const o=this.locationHistory.findLastLocation(i);if(o){const s=n||i.routeAnimation;if(this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back",routeAnimation:s}),i.lastPathname===i.pushedByRoute||o.pathname===i.pushedByRoute&&i.tab===""&&o.tab===""){const a=this.props.history;(a.goBack||a.back)()}else this.handleNavigate(o.pathname+(o.search||""),"pop","back",s)}else this.handleNavigate(e,"pop","back",n)}else this.handleNavigate(e,"pop","back",n)}handleResetTab(e,n,r){const i=this.locationHistory.getFirstRouteInfoForTab(e);if(i){const o=Object.assign({},i);o.pathname=n,o.routeOptions=r,this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(o.pathname+(o.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const n=Object.assign({},this.locationHistory.current());n.tab!==e&&(n.tab=e,this.locationHistory.update(n))}render(){return R.createElement(oE.Provider,{value:this.routeMangerContextState},R.createElement(GA,{ionRoute:qA,ionRedirect:{},stackManager:QA,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const eu=XI(eN);eu.displayName="IonRouter";class tN extends R.Component{constructor(e){super(e);const{history:n}=e,r=je(e,["history"]);this.history=n||Zk(r),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const r=e.location||e,i=e.action||n;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,r=je(e,["children"]);return R.createElement(Qs,Object.assign({history:this.history},r),R.createElement(eu,{registerHistoryListener:this.registerHistoryListener},n))}}class cB extends R.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const r=e.location||e,i=e.action||n;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,r=je(e,["children"]);return R.createElement(Qs,Object.assign({},r),R.createElement(eu,{registerHistoryListener:this.registerHistoryListener},n))}}class uB extends R.Component{constructor(e){super(e);const{history:n}=e,r=je(e,["history"]);this.history=n||nI(r),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const r=e.location||e,i=e.action||n;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,r=je(e,["children"]);return R.createElement(Qs,Object.assign({history:this.history},r),R.createElement(eu,{registerHistoryListener:this.registerHistoryListener},n))}}var Jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $=function(t,e){if(!t)throw bo(e)},bo=function(t){return new Error("Firebase Database ("+sE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Hp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,s||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new rN;const h=o<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lE=function(t){const e=aE(t);return Hp.encodeByteArray(e,!0)},Vl=function(t){return lE(t).replace(/\./g,"")},Gl=function(t){try{return Hp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t){return cE(void 0,t)}function cE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!oN(n)||(t[n]=cE(t[n],e[n]));return t}function oN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=()=>sN().__FIREBASE_DEFAULTS__,lN=()=>{if(typeof process>"u"||typeof Jv>"u")return;const t=Jv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&Gl(t[1]);return e&&JSON.parse(e)},jp=()=>{try{return aN()||lN()||cN()}catch(t){console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t));return}},uE=t=>{var e,n;return(n=(e=jp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uN=t=>{const e=uE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dE=()=>{var t;return(t=jp())===null||t===void 0?void 0:t.config},hE=t=>{var e;return(e=jp())===null||e===void 0?void 0:e["_".concat(t)]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(r),aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vl(JSON.stringify(n)),Vl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function hN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pN(){const t=ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pE(){return sE.NODE_ADMIN===!0}function mN(){try{return typeof indexedDB=="object"}catch(t){return!1}}function gN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="FirebaseError";class Nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vN,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ta.prototype.create)}}class ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i="".concat(this.service,"/").concat(e),o=this.errors[e],s=o?yN(o,r):"Error",a="".concat(this.serviceName,": ").concat(s," (").concat(i,").");return new Nr(i,a,r)}}function yN(t,e){return t.replace(_N,(n,r)=>{const i=e[r];return i!=null?String(i):"<".concat(r,"?>")})}const _N=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t){return JSON.parse(t)}function Ue(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Ns(Gl(o[0])||""),n=Ns(Gl(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:r,signature:i}},wN=function(t){const e=mE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},bN=function(t){const e=mE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ao(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Vh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ql(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Zv(o)&&Zv(s)){if(!ql(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Zv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):d<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function SN(t,e){const n=new CN(t,e);return n.subscribe.bind(n)}class CN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hd),i.error===void 0&&(i.error=hd),i.complete===void 0&&(i.complete=hd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(s){}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hd(){}function Wp(t,e){return"".concat(t," failed: ").concat(e," argument ")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,$(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nu=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class li{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service ".concat(this.name," is not available"))}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,!!this.shouldAutoInitialize()){if(PN(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch(o){}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(o){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xN(t){return t===Hr?void 0:t}function PN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const ON={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},AN=ge.INFO,NN={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},LN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NN[e];if(i)console[i]("[".concat(r,"]  ").concat(t.name,":"),...n);else throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"))};class Vp{constructor(e){this.name=e,this._logLevel=AN,this._logHandler=LN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ON[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const DN=(t,e)=>e.some(n=>t instanceof n);let ey,ty;function $N(){return ey||(ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MN(){return ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gE=new WeakMap,Gh=new WeakMap,vE=new WeakMap,fd=new WeakMap,Gp=new WeakMap;function FN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(mr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&gE.set(n,t)}).catch(()=>{}),Gp.set(e,t),e}function UN(t){if(Gh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Gh.set(t,e)}let Yh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BN(t){Yh=t(Yh)}function HN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pd(this),e,...n);return vE.set(r,e.sort?e.sort():[e]),mr(r)}:MN().includes(t)?function(...e){return t.apply(pd(this),e),mr(gE.get(this))}:function(...e){return mr(t.apply(pd(this),e))}}function jN(t){return typeof t=="function"?HN(t):(t instanceof IDBTransaction&&UN(t),DN(t,$N())?new Proxy(t,Yh):t)}function mr(t){if(t instanceof IDBRequest)return FN(t);if(fd.has(t))return fd.get(t);const e=jN(t);return e!==t&&(fd.set(t,e),Gp.set(e,t)),e}const pd=t=>Gp.get(t);function zN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=mr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(mr(s.result),l.oldVersion,l.newVersion,mr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const WN=["get","getKey","getAll","getAllKeys","count"],VN=["put","add","delete","clear"],md=new Map;function ny(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(md.get(e))return md.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=VN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WN.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return md.set(e,o),o}BN(t=>({...t,get:(e,n,r)=>ny(e,n)||t.get(e,n,r),has:(e,n)=>!!ny(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YN(n)){const r=n.getImmediate();return"".concat(r.library,"/").concat(r.version)}else return null}).filter(n=>n).join(" ")}}function YN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qh="@firebase/app",ry="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new Vp("@firebase/app"),qN="@firebase/app-compat",KN="@firebase/analytics-compat",XN="@firebase/analytics",QN="@firebase/app-check-compat",JN="@firebase/app-check",ZN="@firebase/auth",eL="@firebase/auth-compat",tL="@firebase/database",nL="@firebase/data-connect",rL="@firebase/database-compat",iL="@firebase/functions",oL="@firebase/functions-compat",sL="@firebase/installations",aL="@firebase/installations-compat",lL="@firebase/messaging",cL="@firebase/messaging-compat",uL="@firebase/performance",dL="@firebase/performance-compat",hL="@firebase/remote-config",fL="@firebase/remote-config-compat",pL="@firebase/storage",mL="@firebase/storage-compat",gL="@firebase/firestore",vL="@firebase/vertexai",yL="@firebase/firestore-compat",_L="firebase",wL="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="[DEFAULT]",bL={[qh]:"fire-core",[qN]:"fire-core-compat",[XN]:"fire-analytics",[KN]:"fire-analytics-compat",[JN]:"fire-app-check",[QN]:"fire-app-check-compat",[ZN]:"fire-auth",[eL]:"fire-auth-compat",[tL]:"fire-rtdb",[nL]:"fire-data-connect",[rL]:"fire-rtdb-compat",[iL]:"fire-fn",[oL]:"fire-fn-compat",[sL]:"fire-iid",[aL]:"fire-iid-compat",[lL]:"fire-fcm",[cL]:"fire-fcm-compat",[uL]:"fire-perf",[dL]:"fire-perf-compat",[hL]:"fire-rc",[fL]:"fire-rc-compat",[pL]:"fire-gcs",[mL]:"fire-gcs-compat",[gL]:"fire-fst",[yL]:"fire-fst-compat",[vL]:"fire-vertex","fire-js":"fire-js",[_L]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=new Map,EL=new Map,Xh=new Map;function iy(t,e){try{t.container.addComponent(e)}catch(n){Mn.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function lo(t){const e=t.name;if(Xh.has(e))return Mn.debug("There were multiple attempts to register component ".concat(e,".")),!1;Xh.set(e,t);for(const n of Kl.values())iy(n,t);for(const n of EL.values())iy(n,t);return!0}function Yp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new ta("app","Firebase",SL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=wL;function yE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Kh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw gr.create("bad-app-name",{appName:String(i)});if(n||(n=dE()),!n)throw gr.create("no-options");const o=Kl.get(i);if(o){if(ql(n,o.options)&&ql(r,o.config))return o;throw gr.create("duplicate-app",{appName:i})}const s=new RN(i);for(const l of Xh.values())s.addComponent(l);const a=new CL(n,r,s);return Kl.set(i,a),a}function _E(t=Kh){const e=Kl.get(t);if(!e&&t===Kh&&dE())return yE();if(!e)throw gr.create("no-app",{appName:t});return e}function vr(t,e,n){var r;let i=(r=bL[t])!==null&&r!==void 0?r:t;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=['Unable to register library "'.concat(i,'" with version "').concat(e,'":')];o&&a.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&a.push("and"),s&&a.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),Mn.warn(a.join(" "));return}lo(new li("".concat(i,"-version"),()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="firebase-heartbeat-database",kL=1,Ls="firebase-heartbeat-store";let gd=null;function wE(){return gd||(gd=zN(TL,kL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ls)}catch(n){console.warn(n)}}}}).catch(t=>{throw gr.create("idb-open",{originalErrorMessage:t.message})})),gd}async function IL(t){try{const n=(await wE()).transaction(Ls),r=await n.objectStore(Ls).get(bE(t));return await n.done,r}catch(e){if(e instanceof Nr)Mn.warn(e.message);else{const n=gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mn.warn(n.message)}}}async function oy(t,e){try{const r=(await wE()).transaction(Ls,"readwrite");await r.objectStore(Ls).put(e,bE(t)),await r.done}catch(n){if(n instanceof Nr)Mn.warn(n.message);else{const r=gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mn.warn(r.message)}}}function bE(t){return"".concat(t.name,"!").concat(t.options.appId)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=1024,PL=30*24*60*60*1e3;class RL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=sy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=PL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Mn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sy(),{heartbeatsToSend:r,unsentEntries:i}=OL(this._heartbeatsCache.heartbeats),o=Vl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Mn.warn(n),""}}}function sy(){return new Date().toISOString().substring(0,10)}function OL(t,e=xL){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ay(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ay(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mN()?gN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return oy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return oy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ay(t){return Vl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){lo(new li("platform-logger",e=>new GN(e),"PRIVATE")),lo(new li("heartbeat",e=>new RL(e),"PRIVATE")),vr(qh,ry,t),vr(qh,ry,"esm2017"),vr("fire-js","")}NL("");var LL="firebase",DL="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr(LL,DL,"app");var ly={};const cy="@firebase/database",uy="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EE="";function $L(t){EE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ue(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ns(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return zn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ML(e)}}catch(e){}return new FL},Xr=SE("localStorage"),UL=SE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new Vp("@firebase/database"),BL=function(){let t=1;return function(){return t++}}(),CE=function(t){const e=kN(t),n=new EN;n.update(e);const r=n.digest();return Hp.encodeByteArray(r)},na=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=na.apply(null,r):typeof r=="object"?e+=Ue(r):e+=r,e+=" "}return e};let is=null,dy=!0;const HL=function(t,e){$(!e,"Can't turn on custom loggers persistently."),qi.logLevel=ge.VERBOSE,is=qi.log.bind(qi)},it=function(...t){if(dy===!0&&(dy=!1,is===null&&UL.get("logging_enabled")===!0&&HL()),is){const e=na.apply(null,t);is(e)}},ra=function(t){return function(...e){it(t,...e)}},Qh=function(...t){const e="FIREBASE INTERNAL ERROR: "+na(...t);qi.error(e)},Fn=function(...t){const e="FIREBASE FATAL ERROR: ".concat(na(...t));throw qi.error(e),new Error(e)},Et=function(...t){const e="FIREBASE WARNING: "+na(...t);qi.warn(e)},jL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},TE=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},zL=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},co="[MIN_NAME]",ci="[MAX_NAME]",Co=function(t,e){if(t===e)return 0;if(t===co||e===ci)return-1;if(e===co||t===ci)return 1;{const n=hy(t),r=hy(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},WL=function(t,e){return t===e?0:t<e?-1:1},Uo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ue(e))},qp=function(t){if(typeof t!="object"||t===null)return Ue(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ue(e[r]),n+=":",n+=qp(t[e[r]]);return n+="}",n},kE=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const IE=function(t){$(!TE(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},VL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},GL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function YL(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const qL=new RegExp("^-?(0*)\\d{1,10}$"),KL=-2147483648,XL=2147483647,hy=function(t){if(qL.test(t)){const e=Number(t);if(e>=KL&&e<=XL)return e}return null},To=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Et("Exception was thrown by user callback.",n),e},Math.floor(0))}},QL=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},os=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Et('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" are invalid. This usually indicates your app was not initialized correctly.'))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(it("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Et(e)}}class il{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}il.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="5",xE="v",PE="s",RE="r",OE="f",AE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,NE="ls",LE="p",Jh="ac",DE="websocket",$E="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Xr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(n)}}function eD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function FE(t,e,n){$(typeof e=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");let r;if(e===DE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===$E)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);eD(t)&&(n.ns=t.namespace);const i=[];return Ct(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.counters_={}}incrementCounter(e,n=1){zn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return iN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd={},yd={};function Xp(t){const e=t.toString();return vd[e]||(vd[e]=new tD),vd[e]}function nD(t,e){const n=t.toString();return yd[n]||(yd[n]=e()),yd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&To(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="start",iD="close",oD="pLPCommand",sD="pRTLPCB",UE="id",BE="pw",HE="ser",aD="cb",lD="seg",cD="ts",uD="d",dD="dframe",jE=1870,zE=30,hD=jE-zE,fD=25e3,pD=3e4;class Fi{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ra(e),this.stats_=Xp(n),this.urlFn=l=>(this.appCheckToken&&(l[Jh]=this.appCheckToken),FE(n,$E,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new rD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(pD)),zL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qp((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===fy)this.id=a,this.password=l;else if(s===iD)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[fy]="t",r[HE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[aD]=this.scriptTagHolder.uniqueCallbackIdentifier),r[xE]=Kp,this.transportSessionId&&(r[PE]=this.transportSessionId),this.lastSessionId&&(r[NE]=this.lastSessionId),this.applicationId&&(r[LE]=this.applicationId),this.appCheckToken&&(r[Jh]=this.appCheckToken),typeof location<"u"&&location.hostname&&AE.test(location.hostname)&&(r[RE]=OE);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fi.forceAllow_=!0}static forceDisallow(){Fi.forceDisallow_=!0}static isAvailable(){return Fi.forceAllow_?!0:!Fi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!VL()&&!GL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ue(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=lE(n),i=kE(r,hD);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[dD]="t",r[UE]=e,r[BE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ue(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Qp{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=BL(),window[oD+this.uniqueCallbackIdentifier]=e,window[sD+this.uniqueCallbackIdentifier]=n,this.myIFrame=Qp.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){it("frame writing exception"),a.stack&&it(a.stack),it(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||it("No IE domain setting required")}catch(n){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[UE]=this.myID,e[BE]=this.myPW,e[HE]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zE+r.length<=jE;){const s=this.pendingSegs.shift();r=r+"&"+lD+i+"="+s.seg+"&"+cD+i+"="+s.ts+"&"+uD+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(fD)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{it("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=16384,gD=45e3;let Xl=null;typeof MozWebSocket<"u"?Xl=MozWebSocket:typeof WebSocket<"u"&&(Xl=WebSocket);class Xt{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ra(this.connId),this.stats_=Xp(n),this.connURL=Xt.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[xE]=Kp,typeof location<"u"&&location.hostname&&AE.test(location.hostname)&&(s[RE]=OE),n&&(s[PE]=n),r&&(s[NE]=r),i&&(s[Jh]=i),o&&(s[LE]=o),FE(e,DE,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xr.set("previous_websocket_failure",!0);try{let r;pE(),this.mySock=new Xl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Xt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Xl!==null&&!Xt.forceDisallow_}static previouslyFailed(){return Xr.isInMemoryStorage||Xr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Xr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ns(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if($(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ue(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=kE(n,mD);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(gD))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xt.responsesRequiredToBeHealthy=2;Xt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{static get ALL_TRANSPORTS(){return[Fi,Xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Xt&&Xt.isAvailable();let r=n&&!Xt.previouslyFailed();if(e.webSocketOnly&&(n||Et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xt];else{const i=this.transports_=[];for(const o of Ds.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Ds.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ds.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=6e4,yD=5e3,_D=10*1024,wD=100*1024,_d="t",py="d",bD="s",my="r",ED="e",gy="o",vy="a",yy="n",_y="p",SD="h";class CD{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ra("c:"+this.id+":"),this.transportManager_=new Ds(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=os(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>wD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>_D?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(_d in e){const n=e[_d];n===vy?this.upgradeIfSecondaryHealthy_():n===my?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===gy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Uo("t",e),r=Uo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_y,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Uo("t",e),r=Uo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Uo(_d,e);if(py in e){const r=e[py];if(n===SD){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===yy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===bD?this.onConnectionShutdown_(r):n===my?this.onReset_(r):n===ED?Qh("Server Error: "+r):n===gy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Kp!==r&&Et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),os(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(vD))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):os(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(yD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_y,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.allowedEvents_=e,this.listeners_={},$(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){$(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends VE{static getInstance(){return new Ql}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return $(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=32,by=768;class ye{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ue(){return new ye("")}function Z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Cr(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ye(t.pieces_,e)}function GE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function TD(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function YE(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function qE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ye(e,0)}function Be(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ye)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ye(n,0)}function ie(t){return t.pieceNum_>=t.pieces_.length}function lt(t,e){const n=Z(t),r=Z(e);if(n===null)return e;if(n===r)return lt(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Jp(t,e){if(Cr(t)!==Cr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Qt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Cr(t)>Cr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class kD{constructor(e,n){this.errorPrefix_=n,this.parts_=YE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=nu(this.parts_[r]);KE(this)}}function ID(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=nu(e),KE(t)}function xD(t){const e=t.parts_.pop();t.byteLength_-=nu(e),t.parts_.length>0&&(t.byteLength_-=1)}function KE(t){if(t.byteLength_>by)throw new Error(t.errorPrefix_+"has a key path longer than "+by+" bytes ("+t.byteLength_+").");if(t.parts_.length>wy)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+wy+") or object contains a cycle "+jr(t))}function jr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends VE{static getInstance(){return new Zp}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return $(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=1e3,PD=60*5*1e3,Ey=30*1e3,RD=1.3,OD=3e4,AD="server_kill",Sy=3;class An extends WE{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=An.nextPersistentConnectionId_++,this.log_=ra("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bo,this.maxReconnectDelay_=PD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!pE())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Zp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ql.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Ue(o)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new tu,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,c=a.s;An.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&zn(e,"w")){const r=ao(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Et("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ".concat(i," at ").concat(o," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||bN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ey)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=wN(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ue(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Qh("Unrecognized action received from server: "+Ue(e)+"\nAre you using the latest client?")}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Bo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>OD&&(this.reconnectDelay_=Bo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+An.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},c=function(d){$(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?it("getToken() completed but was canceled"):(it("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new CD(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{Et(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(AD)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&Et(d),l())}}}interrupt(e){it("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){it("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Vh(this.interruptReasons_)&&(this.reconnectDelay_=Bo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>qp(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ye(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){it("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Sy&&(this.reconnectDelay_=Ey,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){it("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Sy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+EE.replace(/\./g,"-")]=1,zp()?e["framework.cordova"]=1:fE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ql.getInstance().currentlyOnline();return Vh(this.interruptReasons_)&&e}}An.nextPersistentConnectionId_=0;An.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ee(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ee(co,e),i=new ee(co,n);return this.compare(r,i)!==0}minPost(){return ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha;class XE extends ru{static get __EMPTY_NODE(){return Ha}static set __EMPTY_NODE(e){Ha=e}compare(e,n){return Co(e.name,n.name)}isDefinedOn(e){throw bo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(ci,Ha)}makePost(e,n){return $(typeof e=="string","KeyIndex indexValue must always be a string."),new ee(e,Ha)}toString(){return".key"}}const Ki=new XE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ve{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:Ve.RED,this.left=i!=null?i:vt.EMPTY_NODE,this.right=o!=null?o:vt.EMPTY_NODE}copy(e,n,r,i,o){return new Ve(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return vt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return vt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ve.RED=!0;Ve.BLACK=!1;class ND{copy(e,n,r,i,o){return this}insert(e,n,r){return new Ve(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vt{constructor(e,n=vt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new vt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ve.BLACK,null,null))}remove(e){return new vt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ve.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ja(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ja(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ja(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ja(this.root_,null,this.comparator_,!0,e)}}vt.EMPTY_NODE=new ND;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t,e){return Co(t.name,e.name)}function em(t,e){return Co(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh;function DD(t){Zh=t}const QE=function(t){return typeof t=="number"?"number:"+IE(t):"string:"+t},JE=function(t){if(t.isLeafNode()){const e=t.val();$(typeof e=="string"||typeof e=="number"||typeof e=="object"&&zn(e,".sv"),"Priority must be a string or number.")}else $(t===Zh||t.isEmpty(),"priority of unexpected type.");$(t===Zh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cy;class ze{static set __childrenNodeConstructor(e){Cy=e}static get __childrenNodeConstructor(){return Cy}constructor(e,n=ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),JE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ze(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ze.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ie(e)?this:Z(e)===".priority"?this.priorityNode_:ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Z(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:($(r!==".priority"||Cr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+QE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=IE(this.value_):e+=this.value_,this.lazyHash_=CE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ze.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ze.__childrenNodeConstructor?-1:($(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ze.VALUE_TYPE_ORDER.indexOf(n),o=ze.VALUE_TYPE_ORDER.indexOf(r);return $(i>=0,"Unknown leaf type: "+n),$(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZE,eS;function $D(t){ZE=t}function MD(t){eS=t}class FD extends ru{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Co(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(ci,new ze("[PRIORITY-POST]",eS))}makePost(e,n){const r=ZE(e);return new ee(n,new ze("[PRIORITY-POST]",r))}toString(){return".priority"}}const Re=new FD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=Math.log(2);class BD{constructor(e){const n=o=>parseInt(Math.log(o)/UD,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Jl=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Ve(h,d.node,Ve.BLACK,null,null);{const f=parseInt(u/2,10)+l,m=i(l,f),v=i(f+1,c);return d=t[f],h=n?n(d):d,new Ve(h,d.node,Ve.BLACK,m,v)}},o=function(l){let c=null,u=null,d=t.length;const h=function(m,v){const b=d-m,g=d;d-=m;const p=i(b+1,g),y=t[b],w=n?n(y):y;f(new Ve(w,y.node,v,null,p))},f=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const v=l.nextBitIsOne(),b=Math.pow(2,l.count-(m+1));v?h(b,Ve.BLACK):(h(b,Ve.BLACK),h(b,Ve.RED))}return u},s=new BD(t.length),a=o(s);return new vt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd;const Ei={};class In{static get Default(){return $(Ei&&Re,"ChildrenNode.ts has not been loaded"),wd=wd||new In({".priority":Ei},{".priority":Re}),wd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ao(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vt?n:null}hasIndex(e){return zn(this.indexSet_,e.toString())}addIndex(e,n){$(e!==Ki,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(ee.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Jl(r,e.getCompare()):a=Ei;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new In(u,c)}addToIndexes(e,n){const r=Yl(this.indexes_,(i,o)=>{const s=ao(this.indexSet_,o);if($(s,"Missing index implementation for "+o),i===Ei)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(ee.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Jl(a,s.getCompare())}else return Ei;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ee(e.name,a))),l.insert(e,e.node)}});return new In(r,this.indexSet_)}removeFromIndexes(e,n){const r=Yl(this.indexes_,i=>{if(i===Ei)return i;{const o=n.get(e.name);return o?i.remove(new ee(e.name,o)):i}});return new In(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho;class Y{static get EMPTY_NODE(){return Ho||(Ho=new Y(new vt(em),null,In.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&JE(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ho}updatePriority(e){return this.children_.isEmpty()?this:new Y(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ho:n}}getChild(e){const n=Z(e);return n===null?this:this.getImmediateChild(n).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if($(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ee(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Ho:this.priorityNode_;return new Y(i,s,o)}}updateChild(e,n){const r=Z(e);if(r===null)return n;{$(Z(e)!==".priority"||Cr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(_e(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Re,(s,a)=>{n[s]=a.val(e),r++,o&&Y.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+QE(this.getPriority().val())+":"),this.forEachChild(Re,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":CE(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new ee(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ee(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ee(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ee.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ee.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ia?-1:0}withIndex(e){if(e===Ki||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Y(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ki||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Re),i=n.getIterator(Re);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Ki?null:this.indexMap_.get(e.toString())}}Y.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class HD extends Y{constructor(){super(new vt(em),Y.EMPTY_NODE,In.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Y.EMPTY_NODE}isEmpty(){return!1}}const ia=new HD;Object.defineProperties(ee,{MIN:{value:new ee(co,Y.EMPTY_NODE)},MAX:{value:new ee(ci,ia)}});XE.__EMPTY_NODE=Y.EMPTY_NODE;ze.__childrenNodeConstructor=Y;DD(ia);MD(ia);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=!0;function Ge(t,e=null){if(t===null)return Y.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),$(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ze(n,Ge(e))}if(!(t instanceof Array)&&jD){const n=[];let r=!1;if(Ct(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=Ge(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ee(s,l)))}}),n.length===0)return Y.EMPTY_NODE;const o=Jl(n,LD,s=>s.name,em);if(r){const s=Jl(n,Re.getCompare());return new Y(o,Ge(e),new In({".priority":s},{".priority":Re}))}else return new Y(o,Ge(e),In.Default)}else{let n=Y.EMPTY_NODE;return Ct(t,(r,i)=>{if(zn(t,r)&&r.substring(0,1)!=="."){const o=Ge(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ge(e))}}$D(Ge);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD extends ru{constructor(e){super(),this.indexPath_=e,$(!ie(e)&&Z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Co(e.name,n.name):o}makePost(e,n){const r=Ge(e),i=Y.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(n,i)}maxPost(){const e=Y.EMPTY_NODE.updateChild(this.indexPath_,ia);return new ee(ci,e)}toString(){return YE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD extends ru{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Co(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,n){const r=Ge(e);return new ee(n,r)}toString(){return".value"}}const VD=new WD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){return{type:"value",snapshotNode:t}}function uo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function $s(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ms(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function GD(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){$(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange($s(n,a)):$(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(uo(n,r)):s.trackChildChange(Ms(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Re,(i,o)=>{n.hasChild(i)||r.trackChildChange($s(i,o))}),n.isLeafNode()||n.forEachChild(Re,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ms(i,o,s))}else r.trackChildChange(uo(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Y.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.indexedFilter_=new tm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fs.getStartPost_(e),this.endPost_=Fs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new ee(n,r))||(r=Y.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Y.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Y.EMPTY_NODE);const o=this;return n.forEachChild(Re,(s,a)=>{o.matches(new ee(s,a))||(i=i.updateImmediateChild(s,Y.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Fs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new ee(n,r))||(r=Y.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Y.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Y.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Y.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,Y.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();const a=e;$(a.numChildren()===this.limit_,"");const l=new ee(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:s(h,l);if(u&&!r.isEmpty()&&f>=0)return o!=null&&o.trackChildChange(Ms(n,r,d)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange($s(n,d));const v=a.updateImmediateChild(n,Y.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o!=null&&o.trackChildChange(uo(h.name,h.node)),v.updateImmediateChild(h.name,h.node)):v}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange($s(c.name,c.node)),o.trackChildChange(uo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Y.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Re}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:co}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ci}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Re}copy(){const e=new nm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function qD(t){return t.loadsAllData()?new tm(t.getIndex()):t.hasLimit()?new YD(t):new Fs(t)}function Ty(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Re?n="$priority":t.index_===VD?n="$value":t.index_===Ki?n="$key":($(t.index_ instanceof zD,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ue(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ue(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ue(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ue(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ue(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ky(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Re&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends WE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:($(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ra("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Zl.getListenId_(e,r),a={};this.listens_[s]=a;const l=Ty(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),ao(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=Zl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Ty(e._queryParams),r=e._path.toString(),i=new tu;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Eo(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ns(a.responseText)}catch(c){Et("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Et("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.rootNode_=Y.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(){return{value:null,children:new Map}}function nS(t,e,n){if(ie(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Z(e);t.children.has(r)||t.children.set(r,ec());const i=t.children.get(r);e=_e(e),nS(i,e,n)}}function ef(t,e,n){t.value!==null?n(e,t.value):XD(t,(r,i)=>{const o=new ye(e.toString()+"/"+r);ef(i,o,n)})}function XD(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ct(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=10*1e3,JD=30*1e3,ZD=5*60*1e3;class e${constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new QD(e);const r=Iy+(JD-Iy)*Math.random();os(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ct(e,(i,o)=>{o>0&&zn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),os(this.reportStats_.bind(this),Math.floor(Math.random()*2*ZD))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Jt||(Jt={}));function rS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function im(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Jt.ACK_USER_WRITE,this.source=rS()}operationForChild(e){if(ie(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ye(e));return new tc(ue(),n,this.revert)}}else return $(Z(this.path)===e,"operationForChild called for unrelated child."),new tc(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){this.source=e,this.path=n,this.type=Jt.LISTEN_COMPLETE}operationForChild(e){return ie(this.path)?new Us(this.source,ue()):new Us(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Jt.OVERWRITE}operationForChild(e){return ie(this.path)?new ui(this.source,ue(),this.snap.getImmediateChild(e)):new ui(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Jt.MERGE}operationForChild(e){if(ie(this.path)){const n=this.children.subtree(new ye(e));return n.isEmpty()?null:n.value?new ui(this.source,ue(),n.value):new Bs(this.source,ue(),n)}else return $(Z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Bs(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ie(e))return this.isFullyInitialized()&&!this.filtered_;const n=Z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function n$(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(GD(s.childName,s.snapshotNode))}),jo(t,i,"child_removed",e,r,n),jo(t,i,"child_added",e,r,n),jo(t,i,"child_moved",o,r,n),jo(t,i,"child_changed",e,r,n),jo(t,i,"value",e,r,n),i}function jo(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>i$(t,a,l)),s.forEach(a=>{const l=r$(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function r$(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function i$(t,e,n){if(e.childName==null||n.childName==null)throw bo("Should only compare child_ events.");const r=new ee(e.childName,e.snapshotNode),i=new ee(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(t,e){return{eventCache:t,serverCache:e}}function ss(t,e,n,r){return iu(new Tr(e,n,r),t.serverCache)}function iS(t,e,n,r){return iu(t.eventCache,new Tr(e,n,r))}function nc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function di(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd;const o$=()=>(bd||(bd=new vt(WL)),bd);class Ee{static fromObject(e){let n=new Ee(null);return Ct(e,(r,i)=>{n=n.set(new ye(r),i)}),n}constructor(e,n=o$()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ue(),value:this.value};if(ie(e))return null;{const r=Z(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(_e(e),n);return o!=null?{path:Be(new ye(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ie(e))return this;{const n=Z(e),r=this.children.get(n);return r!==null?r.subtree(_e(e)):new Ee(null)}}set(e,n){if(ie(e))return new Ee(n,this.children);{const r=Z(e),o=(this.children.get(r)||new Ee(null)).set(_e(e),n),s=this.children.insert(r,o);return new Ee(this.value,s)}}remove(e){if(ie(e))return this.children.isEmpty()?new Ee(null):new Ee(null,this.children);{const n=Z(e),r=this.children.get(n);if(r){const i=r.remove(_e(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new Ee(null):new Ee(this.value,o)}else return this}}get(e){if(ie(e))return this.value;{const n=Z(e),r=this.children.get(n);return r?r.get(_e(e)):null}}setTree(e,n){if(ie(e))return n;{const r=Z(e),o=(this.children.get(r)||new Ee(null)).setTree(_e(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new Ee(this.value,s)}}fold(e){return this.fold_(ue(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Be(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ue(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ie(e))return null;{const o=Z(e),s=this.children.get(o);return s?s.findOnPath_(_e(e),Be(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ue(),n)}foreachOnPath_(e,n,r){if(ie(e))return this;{this.value&&r(n,this.value);const i=Z(e),o=this.children.get(i);return o?o.foreachOnPath_(_e(e),Be(n,i),r):new Ee(null)}}foreach(e){this.foreach_(ue(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Be(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.writeTree_=e}static empty(){return new nn(new Ee(null))}}function as(t,e,n){if(ie(e))return new nn(new Ee(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=lt(i,e);return o=o.updateChild(s,n),new nn(t.writeTree_.set(i,o))}else{const i=new Ee(n),o=t.writeTree_.setTree(e,i);return new nn(o)}}}function xy(t,e,n){let r=t;return Ct(n,(i,o)=>{r=as(r,Be(e,i),o)}),r}function Py(t,e){if(ie(e))return nn.empty();{const n=t.writeTree_.setTree(e,new Ee(null));return new nn(n)}}function tf(t,e){return yi(t,e)!=null}function yi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(lt(n.path,e)):null}function Ry(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Re,(r,i)=>{e.push(new ee(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ee(r,i.value))}),e}function yr(t,e){if(ie(e))return t;{const n=yi(t,e);return n!=null?new nn(new Ee(n)):new nn(t.writeTree_.subtree(e))}}function nf(t){return t.writeTree_.isEmpty()}function ho(t,e){return oS(ue(),t.writeTree_,e)}function oS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?($(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=oS(Be(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Be(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t,e){return cS(e,t)}function s$(t,e,n,r,i){$(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=as(t.visibleWrites,e,n)),t.lastWriteId=r}function a$(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function l$(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);$(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&c$(a,r.path)?i=!1:Qt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return u$(t),!0;if(r.snap)t.visibleWrites=Py(t.visibleWrites,r.path);else{const a=r.children;Ct(a,l=>{t.visibleWrites=Py(t.visibleWrites,Be(r.path,l))})}return!0}else return!1}function c$(t,e){if(t.snap)return Qt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Qt(Be(t.path,n),e))return!0;return!1}function u$(t){t.visibleWrites=sS(t.allWrites,d$,ue()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function d$(t){return t.visible}function sS(t,e,n){let r=nn.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Qt(n,s)?(a=lt(n,s),r=as(r,a,o.snap)):Qt(s,n)&&(a=lt(s,n),r=as(r,ue(),o.snap.getChild(a)));else if(o.children){if(Qt(n,s))a=lt(n,s),r=xy(r,a,o.children);else if(Qt(s,n))if(a=lt(s,n),ie(a))r=xy(r,ue(),o.children);else{const l=ao(o.children,Z(a));if(l){const c=l.getChild(_e(a));r=as(r,ue(),c)}}}else throw bo("WriteRecord should have .snap or .children")}}return r}function aS(t,e,n,r,i){if(!r&&!i){const o=yi(t.visibleWrites,e);if(o!=null)return o;{const s=yr(t.visibleWrites,e);if(nf(s))return n;if(n==null&&!tf(s,ue()))return null;{const a=n||Y.EMPTY_NODE;return ho(s,a)}}}else{const o=yr(t.visibleWrites,e);if(!i&&nf(o))return n;if(!i&&n==null&&!tf(o,ue()))return null;{const s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Qt(c.path,e)||Qt(e,c.path))},a=sS(t.allWrites,s,e),l=n||Y.EMPTY_NODE;return ho(a,l)}}}function h$(t,e,n){let r=Y.EMPTY_NODE;const i=yi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Re,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=yr(t.visibleWrites,e);return n.forEachChild(Re,(s,a)=>{const l=ho(yr(o,new ye(s)),a);r=r.updateImmediateChild(s,l)}),Ry(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=yr(t.visibleWrites,e);return Ry(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function f$(t,e,n,r,i){$(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Be(e,n);if(tf(t.visibleWrites,o))return null;{const s=yr(t.visibleWrites,o);return nf(s)?i.getChild(n):ho(s,i.getChild(n))}}function p$(t,e,n,r){const i=Be(e,n),o=yi(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=yr(t.visibleWrites,i);return ho(s,r.getNode().getImmediateChild(n))}else return null}function m$(t,e){return yi(t.visibleWrites,e)}function g$(t,e,n,r,i,o,s){let a;const l=yr(t.visibleWrites,e),c=yi(l,ue());if(c!=null)a=c;else if(n!=null)a=ho(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function v$(){return{visibleWrites:nn.empty(),allWrites:[],lastWriteId:-1}}function rc(t,e,n,r){return aS(t.writeTree,t.treePath,e,n,r)}function om(t,e){return h$(t.writeTree,t.treePath,e)}function Oy(t,e,n,r){return f$(t.writeTree,t.treePath,e,n,r)}function ic(t,e){return m$(t.writeTree,Be(t.treePath,e))}function y$(t,e,n,r,i,o){return g$(t.writeTree,t.treePath,e,n,r,i,o)}function sm(t,e,n){return p$(t.writeTree,t.treePath,e,n)}function lS(t,e){return cS(Be(t.treePath,e),t.writeTree)}function cS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ms(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,$s(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,uo(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ms(r,e.snapshotNode,i.oldSnap));else throw bo("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const uS=new w$;class am{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Tr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sm(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:di(this.viewCache_),o=y$(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){return{filter:t}}function E$(t,e){$(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),$(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function S$(t,e,n,r,i){const o=new _$;let s,a;if(n.type===Jt.OVERWRITE){const c=n;c.source.fromUser?s=rf(t,e,c.path,c.snap,r,i,o):($(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ie(c.path),s=oc(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===Jt.MERGE){const c=n;c.source.fromUser?s=T$(t,e,c.path,c.children,r,i,o):($(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=of(t,e,c.path,c.children,r,i,a,o))}else if(n.type===Jt.ACK_USER_WRITE){const c=n;c.revert?s=x$(t,e,c.path,r,i,o):s=k$(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===Jt.LISTEN_COMPLETE)s=I$(t,e,n.path,r,o);else throw bo("Unknown operation type: "+n.type);const l=o.getChanges();return C$(e,s,l),{viewCache:s,changes:l}}function C$(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=nc(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(tS(nc(e)))}}function dS(t,e,n,r,i,o){const s=e.eventCache;if(ic(r,n)!=null)return e;{let a,l;if(ie(n))if($(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=di(e),u=c instanceof Y?c:Y.EMPTY_NODE,d=om(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const c=rc(r,di(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=Z(n);if(c===".priority"){$(Cr(n)===1,"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const d=Oy(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{const u=_e(n);let d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Oy(r,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=sm(r,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return ss(e,a,s.isFullyInitialized()||ie(n),t.filter.filtersNodes())}}function oc(t,e,n,r,i,o,s,a){const l=e.serverCache;let c;const u=s?t.filter:t.filter.getIndexedFilter();if(ie(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=Z(n);if(!l.isCompleteForPath(n)&&Cr(n)>1)return e;const m=_e(n),b=l.getNode().getImmediateChild(f).updateChild(m,r);f===".priority"?c=u.updatePriority(l.getNode(),b):c=u.updateChild(l.getNode(),f,b,m,uS,null)}const d=iS(e,c,l.isFullyInitialized()||ie(n),u.filtersNodes()),h=new am(i,d,o);return dS(t,d,n,i,h,a)}function rf(t,e,n,r,i,o,s){const a=e.eventCache;let l,c;const u=new am(i,e,o);if(ie(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=ss(e,c,!0,t.filter.filtersNodes());else{const d=Z(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=ss(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=_e(n),f=a.getNode().getImmediateChild(d);let m;if(ie(h))m=r;else{const v=u.getCompleteChild(d);v!=null?GE(h)===".priority"&&v.getChild(qE(h)).isEmpty()?m=v:m=v.updateChild(h,r):m=Y.EMPTY_NODE}if(f.equals(m))l=e;else{const v=t.filter.updateChild(a.getNode(),d,m,h,u,s);l=ss(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Ay(t,e){return t.eventCache.isCompleteForChild(e)}function T$(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{const u=Be(n,l);Ay(e,Z(u))&&(a=rf(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{const u=Be(n,l);Ay(e,Z(u))||(a=rf(t,a,u,c,i,o,s))}),a}function Ny(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function of(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ie(n)?c=r:c=new Ee(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),m=Ny(t,f,h);l=oc(t,l,new ye(d),m,i,o,s,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){const m=e.serverCache.getNode().getImmediateChild(d),v=Ny(t,m,h);l=oc(t,l,new ye(d),v,i,o,s,a)}}),l}function k$(t,e,n,r,i,o,s){if(ic(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ie(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return oc(t,e,n,l.getNode().getChild(n),i,o,a,s);if(ie(n)){let c=new Ee(null);return l.getNode().forEachChild(Ki,(u,d)=>{c=c.set(new ye(u),d)}),of(t,e,n,c,i,o,a,s)}else return e}else{let c=new Ee(null);return r.foreach((u,d)=>{const h=Be(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),of(t,e,n,c,i,o,a,s)}}function I$(t,e,n,r,i){const o=e.serverCache,s=iS(e,o.getNode(),o.isFullyInitialized()||ie(n),o.isFiltered());return dS(t,s,n,r,uS,i)}function x$(t,e,n,r,i,o){let s;if(ic(r,n)!=null)return e;{const a=new am(r,e,i),l=e.eventCache.getNode();let c;if(ie(n)||Z(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=rc(r,di(e));else{const d=e.serverCache.getNode();$(d instanceof Y,"serverChildren would be complete if leaf node"),u=om(r,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{const u=Z(n);let d=sm(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,_e(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Y.EMPTY_NODE,_e(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=rc(r,di(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||ic(r,ue())!=null,ss(e,c,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new tm(r.getIndex()),o=qD(r);this.processor_=b$(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(Y.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Y.EMPTY_NODE,a.getNode(),null),u=new Tr(l,s.isFullyInitialized(),i.filtersNodes()),d=new Tr(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=iu(d,u),this.eventGenerator_=new t$(this.query_)}get query(){return this.query_}}function R$(t){return t.viewCache_.serverCache.getNode()}function O$(t){return nc(t.viewCache_)}function A$(t,e){const n=di(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ie(e)&&!n.getImmediateChild(Z(e)).isEmpty())?n.getChild(e):null}function Ly(t){return t.eventRegistrations_.length===0}function N$(t,e){t.eventRegistrations_.push(e)}function Dy(t,e,n){const r=[];if(n){$(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function $y(t,e,n,r){e.type===Jt.MERGE&&e.source.queryId!==null&&($(di(t.viewCache_),"We should always have a full cache before handling merges"),$(nc(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=S$(t.processor_,i,e,n,r);return E$(t.processor_,o.viewCache),$(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,hS(t,o.changes,o.viewCache.eventCache.getNode(),null)}function L$(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Re,(o,s)=>{r.push(uo(o,s))}),n.isFullyInitialized()&&r.push(tS(n.getNode())),hS(t,r,n.getNode(),e)}function hS(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return n$(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc;class fS{constructor(){this.views=new Map}}function D$(t){$(!sc,"__referenceConstructor has already been defined"),sc=t}function $$(){return $(sc,"Reference.ts has not been loaded"),sc}function M$(t){return t.views.size===0}function lm(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return $(o!=null,"SyncTree gave us an op for an invalid query."),$y(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat($y(s,e,n,r));return o}}function pS(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=rc(n,i?r:null),l=!1;a?l=!0:r instanceof Y?(a=om(n,r),l=!1):(a=Y.EMPTY_NODE,l=!1);const c=iu(new Tr(a,l,!1),new Tr(r,i,!1));return new P$(e,c)}return s}function F$(t,e,n,r,i,o){const s=pS(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),N$(s,n),L$(s,n)}function U$(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=kr(t);if(i==="default")for(const[l,c]of t.views.entries())s=s.concat(Dy(c,n,r)),Ly(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=t.views.get(i);l&&(s=s.concat(Dy(l,n,r)),Ly(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!kr(t)&&o.push(new($$())(e._repo,e._path)),{removed:o,events:s}}function mS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function _r(t,e){let n=null;for(const r of t.views.values())n=n||A$(r,e);return n}function gS(t,e){if(e._queryParams.loadsAllData())return su(t);{const r=e._queryIdentifier;return t.views.get(r)}}function vS(t,e){return gS(t,e)!=null}function kr(t){return su(t)!=null}function su(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac;function B$(t){$(!ac,"__referenceConstructor has already been defined"),ac=t}function H$(){return $(ac,"Reference.ts has not been loaded"),ac}let j$=1;class My{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ee(null),this.pendingWriteTree_=v$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yS(t,e,n,r,i){return s$(t.pendingWriteTree_,e,n,r,i),i?sa(t,new ui(rS(),e,n)):[]}function Qr(t,e,n=!1){const r=a$(t.pendingWriteTree_,e);if(l$(t.pendingWriteTree_,e)){let o=new Ee(null);return r.snap!=null?o=o.set(ue(),!0):Ct(r.children,s=>{o=o.set(new ye(s),!0)}),sa(t,new tc(r.path,o,n))}else return[]}function oa(t,e,n){return sa(t,new ui(rm(),e,n))}function z$(t,e,n){const r=Ee.fromObject(n);return sa(t,new Bs(rm(),e,r))}function W$(t,e){return sa(t,new Us(rm(),e))}function V$(t,e,n){const r=um(t,n);if(r){const i=dm(r),o=i.path,s=i.queryId,a=lt(o,e),l=new Us(im(s),a);return hm(t,o,l)}else return[]}function lc(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||vS(s,e))){const l=U$(s,e,n,r);M$(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(h,f)=>kr(f));if(u&&!d){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const f=q$(h);for(let m=0;m<f.length;++m){const v=f[m],b=v.query,g=ES(t,v);t.listenProvider_.startListening(ls(b),Hs(t,b),g.hashFn,g.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(ls(e),null):c.forEach(h=>{const f=t.queryToTagMap.get(au(h));t.listenProvider_.stopListening(ls(h),f)}))}K$(t,c)}return a}function _S(t,e,n,r){const i=um(t,r);if(i!=null){const o=dm(i),s=o.path,a=o.queryId,l=lt(s,e),c=new ui(im(a),l,n);return hm(t,s,c)}else return[]}function G$(t,e,n,r){const i=um(t,r);if(i){const o=dm(i),s=o.path,a=o.queryId,l=lt(s,e),c=Ee.fromObject(n),u=new Bs(im(a),l,c);return hm(t,s,u)}else return[]}function sf(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const m=lt(h,i);o=o||_r(f,m),s=s||kr(f)});let a=t.syncPointTree_.get(i);a?(s=s||kr(a),o=o||_r(a,ue())):(a=new fS,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=Y.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,m)=>{const v=_r(m,ue());v&&(o=o.updateImmediateChild(f,v))}));const c=vS(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=au(e);$(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=X$();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const u=ou(t.pendingWriteTree_,i);let d=F$(a,e,n,u,o,l);if(!c&&!s&&!r){const h=gS(a,e);d=d.concat(Q$(t,e,h))}return d}function cm(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=lt(s,e),c=_r(a,l);if(c)return c});return aS(i,e,o,n,!0)}function Y$(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=lt(c,n);r=r||_r(u,d)});let i=t.syncPointTree_.get(n);i?r=r||_r(i,ue()):(i=new fS,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=r!=null,s=o?new Tr(r,!0,!1):null,a=ou(t.pendingWriteTree_,e._path),l=pS(i,e,a,o?s.getNode():Y.EMPTY_NODE,o);return O$(l)}function sa(t,e){return wS(e,t.syncPointTree_,null,ou(t.pendingWriteTree_,ue()))}function wS(t,e,n,r){if(ie(t.path))return bS(t,e,n,r);{const i=e.get(ue());n==null&&i!=null&&(n=_r(i,ue()));let o=[];const s=Z(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=n?n.getImmediateChild(s):null,u=lS(r,s);o=o.concat(wS(a,l,c,u))}return i&&(o=o.concat(lm(i,t,r,n))),o}}function bS(t,e,n,r){const i=e.get(ue());n==null&&i!=null&&(n=_r(i,ue()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,c=lS(r,s),u=t.operationForChild(s);u&&(o=o.concat(bS(u,a,l,c)))}),i&&(o=o.concat(lm(i,t,r,n))),o}function ES(t,e){const n=e.query,r=Hs(t,n);return{hashFn:()=>(R$(e)||Y.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?V$(t,n._path,r):W$(t,n._path);{const o=YL(i,n);return lc(t,n,null,o)}}}}function Hs(t,e){const n=au(e);return t.queryToTagMap.get(n)}function au(t){return t._path.toString()+"$"+t._queryIdentifier}function um(t,e){return t.tagToQueryMap.get(e)}function dm(t){const e=t.indexOf("$");return $(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ye(t.substr(0,e))}}function hm(t,e,n){const r=t.syncPointTree_.get(e);$(r,"Missing sync point for query tag that we're tracking");const i=ou(t.pendingWriteTree_,e);return lm(r,n,i,null)}function q$(t){return t.fold((e,n,r)=>{if(n&&kr(n))return[su(n)];{let i=[];return n&&(i=mS(n)),Ct(r,(o,s)=>{i=i.concat(s)}),i}})}function ls(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(H$())(t._repo,t._path):t}function K$(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=au(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function X$(){return j$++}function Q$(t,e,n){const r=e._path,i=Hs(t,e),o=ES(t,n),s=t.listenProvider_.startListening(ls(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)$(!kr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ie(c)&&u&&kr(u))return[su(u).query];{let h=[];return u&&(h=h.concat(mS(u).map(f=>f.query))),Ct(d,(f,m)=>{h=h.concat(m)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(ls(u),Hs(t,u))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new fm(n)}node(){return this.node_}}class pm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Be(this.path_,e);return new pm(this.syncTree_,n)}node(){return cm(this.syncTree_,this.path_)}}const J$=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Fy=function(t,e,n){if(!t||typeof t!="object")return t;if($(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Z$(t[".sv"],e,n);if(typeof t[".sv"]=="object")return eM(t[".sv"],e);$(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Z$=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+t)}},eM=function(t,e,n){t.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&$(!1,"Unexpected increment value: "+r);const i=e.node();if($(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},tM=function(t,e,n,r){return mm(e,new pm(n,t),r)},SS=function(t,e,n){return mm(t,new fm(e),n)};function mm(t,e,n){const r=t.getPriority().val(),i=Fy(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=Fy(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new ze(a,Ge(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new ze(i))),s.forEachChild(Re,(a,l)=>{const c=mm(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function vm(t,e){let n=e instanceof ye?e:new ye(e),r=t,i=Z(n);for(;i!==null;){const o=ao(r.node.children,i)||{children:{},childCount:0};r=new gm(i,r,o),n=_e(n),i=Z(n)}return r}function ko(t){return t.node.value}function CS(t,e){t.node.value=e,af(t)}function TS(t){return t.node.childCount>0}function nM(t){return ko(t)===void 0&&!TS(t)}function lu(t,e){Ct(t.node.children,(n,r)=>{e(new gm(n,t,r))})}function kS(t,e,n,r){n&&!r&&e(t),lu(t,i=>{kS(i,e,!0,r)}),n&&r&&e(t)}function rM(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function aa(t){return new ye(t.parent===null?t.name:aa(t.parent)+"/"+t.name)}function af(t){t.parent!==null&&iM(t.parent,t.name,t)}function iM(t,e,n){const r=nM(n),i=zn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,af(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,af(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=/[\[\].#$\/\u0000-\u001F\u007F]/,sM=/[\[\].#$\u0000-\u001F\u007F]/,Ed=10*1024*1024,IS=function(t){return typeof t=="string"&&t.length!==0&&!oM.test(t)},xS=function(t){return typeof t=="string"&&t.length!==0&&!sM.test(t)},aM=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),xS(t)},PS=function(t,e,n,r){r&&e===void 0||ym(Wp(t,"value"),e,n)},ym=function(t,e,n){const r=n instanceof ye?new kD(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+jr(r));if(typeof e=="function")throw new Error(t+"contains a function "+jr(r)+" with contents = "+e.toString());if(TE(e))throw new Error(t+"contains "+e.toString()+" "+jr(r));if(typeof e=="string"&&e.length>Ed/3&&nu(e)>Ed)throw new Error(t+"contains a string greater than "+Ed+" utf8 bytes "+jr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ct(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!IS(s)))throw new Error(t+" contains an invalid key ("+s+") "+jr(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');ID(r,s),ym(t,a,r),xD(r)}),i&&o)throw new Error(t+' contains ".value" child '+jr(r)+" in addition to actual children.")}},RS=function(t,e,n,r){if(!xS(n))throw new Error(Wp(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},lM=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),RS(t,e,n)},OS=function(t,e){if(Z(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},cM=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!IS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!aM(n))throw new Error(Wp(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _m(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!Jp(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function AS(t,e,n){_m(t,n),NS(t,r=>Jp(r,e))}function vn(t,e,n){_m(t,n),NS(t,r=>Qt(r,e)||Qt(e,r))}function NS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(dM(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function dM(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();is&&it("event: "+n.toString()),To(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="repo_interrupt",fM=25;class pM{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ec(),this.transactionQueueTree_=new gm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mM(t,e,n){if(t.stats_=Xp(t.repoInfo_),t.forceRestClient_||QL())t.server_=new Zl(t.repoInfo_,(r,i,o,s)=>{Uy(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>By(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ue(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new An(t.repoInfo_,e,(r,i,o,s)=>{Uy(t,r,i,o,s)},r=>{By(t,r)},r=>{gM(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=nD(t.repoInfo_,()=>new e$(t.stats_,t.server_)),t.infoData_=new KD,t.infoSyncTree_=new My({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=oa(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),bm(t,"connected",!1),t.serverSyncTree_=new My({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const c=s(a,l);vn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function LS(t){const n=t.infoData_.getNode(new ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function wm(t){return J$({timestamp:LS(t)})}function Uy(t,e,n,r,i){t.dataUpdateCount++;const o=new ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=Yl(n,c=>Ge(c));s=G$(t.serverSyncTree_,o,l,i)}else{const l=Ge(n);s=_S(t.serverSyncTree_,o,l,i)}else if(r){const l=Yl(n,c=>Ge(c));s=z$(t.serverSyncTree_,o,l)}else{const l=Ge(n);s=oa(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=uu(t,o)),vn(t.eventQueue_,a,s)}function By(t,e){bm(t,"connected",e),e===!1&&_M(t)}function gM(t,e){Ct(e,(n,r)=>{bm(t,n,r)})}function bm(t,e,n){const r=new ye("/.info/"+e),i=Ge(n);t.infoData_.updateSnapshot(r,i);const o=oa(t.infoSyncTree_,r,i);vn(t.eventQueue_,r,o)}function DS(t){return t.nextWriteId_++}function vM(t,e,n){const r=Y$(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const o=Ge(i).withIndex(e._queryParams.getIndex());sf(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=oa(t.serverSyncTree_,e._path,o);else{const a=Hs(t.serverSyncTree_,e);s=_S(t.serverSyncTree_,e._path,o,a)}return vn(t.eventQueue_,e._path,s),lc(t.serverSyncTree_,e,n,null,!0),o},i=>(cu(t,"get for query "+Ue(e)+" failed: "+i),Promise.reject(new Error(i))))}function yM(t,e,n,r,i){cu(t,"set",{path:e.toString(),value:n,priority:r});const o=wm(t),s=Ge(n,r),a=cm(t.serverSyncTree_,e),l=SS(s,a,o),c=DS(t),u=yS(t.serverSyncTree_,e,l,c,!0);_m(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(h,f)=>{const m=h==="ok";m||Et("set at "+e+" failed: "+h);const v=Qr(t.serverSyncTree_,c,!m);vn(t.eventQueue_,e,v),SM(t,i,h,f)});const d=BS(t,e);uu(t,d),vn(t.eventQueue_,d,[])}function _M(t){cu(t,"onDisconnectEvents");const e=wm(t),n=ec();ef(t.onDisconnect_,ue(),(i,o)=>{const s=tM(i,o,t.serverSyncTree_,e);nS(n,i,s)});let r=[];ef(n,ue(),(i,o)=>{r=r.concat(oa(t.serverSyncTree_,i,o));const s=BS(t,i);uu(t,s)}),t.onDisconnect_=ec(),vn(t.eventQueue_,ue(),r)}function wM(t,e,n){let r;Z(e._path)===".info"?r=sf(t.infoSyncTree_,e,n):r=sf(t.serverSyncTree_,e,n),AS(t.eventQueue_,e._path,r)}function bM(t,e,n){let r;Z(e._path)===".info"?r=lc(t.infoSyncTree_,e,n):r=lc(t.serverSyncTree_,e,n),AS(t.eventQueue_,e._path,r)}function EM(t){t.persistentConnection_&&t.persistentConnection_.interrupt(hM)}function cu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),it(n,...e)}function SM(t,e,n,r){e&&To(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function $S(t,e,n){return cm(t.serverSyncTree_,e,n)||Y.EMPTY_NODE}function Em(t,e=t.transactionQueueTree_){if(e||du(t,e),ko(e)){const n=FS(t,e);$(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&CM(t,aa(e),n)}else TS(e)&&lu(e,n=>{Em(t,n)})}function CM(t,e,n){const r=n.map(c=>c.currentWriteId),i=$S(t,e,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const u=n[c];$(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=lt(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{cu(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Qr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();du(t,vm(t.transactionQueueTree_,e)),Em(t,t.transactionQueueTree_),vn(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)To(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Et("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}uu(t,e)}},s)}function uu(t,e){const n=MS(t,e),r=aa(n),i=FS(t,n);return TM(t,i,r),r}function TM(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=lt(n,l.path);let u=!1,d;if($(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Qr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=fM)u=!0,d="maxretry",i=i.concat(Qr(t.serverSyncTree_,l.currentWriteId,!0));else{const h=$S(t,l.path,s);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){ym("transaction failed: Data returned ",f,l.path);let m=Ge(f);typeof f=="object"&&f!=null&&zn(f,".priority")||(m=m.updatePriority(h.getPriority()));const b=l.currentWriteId,g=wm(t),p=SS(m,h,g);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=p,l.currentWriteId=DS(t),s.splice(s.indexOf(b),1),i=i.concat(yS(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat(Qr(t.serverSyncTree_,b,!0))}else u=!0,d="nodata",i=i.concat(Qr(t.serverSyncTree_,l.currentWriteId,!0))}vn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}du(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)To(r[a]);Em(t,t.transactionQueueTree_)}function MS(t,e){let n,r=t.transactionQueueTree_;for(n=Z(e);n!==null&&ko(r)===void 0;)r=vm(r,n),e=_e(e),n=Z(e);return r}function FS(t,e){const n=[];return US(t,e,n),n.sort((r,i)=>r.order-i.order),n}function US(t,e,n){const r=ko(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);lu(e,i=>{US(t,i,n)})}function du(t,e){const n=ko(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,CS(e,n.length>0?n:void 0)}lu(e,r=>{du(t,r)})}function BS(t,e){const n=aa(MS(t,e)),r=vm(t.transactionQueueTree_,e);return rM(r,i=>{Sd(t,i)}),Sd(t,r),kS(r,i=>{Sd(t,i)}),n}function Sd(t,e){const n=ko(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?($(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):($(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Qr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?CS(e,void 0):n.length=o+1,vn(t.eventQueue_,aa(e),i);for(let s=0;s<r.length;s++)To(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}function IM(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Et("Invalid query segment '".concat(n,"' in query '").concat(t,"'"))}return e}const Hy=function(t,e){const n=xM(t),r=n.namespace;n.domain==="firebase.com"&&Fn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Fn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||jL();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ME(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ye(n.pathString)}},xM=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=kM(t.substring(u,d)));const h=IM(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",PM=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const o=new Array(8);for(i=7;i>=0;i--)o[i]=jy.charAt(n%64),n=Math.floor(n/64);$(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=jy.charAt(e[i]);return $(s.length===20,"nextPushId: Length should be 20."),s}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ue(this.snapshot.exportVal())}}class jS{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ie(this._path)?null:GE(this._path)}get ref(){return new _n(this._repo,this._path)}get _queryIdentifier(){const e=ky(this._queryParams),n=qp(e);return n==="{}"?"default":n}get _queryObject(){return ky(this._queryParams)}isEqual(e){if(e=Lt(e),!(e instanceof Sm))return!1;const n=this._repo===e._repo,r=Jp(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+TD(this._path)}}class _n extends Sm{constructor(e,n){super(e,n,new nm,!1)}get parent(){const e=qE(this._path);return e===null?null:new _n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class fo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ye(e),r=po(this.ref,e);return new fo(this._node.getChild(n),r,Re)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new fo(i,po(this.ref,r),Re)))}hasChild(e){const n=new ye(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $t(t,e){return t=Lt(t),t._checkNotDeleted("ref"),e!==void 0?po(t._root,e):t._root}function po(t,e){return t=Lt(t),Z(t._path)===null?lM("child","path",e):RS("child","path",e),new _n(t._repo,Be(t._path,e))}function RM(t,e){t=Lt(t),OS("push",t._path),PS("push",e,t._path,!0);const n=LS(t._repo),r=PM(n),i=po(t,r),o=po(t,r);let s;return e!=null?s=zr(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function zr(t,e){t=Lt(t),OS("set",t._path),PS("set",e,t._path,!1);const n=new tu;return yM(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function OM(t){t=Lt(t);const e=new zS(()=>{}),n=new hu(e);return vM(t._repo,t,n).then(r=>new fo(r,new _n(t._repo,t._path),t._queryParams.getIndex()))}class hu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new HS("value",this,new fo(e.snapshotNode,new _n(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new jS(this,e,n):null}matches(e){return e instanceof hu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Cm{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new jS(this,e,n):null}createEvent(e,n){$(e.childName!=null,"Child events should have a childName.");const r=po(new _n(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new HS(e.type,this,new fo(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Cm?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function WS(t,e,n,r,i){const o=new zS(n,void 0),s=e==="value"?new hu(o):new Cm(e,o);return wM(t._repo,t,s),()=>bM(t._repo,t,s)}function AM(t,e,n,r){return WS(t,"value",e)}function Cd(t,e,n,r){return WS(t,"child_added",e)}D$(_n);B$(_n);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="FIREBASE_DATABASE_EMULATOR_HOST",lf={};let LM=!1;function DM(t,e,n,r){t.repoInfo_=new ME("".concat(e,":").concat(n),!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function $M(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Fn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),it("Using default host for project ",t.options.projectId),o="".concat(t.options.projectId,"-default-rtdb.firebaseio.com"));let s=Hy(o,i),a=s.repoInfo,l;typeof process<"u"&&ly&&(l=ly[NM]),l?(o="http://".concat(l,"?ns=").concat(a.namespace),s=Hy(o,i),a=s.repoInfo):s.repoInfo.secure;const c=new ZL(t.name,t.options,e);cM("Invalid Firebase Database URL",s),ie(s.path)||Fn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=FM(a,t,c,new JL(t.name,n));return new UM(u,t)}function MM(t,e){const n=lf[e];(!n||n[t.key]!==t)&&Fn("Database ".concat(e,"(").concat(t.repoInfo_,") has already been deleted.")),EM(t),delete n[t.key]}function FM(t,e,n,r){let i=lf[e.name];i||(i={},lf[e.name]=i);let o=i[t.toURLString()];return o&&Fn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new pM(t,LM,n,r),i[t.toURLString()]=o,o}class UM{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(mM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _n(this._repo,ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(MM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Fn("Cannot call "+e+" on a deleted database.")}}function BM(t=_E(),e){const n=Yp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=uN("database");r&&HM(n,...r)}return n}function HM(t,e,n,r={}){t=Lt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Fn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Fn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new il(il.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:dN(r.mockUserToken,t.app.options.projectId);o=new il(s)}DM(i,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){$L(So),lo(new li("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return $M(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),vr(cy,uy,t),vr(cy,uy,"esm2017")}An.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};An.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};jM();function VS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zM=VS,GS=new ta("auth","Firebase",VS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new Vp("@firebase/auth");function WM(t,...e){cc.logLevel<=ge.WARN&&cc.warn("Auth (".concat(So,"): ").concat(t),...e)}function ol(t,...e){cc.logLevel<=ge.ERROR&&cc.error("Auth (".concat(So,"): ").concat(t),...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw Tm(t,...e)}function pn(t,...e){return Tm(t,...e)}function YS(t,e,n){const r=Object.assign(Object.assign({},zM()),{[e]:n});return new ta("auth","Firebase",r).create(e,{appName:t.name})}function wr(t){return YS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GS.create(t,...e)}function K(t,e,...n){if(!t)throw Tm(e,...n)}function xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ol(e),new Error(e)}function Bn(t,e){t||xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VM(){return zy()==="http:"||zy()==="https:"}function zy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VM()||fN()||"connection"in navigator)?navigator.onLine:!0}function YM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bn(n>e,"Short delay should be less than long delay!"),this.isMobile=zp()||fE()}get(){return GM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e){Bn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new la(3e4,6e4);function fu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Io(t,e,n,r,i={}){return KS(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Eo(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return hN()||(c.referrerPolicy="no-referrer"),qS.fetch()(QS(t,t.config.apiHost,n,a),c)})}async function KS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},qM),e);try{const i=new XM(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw za(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw za(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw za(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw za(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw YS(t,u,c);Un(t,u)}}catch(i){if(i instanceof Nr)throw i;Un(t,"network-request-failed",{message:String(i)})}}async function XS(t,e,n,r,i={}){const o=await Io(t,e,n,r,i);return"mfaPendingCredential"in o&&Un(t,"multi-factor-auth-required",{_serverResponse:o}),o}function QS(t,e,n,r){const i="".concat(e).concat(n,"?").concat(r);return t.config.emulator?km(t.config,i):"".concat(t.config.apiScheme,"://").concat(i)}class XM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pn(this.auth,"network-request-failed")),KM.get())})}}function za(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e){return Io(t,"POST","/v1/accounts:delete",e)}async function JS(t,e){return Io(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function JM(t,e=!1){const n=Lt(t),r=await n.getIdToken(e),i=Im(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:cs(Td(i.auth_time)),issuedAtTime:cs(Td(i.iat)),expirationTime:cs(Td(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Td(t){return Number(t)*1e3}function Im(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ol("JWT malformed, contained fewer than 3 sections"),null;try{const i=Gl(n);return i?JSON.parse(i):(ol("Failed to decode base64 JWT payload"),null)}catch(i){return ol("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Wy(t){const e=Im(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nr&&ZM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cs(this.lastLoginAt),this.creationTime=cs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await js(t,JS(n,{idToken:r}));K(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ZS(o.providerUserInfo):[],a=n2(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new uf(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function t2(t){const e=Lt(t);await uc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function n2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZS(t){return t.map(e=>{var{providerId:n}=e,r=je(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(t,e){const n=await KS(t,{},async()=>{const r=Eo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=QS(t,i,"/v1/token","key=".concat(o)),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qS.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i2(t,e){return Io(t,"POST","/v2/accounts:revokeToken",fu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=Wy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await r2(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Xi;return r&&(K(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(K(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xi,this.toJSON())}_performRefresh(){return xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=je(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new uf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await js(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JM(this,e)}reload(){return t2(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(wr(this.auth));const e=await this.getIdToken();return await js(this,QM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,p=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:y,emailVerified:w,isAnonymous:k,providerData:S,stsTokenManager:I}=n;K(y&&I,e,"internal-error");const P=Xi.fromJSON(this.name,I);K(typeof y=="string",e,"internal-error"),Gn(d,e.name),Gn(h,e.name),K(typeof w=="boolean",e,"internal-error"),K(typeof k=="boolean",e,"internal-error"),Gn(f,e.name),Gn(m,e.name),Gn(v,e.name),Gn(b,e.name),Gn(g,e.name),Gn(p,e.name);const T=new Pn({uid:y,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:k,photoURL:m,phoneNumber:f,tenantId:v,stsTokenManager:P,createdAt:g,lastLoginAt:p});return S&&Array.isArray(S)&&(T.providerData=S.map(A=>Object.assign({},A))),b&&(T._redirectEventId=b),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xi;i.updateFromServerResponse(n);const o=new Pn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uc(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];K(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?ZS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Xi;a.updateFromIdToken(r);const l=new Pn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new uf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=new Map;function Rn(t){Bn(t instanceof Function,"Expected a class definition");let e=Vy.get(t);return e?(Bn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Vy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eC.type="NONE";const Gy=eC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t,e,n){return"firebase:".concat(t,":").concat(e,":").concat(n)}class Qi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=sl(this.userKey,i.apiKey,o),this.fullPersistenceKey=sl("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qi(Rn(Gy),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Rn(Gy);const s=sl(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const d=Pn._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch(u){}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Qi(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch(u){}})),new Qi(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sC(e))return"Blackberry";if(aC(e))return"Webos";if(nC(e))return"Safari";if((e.includes("chrome/")||rC(e))&&!e.includes("edge/"))return"Chrome";if(oC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tC(t=ut()){return/firefox\//i.test(t)}function nC(t=ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rC(t=ut()){return/crios\//i.test(t)}function iC(t=ut()){return/iemobile/i.test(t)}function oC(t=ut()){return/android/i.test(t)}function sC(t=ut()){return/blackberry/i.test(t)}function aC(t=ut()){return/webos/i.test(t)}function xm(t=ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o2(t=ut()){var e;return xm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function s2(){return pN()&&document.documentMode===10}function lC(t=ut()){return xm(t)||oC(t)||aC(t)||sC(t)||/windows phone/i.test(t)||iC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e=[]){let n;switch(t){case"Browser":n=Yy(ut());break;case"Worker":n="".concat(Yy(ut()),"-").concat(t);break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/JsCore/").concat(So,"/").concat(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch(o){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(t,e={}){return Io(t,"GET","/v2/passwordPolicy",fu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=6;class u2{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:c2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qy(this),this.idTokenSubscription=new qy(this),this.beforeStateQueue=new a2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await JS(this,{idToken:e}),r=await Pn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(kn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(wr(this));const n=e?Lt(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await l2(this),n=new u2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Qi.create(this,[Rn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&WM("Error while retrieving App Check token: ".concat(n.error)),n==null?void 0:n.token}}function pu(t){return Lt(t)}class qy{constructor(e){this.auth=e,this.observer=null,this.addObserver=SN(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h2(t){Pm=t}function f2(t){return Pm.loadJS(t)}function p2(){return Pm.gapiScript}function m2(t){return"__".concat(t).concat(Math.floor(Math.random()*1e6))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t,e){const n=Yp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ql(o,e!=null?e:{}))return i;Un(i,"already-initialized")}return n.initialize({options:e})}function v2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function y2(t,e,n){const r=pu(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=uC(e),{host:s,port:a}=_2(e),l=a===null?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),w2()}function uC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _2(t){const e=uC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Ky(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Ky(s)}}}function Ky(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function w2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xn("not implemented")}_getIdTokenResponse(e){return xn("not implemented")}_linkToIdToken(e,n){return xn("not implemented")}_getReauthenticationResolver(e){return xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ji(t,e){return XS(t,"POST","/v1/accounts:signInWithIdp",fu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="http://localhost";class hi extends dC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=je(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new hi(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ji(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ji(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ji(e,n)}buildRequest(){const e={requestUri:b2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends hC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn extends ca{constructor(){super("facebook.com")}static credential(e){return hi._fromParams({providerId:Jn.PROVIDER_ID,signInMethod:Jn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jn.credentialFromTaggedObject(e)}static credentialFromError(e){return Jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jn.credential(e.oauthAccessToken)}catch(n){return null}}}Jn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends ca{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hi._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zn.credential(n,r)}catch(i){return null}}}Zn.GOOGLE_SIGN_IN_METHOD="google.com";Zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends ca{constructor(){super("github.com")}static credential(e){return hi._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch(n){return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends ca{constructor(){super("twitter.com")}static credential(e,n){return hi._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tr.credential(n,r)}catch(i){return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(t,e){return XS(t,"POST","/v1/accounts:signUp",fu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Pn._fromIdTokenResponse(e,r,i),s=Xy(r);return new Ir({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Xy(r);return new Ir({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Xy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(t){var e;if(kn(t.app))return Promise.reject(wr(t));const n=pu(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ir({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await E2(n,{returnSecureToken:!0}),i=await Ir._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends Nr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dc(e,n,r,i)}}function fC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dc._fromErrorAndOperation(t,o,e,r):o})}async function C2(t,e,n=!1){const r=await js(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ir._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(t,e,n=!1){const{auth:r}=t;if(kn(r.app))return Promise.reject(wr(r));const i="reauthenticate";try{const o=await js(t,fC(r,i,e,t),n);K(o.idToken,r,"internal-error");const s=Im(o.idToken);K(s,r,"internal-error");const{sub:a}=s;return K(t.uid===a,r,"user-mismatch"),Ir._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e,n=!1){if(kn(t.app))return Promise.reject(wr(t));const r="signIn",i=await fC(t,r,e),o=await Ir._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function I2(t,e,n,r){return Lt(t).onIdTokenChanged(e,n,r)}function x2(t,e,n){return Lt(t).beforeAuthStateChanged(e,n)}const hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hc,"1"),this.storage.removeItem(hc),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=1e3,R2=10;class mC extends pC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);s2()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,R2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mC.type="LOCAL";const O2=mC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC extends pC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gC.type="SESSION";const vC=gC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new mu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await A2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=Rm("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return window}function L2(t){mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(){return typeof mn().WorkerGlobalScope<"u"&&typeof mn().importScripts=="function"}async function D2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}function $2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function M2(){return yC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="firebaseLocalStorageDb",F2=1,fc="firebaseLocalStorage",wC="fbase_key";class ua{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gu(t,e){return t.transaction([fc],e?"readwrite":"readonly").objectStore(fc)}function U2(){const t=indexedDB.deleteDatabase(_C);return new ua(t).toPromise()}function df(){const t=indexedDB.open(_C,F2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fc,{keyPath:wC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fc)?e(r):(r.close(),await U2(),e(await df()))})})}async function Qy(t,e,n){const r=gu(t,!0).put({[wC]:e,value:n});return new ua(r).toPromise()}async function B2(t,e){const n=gu(t,!1).get(e),r=await new ua(n).toPromise();return r===void 0?null:r.value}function Jy(t,e){const n=gu(t,!0).delete(e);return new ua(n).toPromise()}const H2=800,j2=3;class bC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await df(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mu._getInstance(M2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await D2(),!this.activeServiceWorker)return;this.sender=new N2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await df();return await Qy(e,hc,"1"),await Jy(e,hc),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=gu(i,!1).getAll();return new ua(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bC.type="LOCAL";const z2=bC;new la(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t,e){return e?Rn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends dC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ji(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ji(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function V2(t){return k2(t.auth,new Om(t),t.bypassAuthState)}function G2(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),T2(n,new Om(t),t.bypassAuthState)}async function Y2(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),C2(n,new Om(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V2;case"linkViaPopup":case"linkViaRedirect":return Y2;case"reauthViaPopup":case"reauthViaRedirect":return G2;default:Un(this.auth,"internal-error")}}resolve(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new la(2e3,1e4);class Ui extends EC{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ui.currentPopupAction&&Ui.currentPopupAction.cancel(),Ui.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const e=Rm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ui.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q2.get())};e()}}Ui.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="pendingRedirect",al=new Map;class X2 extends EC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=al.get(this.auth._key());if(!e){try{const r=await Q2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}al.set(this.auth._key(),e)}return this.bypassAuthState||al.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q2(t,e){const n=eF(e),r=Z2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function J2(t,e){al.set(t._key(),e)}function Z2(t){return Rn(t._redirectPersistence)}function eF(t){return sl(K2,t.config.apiKey,t.name)}async function tF(t,e,n=!1){if(kn(t.app))return Promise.reject(wr(t));const r=pu(t),i=W2(r,e),s=await new X2(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=10*60*1e3;class rF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nF&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zy(e))}saveEventToCache(e){this.cachedEventUids.add(Zy(e)),this.lastProcessedEventTime=Date.now()}}function Zy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(t,e={}){return Io(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aF=/^https?/;async function lF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oF(t);for(const n of e)try{if(cF(n))return}catch(r){}Un(t,"unauthorized-domain")}function cF(t){const e=cf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!aF.test(n))return!1;if(sF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=new la(3e4,6e4);function e_(){const t=mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dF(t){return new Promise((e,n)=>{var r,i,o;function s(){e_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e_(),n(pn(t,"network-request-failed"))},timeout:uF.get()})}if(!((i=(r=mn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=mn().gapi)===null||o===void 0)&&o.load)s();else{const a=m2("iframefcb");return mn()[a]=()=>{gapi.load?s():n(pn(t,"network-request-failed"))},f2("".concat(p2(),"?onload=").concat(a)).catch(l=>n(l))}}).catch(e=>{throw ll=null,e})}let ll=null;function hF(t){return ll=ll||dF(t),ll}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=new la(5e3,15e3),pF="__/auth/iframe",mF="emulator/auth/iframe",gF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yF(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?km(e,mF):"https://".concat(t.config.authDomain,"/").concat(pF),r={apiKey:e.apiKey,appName:t.name,v:So},i=vF.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Eo(r).slice(1))}async function _F(t){const e=await hF(t),n=mn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:yF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gF,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=pn(t,"network-request-failed"),a=mn().setTimeout(()=>{o(s)},fF.get());function l(){mn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bF=500,EF=600,SF="_blank",CF="http://localhost";class t_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function TF(t,e,n,r=bF,i=EF){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},wF),{width:r.toString(),height:i.toString(),top:o,left:s}),c=ut().toLowerCase();n&&(a=rC(c)?SF:n),tC(c)&&(e=e||CF,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,m])=>"".concat(h).concat(f,"=").concat(m,","),"");if(o2(c)&&a!=="_self")return kF(e||"",a),new t_(null);const d=window.open(e||"",a,u);K(d,t,"popup-blocked");try{d.focus()}catch(h){}return new t_(d)}function kF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF="__/auth/handler",xF="emulator/auth/handler",PF=encodeURIComponent("fac");async function n_(t,e,n,r,i,o){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:So,eventId:i};if(e instanceof hC){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Vh(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))s[u]=d}if(e instanceof ca){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?"#".concat(PF,"=").concat(encodeURIComponent(l)):"";return"".concat(RF(t),"?").concat(Eo(a).slice(1)).concat(c)}function RF({config:t}){return t.emulator?km(t,xF):"https://".concat(t.authDomain,"/").concat(IF)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="webStorageSupport";class OF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vC,this._completeRedirectFn=tF,this._overrideRedirectResult=J2}async _openPopup(e,n,r,i){var o;Bn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await n_(e,n,r,cf(),i);return TF(e,s,Rm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await n_(e,n,r,cf(),i);return L2(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Bn(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _F(e),r=new rF(e);return n.register("authEvent",i=>(K(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kd,{type:kd},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[kd];s!==void 0&&n(!!s),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lC()||nC()||xm()}}const AF=OF;var r_="@firebase/auth",i_="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DF(t){lo(new li("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cC(t)},c=new d2(r,i,o,l);return v2(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lo(new li("auth-internal",e=>{const n=pu(e.getProvider("auth").getImmediate());return(r=>new NF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(r_,i_,LF(t)),vr(r_,i_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=5*60,MF=hE("authIdTokenMaxAge")||$F;let o_=null;const FF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>MF)return;const i=n==null?void 0:n.token;o_!==i&&(o_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function UF(t=_E()){const e=Yp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=g2(t,{popupRedirectResolver:AF,persistence:[z2,O2,vC]}),r=hE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=FF(o.toString());x2(n,s,()=>s(n.currentUser)),I2(n,a=>s(a))}}const i=uE("auth");return i&&y2(n,"http://".concat(i)),n}function BF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}h2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=pn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",BF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DF("Browser");const HF={apiKey:"AIzaSyDxRu7z4ARdAL0s69whidjEKny9faQUSTk",authDomain:"bananagrams-5a722.firebaseapp.com",projectId:"bananagrams-5a722",storageBucket:"bananagrams-5a722.firebasestorage.app",messagingSenderId:"993517413594",appId:"1:993517413594:web:22f6095bed27075756f1e3",measurementId:"G-P5VMNPLLVB"},CC=yE(HF),Mt=BM(CC),fe=UF(CC);S2(fe).catch(t=>{console.error("Failed to sign in anonymously",t)});function jF(t){if(Array.isArray(t))return t}function zF(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function hf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function TC(t,e){if(t){if(typeof t=="string")return hf(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hf(t,e):void 0}}function WF(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function kC(t,e){return jF(t)||zF(t,e)||TC(t,e)||WF()}var fi={},da={};Object.defineProperty(da,"__esModule",{value:!0});da.bind=void 0;function VF(t,e){var n=e.type,r=e.listener,i=e.options;return t.addEventListener(n,r,i),function(){t.removeEventListener(n,r,i)}}da.bind=VF;var vu={},Bi=jm&&jm.__assign||function(){return Bi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Bi.apply(this,arguments)};Object.defineProperty(vu,"__esModule",{value:!0});vu.bindAll=void 0;var GF=da;function s_(t){if(!(typeof t>"u"))return typeof t=="boolean"?{capture:t}:t}function YF(t,e){if(e==null)return t;var n=Bi(Bi({},t),{options:Bi(Bi({},s_(e)),s_(t.options))});return n}function qF(t,e,n){var r=e.map(function(i){var o=YF(i,n);return(0,GF.bind)(t,o)});return function(){r.forEach(function(o){return o()})}}vu.bindAll=qF;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.bindAll=t.bind=void 0;var e=da;Object.defineProperty(t,"bind",{enumerable:!0,get:function(){return e.bind}});var n=vu;Object.defineProperty(t,"bindAll",{enumerable:!0,get:function(){return n.bindAll}})})(fi);var IC="data-pdnd-honey-pot";function xC(t){return t instanceof Element&&t.hasAttribute(IC)}function PC(t){var e=document.elementsFromPoint(t.x,t.y),n=kC(e,2),r=n[0],i=n[1];return r?xC(r)?i!=null?i:null:r:null}function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function KF(t,e){if(zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XF(t){var e=KF(t,"string");return zs(e)=="symbol"?e:e+""}function Am(t,e,n){return(e=XF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var QF=2147483647;function a_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a_(Object(n),!0).forEach(function(r){Am(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ws=2,c_=Ws/2;function JF(t){return{x:Math.floor(t.x),y:Math.floor(t.y)}}function ZF(t){return{x:t.x-c_,y:t.y-c_}}function eU(t){return{x:Math.max(t.x,0),y:Math.max(t.y,0)}}function tU(t){return{x:Math.min(t.x,window.innerWidth-Ws),y:Math.min(t.y,window.innerHeight-Ws)}}function u_(t){var e=t.client,n=tU(eU(ZF(JF(e))));return DOMRect.fromRect({x:n.x,y:n.y,width:Ws,height:Ws})}function d_(t){var e=t.clientRect;return{left:"".concat(e.left,"px"),top:"".concat(e.top,"px"),width:"".concat(e.width,"px"),height:"".concat(e.height,"px")}}function nU(t){var e=t.client,n=t.clientRect;return e.x>=n.x&&e.x<=n.x+n.width&&e.y>=n.y&&e.y<=n.y+n.height}function rU(t){var e=t.initial,n=document.createElement("div");n.setAttribute(IC,"true");var r=u_({client:e});Object.assign(n.style,l_(l_({backgroundColor:"transparent",position:"fixed",padding:0,margin:0,boxSizing:"border-box"},d_({clientRect:r})),{},{pointerEvents:"auto",zIndex:QF})),document.body.appendChild(n);var i=fi.bind(window,{type:"pointermove",listener:function(s){var a={x:s.clientX,y:s.clientY};r=u_({client:a}),Object.assign(n.style,d_({clientRect:r}))},options:{capture:!0}});return function(s){var a=s.current;if(i(),nU({client:a,clientRect:r})){n.remove();return}function l(){c(),n.remove()}var c=fi.bindAll(window,[{type:"pointerdown",listener:l},{type:"pointermove",listener:l},{type:"focusin",listener:l},{type:"focusout",listener:l},{type:"dragstart",listener:l},{type:"dragenter",listener:l},{type:"dragover",listener:l}],{capture:!0})}}function iU(){var t=null;function e(){return t=null,fi.bind(window,{type:"pointermove",listener:function(i){t={x:i.clientX,y:i.clientY}},options:{capture:!0}})}function n(){var r=null;return function(o){var s=o.eventName,a=o.payload;if(s==="onDragStart"){var l,c=a.location.initial.input,u=(l=t)!==null&&l!==void 0?l:{x:c.clientX,y:c.clientY};r=rU({initial:u})}if(s==="onDrop"){var d,h=a.location.current.input;(d=r)===null||d===void 0||d({current:{x:h.clientX,y:h.clientY}}),r=null,t=null}}}return{bindEvents:e,getOnPostDispatch:n}}function oU(t){if(Array.isArray(t))return hf(t)}function sU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aU(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function RC(t){return oU(t)||sU(t)||TC(t)||aU()}function Nm(t){var e=null;return function(){if(!e){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=t.apply(this,i);e={result:s}}return e.result}}var lU=Nm(function(){return navigator.userAgent.includes("Firefox")}),Lm=Nm(function(){var e=navigator,n=e.userAgent;return n.includes("AppleWebKit")&&!n.includes("Chrome")}),ff={isLeavingWindow:Symbol("leaving"),isEnteringWindow:Symbol("entering")};function cU(t){var e=t.dragLeave;return Lm()?e.hasOwnProperty(ff.isLeavingWindow):!1}(function(){if(typeof window>"u"||!Lm())return;function e(){return{enterCount:0,isOverWindow:!1}}var n=e();function r(){n=e()}fi.bindAll(window,[{type:"dragstart",listener:function(){n.enterCount=0,n.isOverWindow=!0}},{type:"drop",listener:r},{type:"dragend",listener:r},{type:"dragenter",listener:function(o){!n.isOverWindow&&n.enterCount===0&&(o[ff.isEnteringWindow]=!0),n.isOverWindow=!0,n.enterCount++}},{type:"dragleave",listener:function(o){n.enterCount--,n.isOverWindow&&n.enterCount===0&&(o[ff.isLeavingWindow]=!0,n.isOverWindow=!1)}}],{capture:!0})})();function uU(t){return"nodeName"in t}function dU(t){return uU(t)&&t.ownerDocument!==document}function hU(t){var e=t.dragLeave,n=e.type,r=e.relatedTarget;return n!=="dragleave"?!1:Lm()?cU({dragLeave:e}):r==null?!0:lU()?dU(r):r instanceof HTMLIFrameElement}function fU(t){var e=t.onDragEnd;return[{type:"pointermove",listener:function(){var n=0;return function(){if(n<20){n++;return}e()}}()},{type:"pointerdown",listener:e}]}function us(t){return{altKey:t.altKey,button:t.button,buttons:t.buttons,ctrlKey:t.ctrlKey,metaKey:t.metaKey,shiftKey:t.shiftKey,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var pU=function(e){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i},Id=pU(function(t){return t()}),Wa=function(){var t=null;function e(r){var i=requestAnimationFrame(function(){t=null,r()});t={frameId:i,fn:r}}function n(){t&&(cancelAnimationFrame(t.frameId),t.fn(),t=null)}return{schedule:e,flush:n}}();function mU(t){var e=t.source,n=t.initial,r=t.dispatchEvent,i={dropTargets:[]};function o(a){r(a),i={dropTargets:a.payload.location.current.dropTargets}}var s={start:function(l){var c=l.nativeSetDragImage,u={current:n,previous:i,initial:n};o({eventName:"onGenerateDragPreview",payload:{source:e,location:u,nativeSetDragImage:c}}),Wa.schedule(function(){o({eventName:"onDragStart",payload:{source:e,location:u}})})},dragUpdate:function(l){var c=l.current;Wa.flush(),Id.cancel(),o({eventName:"onDropTargetChange",payload:{source:e,location:{initial:n,previous:i,current:c}}})},drag:function(l){var c=l.current;Id(function(){Wa.flush();var u={initial:n,previous:i,current:c};o({eventName:"onDrag",payload:{source:e,location:u}})})},drop:function(l){var c=l.current,u=l.updatedSourcePayload;Wa.flush(),Id.cancel(),o({eventName:"onDrop",payload:{source:u!=null?u:e,location:{current:c,previous:i,initial:n}}})}};return s}var pf={isActive:!1};function OC(){return!pf.isActive}function gU(t){return t.dataTransfer?t.dataTransfer.setDragImage.bind(t.dataTransfer):null}function vU(t){var e=t.current,n=t.next;if(e.length!==n.length)return!0;for(var r=0;r<e.length;r++)if(e[r].element!==n[r].element)return!0;return!1}function yU(t){var e=t.event,n=t.dragType,r=t.getDropTargetsOver,i=t.dispatchEvent;if(!OC())return;var o=_U({event:e,dragType:n,getDropTargetsOver:r});pf.isActive=!0;var s={current:o};xd({event:e,current:o.dropTargets});var a=mU({source:n.payload,dispatchEvent:i,initial:o});function l(f){var m=vU({current:s.current.dropTargets,next:f.dropTargets});s.current=f,m&&a.dragUpdate({current:s.current})}function c(f){var m=us(f),v=xC(f.target)?PC({x:m.clientX,y:m.clientY}):f.target,b=r({target:v,input:m,source:n.payload,current:s.current.dropTargets});b.length&&(f.preventDefault(),xd({event:f,current:b})),l({dropTargets:b,input:m})}function u(){s.current.dropTargets.length&&l({dropTargets:[],input:s.current.input}),a.drop({current:s.current,updatedSourcePayload:null}),d()}function d(){pf.isActive=!1,h()}var h=fi.bindAll(window,[{type:"dragover",listener:function(m){c(m),a.drag({current:s.current})}},{type:"dragenter",listener:c},{type:"dragleave",listener:function(m){hU({dragLeave:m})&&(l({input:s.current.input,dropTargets:[]}),n.startedFrom==="external"&&u())}},{type:"drop",listener:function(m){if(s.current={dropTargets:s.current.dropTargets,input:us(m)},!s.current.dropTargets.length){u();return}m.preventDefault(),xd({event:m,current:s.current.dropTargets}),a.drop({current:s.current,updatedSourcePayload:n.type==="external"?n.getDropPayload(m):null}),d()}},{type:"dragend",listener:function(m){s.current={dropTargets:s.current.dropTargets,input:us(m)},u()}}].concat(RC(fU({onDragEnd:u}))),{capture:!0});a.start({nativeSetDragImage:gU(e)})}function xd(t){var e,n=t.event,r=t.current,i=(e=r[0])===null||e===void 0?void 0:e.dropEffect;i!=null&&n.dataTransfer&&(n.dataTransfer.dropEffect=i)}function _U(t){var e=t.event,n=t.dragType,r=t.getDropTargetsOver,i=us(e);if(n.startedFrom==="external")return{input:i,dropTargets:[]};var o=r({input:i,source:n.payload,target:e.target,current:[]});return{input:i,dropTargets:o}}var h_={canStart:OC,start:yU},mf=new Map;function wU(t){var e=t.typeKey,n=t.mount,r=mf.get(e);if(r)return r.usageCount++,r;var i={typeKey:e,unmount:n(),usageCount:1};return mf.set(e,i),i}function bU(t){var e=wU(t);return function(){e.usageCount--,!(e.usageCount>0)&&(e.unmount(),mf.delete(t.typeKey))}}function Dm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){e.forEach(function(i){return i()})}}function AC(t,e){var n=e.attribute,r=e.value;return t.setAttribute(n,r),function(){return t.removeAttribute(n)}}function f_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f_(Object(n),!0).forEach(function(r){Am(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pd(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=EU(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return s=c.done,c},e:function(c){a=!0,o=c},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}function EU(t,e){if(t){if(typeof t=="string")return p_(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p_(t,e):void 0}}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Rd(t){return t.slice(0).reverse()}function SU(t){var e=t.typeKey,n=t.defaultDropEffect,r=new WeakMap,i="data-drop-target-for-".concat(e),o="[".concat(i,"]");function s(f){return r.set(f.element,f),function(){return r.delete(f.element)}}function a(f){return Dm(AC(f.element,{attribute:i,value:"true"}),s(f))}function l(f){var m,v,b,g,p=f.source,y=f.target,w=f.input,k=f.result,S=k===void 0?[]:k;if(y==null)return S;if(!(y instanceof Element))return y instanceof Node?l({source:p,target:y.parentElement,input:w,result:S}):S;var I=y.closest(o);if(I==null)return S;var P=r.get(I);if(P==null)return S;var T={input:w,source:p,element:P.element};if(P.canDrop&&!P.canDrop(T))return l({source:p,target:P.element.parentElement,input:w,result:S});var A=(m=(v=P.getData)===null||v===void 0?void 0:v.call(P,T))!==null&&m!==void 0?m:{},G=(b=(g=P.getDropEffect)===null||g===void 0?void 0:g.call(P,T))!==null&&b!==void 0?b:n,V={data:A,element:P.element,dropEffect:G,isActiveDueToStickiness:!1};return l({source:p,target:P.element.parentElement,input:w,result:[].concat(RC(S),[V])})}function c(f){var m=f.eventName,v=f.payload,b=Pd(v.location.current.dropTargets),g;try{for(b.s();!(g=b.n()).done;){var p,y=g.value,w=r.get(y.element),k=Yn(Yn({},v),{},{self:y});w==null||(p=w[m])===null||p===void 0||p.call(w,k)}}catch(S){b.e(S)}finally{b.f()}}var u={onGenerateDragPreview:c,onDrag:c,onDragStart:c,onDrop:c,onDropTargetChange:function(m){var v=m.payload,b=new Set(v.location.current.dropTargets.map(function(Le){return Le.element})),g=new Set,p=Pd(v.location.previous.dropTargets),y;try{for(p.s();!(y=p.n()).done;){var w,k=y.value;g.add(k.element);var S=r.get(k.element),I=b.has(k.element),P=Yn(Yn({},v),{},{self:k});if(S==null||(w=S.onDropTargetChange)===null||w===void 0||w.call(S,P),!I){var T;S==null||(T=S.onDragLeave)===null||T===void 0||T.call(S,P)}}}catch(Le){p.e(Le)}finally{p.f()}var A=Pd(v.location.current.dropTargets),G;try{for(A.s();!(G=A.n()).done;){var V,te,se=G.value;if(!g.has(se.element)){var ne=Yn(Yn({},v),{},{self:se}),re=r.get(se.element);re==null||(V=re.onDropTargetChange)===null||V===void 0||V.call(re,ne),re==null||(te=re.onDragEnter)===null||te===void 0||te.call(re,ne)}}}catch(Le){A.e(Le)}finally{A.f()}}};function d(f){u[f.eventName](f)}function h(f){var m=f.source,v=f.target,b=f.input,g=f.current,p=l({source:m,target:v,input:b});if(p.length>=g.length)return p;for(var y=Rd(g),w=Rd(p),k=[],S=0;S<y.length;S++){var I,P=y[S],T=w[S];if(T!=null){k.push(T);continue}var A=k[S-1],G=y[S-1];if((A==null?void 0:A.element)!==(G==null?void 0:G.element))break;var V=r.get(P.element);if(!V)break;var te={input:b,source:m,element:V.element};if(V.canDrop&&!V.canDrop(te)||!((I=V.getIsSticky)!==null&&I!==void 0&&I.call(V,te)))break;k.push(Yn(Yn({},P),{},{isActiveDueToStickiness:!0}))}return Rd(k)}return{dropTargetForConsumers:a,getIsOver:h,dispatchEvent:d}}function CU(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=TU(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return s=c.done,c},e:function(c){a=!0,o=c},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}function TU(t,e){if(t){if(typeof t=="string")return m_(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m_(t,e):void 0}}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function g_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g_(Object(n),!0).forEach(function(r){Am(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IU(){var t=new Set,e=null;function n(o){e&&(!o.canMonitor||o.canMonitor(e.canMonitorArgs))&&e.active.add(o)}function r(o){var s=kU({},o);return t.add(s),n(s),function(){t.delete(s),e&&e.active.delete(s)}}function i(o){var s=o.eventName,a=o.payload;if(s==="onGenerateDragPreview"){e={canMonitorArgs:{initial:a.location.initial,source:a.source},active:new Set};var l=CU(t),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;n(u)}}catch(b){l.e(b)}finally{l.f()}}if(e){for(var d=Array.from(e.active),h=0,f=d;h<f.length;h++){var m=f[h];if(e.active.has(m)){var v;(v=m[s])===null||v===void 0||v.call(m,a)}}s==="onDrop"&&(e.active.clear(),e=null)}}return{dispatchEvent:i,monitorForConsumers:r}}function xU(t){var e=t.typeKey,n=t.mount,r=t.dispatchEventToSource,i=t.onPostDispatch,o=t.defaultDropEffect,s=IU(),a=SU({typeKey:e,defaultDropEffect:o});function l(d){r==null||r(d),a.dispatchEvent(d),s.dispatchEvent(d),i==null||i(d)}function c(d){var h=d.event,f=d.dragType;h_.start({event:h,dragType:f,getDropTargetsOver:a.getIsOver,dispatchEvent:l})}function u(){function d(){var h={canStart:h_.canStart,start:c};return n(h)}return bU({typeKey:e,mount:d})}return{registerUsage:u,dropTarget:a.dropTargetForConsumers,monitor:s.monitorForConsumers}}var PU=Nm(function(){return navigator.userAgent.toLocaleLowerCase().includes("android")}),RU="pdnd:android-fallback",v_="text/plain",OU="text/uri-list",AU="application/vnd.pdnd",pc=new WeakMap;function NU(t){return pc.set(t.element,t),function(){pc.delete(t.element)}}var y_=iU(),NC=xU({typeKey:"element",defaultDropEffect:"move",mount:function(e){return Dm(y_.bindEvents(),fi.bind(document,{type:"dragstart",listener:function(r){var i,o,s,a,l,c;if(e.canStart(r)&&!r.defaultPrevented&&r.dataTransfer){var u=r.target;if(!(u instanceof HTMLElement))return null;var d=pc.get(u);if(!d)return null;var h=us(r),f={element:d.element,dragHandle:(i=d.dragHandle)!==null&&i!==void 0?i:null,input:h};if(d.canDrag&&!d.canDrag(f))return r.preventDefault(),null;if(d.dragHandle){var m=PC({x:h.clientX,y:h.clientY});if(!d.dragHandle.contains(m))return r.preventDefault(),null}var v=(o=(s=d.getInitialDataForExternal)===null||s===void 0?void 0:s.call(d,f))!==null&&o!==void 0?o:null;if(v)for(var b=0,g=Object.entries(v);b<g.length;b++){var p=kC(g[b],2),y=p[0],w=p[1];r.dataTransfer.setData(y,w!=null?w:"")}PU()&&!r.dataTransfer.types.includes(v_)&&!r.dataTransfer.types.includes(OU)&&r.dataTransfer.setData(v_,RU),r.dataTransfer.setData(AU,"");var k={element:d.element,dragHandle:(a=d.dragHandle)!==null&&a!==void 0?a:null,data:(l=(c=d.getInitialData)===null||c===void 0?void 0:c.call(d,f))!==null&&l!==void 0?l:{}},S={type:"element",payload:k,startedFrom:"internal"};e.start({event:r,dragType:S})}}}))},dispatchEventToSource:function(e){var n,r,i=e.eventName,o=e.payload;(n=pc.get(o.source.element))===null||n===void 0||(r=n[i])===null||r===void 0||r.call(n,o)},onPostDispatch:y_.getOnPostDispatch()}),LU=NC.dropTarget;function DU(t){return Dm(NC.registerUsage(),NU(t),AC(t.element,{attribute:"draggable",value:"true"}))}const yu=({handleDrop:t,handleDragEnter:e,handleDragLeave:n,children:r,className:i,style:o,_droppableRef:s})=>{const a=s!=null?s:H.useRef(null);return H.useEffect(()=>{const l=a.current;if(l)return LU({element:l,onDrop:u=>{t(u.source.data)},onDragEnter:e?()=>{e(l)}:()=>{},onDragLeave:n?()=>{n(l)}:()=>{}})},[t]),F.jsx("div",{ref:a,className:i,style:o,children:r})},LC=({className:t,style:e,letter:n,x:r,y:i})=>{const o=H.useRef(null);return H.useEffect(()=>{const s=o.current;if(s)return DU({element:s,getInitialData:()=>({letter:n,x:r,y:i}),onDragStart:()=>{}})},[n]),F.jsx("div",{ref:o,className:t,style:e,children:n})},DC=H.createContext(void 0),$U=({children:t})=>{const[e,n]=H.useState(),r=H.useRef(),[i,o]=H.useState(),[s,a]=H.useState([]),[l,c]=H.useState(!1),[u,d]=H.useState(!1),[h,f]=H.useState(""),[m,v]=H.useState(""),b=H.useRef(),g=15,p=H.useRef(new Map),y=H.useRef(null),w=H.useRef(),k=H.useRef(),S=H.useRef([]),I=H.useRef(!1),P=Zw();H.useEffect(()=>{r.current=e},[e]);function T(_,E){if(!(_!=null&&_.players[E]))return console.log("Player ".concat(E," not found in game state")),console.log(_),console.error("Player not found in game state"),{type:"danger",message:"Player not found in game state"};if(_.players[E].tiles.length>0)return console.error("Player still has tiles to use"),{type:"danger",message:"Player still has tiles to use"};if(_.letterPool.length<Object.keys(_.players).length)return console.log("".concat(E," wins!")),E;for(const x in _.players){const M=Math.floor(Math.random()*_.letterPool.length);_.players[x].tiles.push(_.letterPool.splice(M,1)[0])}return _}function A(_,E,x){if(!_.players[E])return console.error("Player not found in game state"),{type:"danger",message:"Player not found in game state"};if(_.letterPool.length<3)return console.error("Not enough tiles in the letter pool"),{type:"danger",message:"Not enough tiles in the letter pool"};if(_.players[E].tiles.includes(x)){_.players[E].tiles.splice(_.players[E].tiles.indexOf(x),1);const M=[];console.log("Letter pool before dump: ".concat(_.letterPool));for(let U=0;U<3;U++){const X=Math.floor(Math.random()*_.letterPool.length);M.push(_.letterPool.splice(X,1)[0])}console.log("Player ".concat(E," dumped ").concat(x," and received ").concat(M)),_.players[E].tiles.push(...M),_.letterPool.push(x),console.log("Letter pool after dump: ".concat(_.letterPool))}else return console.error("Player does not have the tile to dump"),{type:"danger",message:"Player does not have the tile to dump"};return _}function G(){var U;const _=(U=fe.currentUser)==null?void 0:U.uid;if(!_)return console.error("No host ID found."),null;if(!i)return console.error("No player name found."),null;const E="JJKKQQXXZZBBBCCCFFFHHHMMMPPPVVVWWWYYYGGGGLLLLLDDDDDDSSSSSSUUUUUUNNNNNNNNTTTTTTTTTRRRRRRRRROOOOOOOOOOOIIIIIIIIIIIIAAAAAAAAAAAAAEEEEEEEEEEEEEEEEEE".split(""),x={[_]:{board:[[""]],tiles:[],name:i}};for(const[X,q]of p.current.entries())x[X]={board:[[""]],tiles:[],name:""};return{players:x,letterPool:E}}function V(_){if(!_)return console.error("No game state found."),null;for(const E in _.players){const x=_.players[E];for(let M=0;M<21;M++){const U=Math.floor(Math.random()*_.letterPool.length);x.tiles.push(_.letterPool.splice(U,1)[0])}}return _}function te(_,E){var M,U;console.log("returnTileToPlayerTiles");const x=(M=fe.currentUser)==null?void 0:M.uid;return x?_.players[x]?E.y===void 0?null:(E.x-=g,E.y-=g,_.players[x].board[E.y][E.x]===""?(console.error("No tile found at this location, this shouldn't happen"),null):((U=_.players[x].board[E.y])==null?void 0:U[E.x])===void 0?(console.error("Tile is out of bounds, this shouldn't happen"),console.error(E,_.players[x].board,g),null):(_.players[x].tiles.push(E.letter),_.players[x].board[E.y][E.x]="",_)):(console.error("Player not found in game state."),null):(console.error("No authenticated user found."),null)}function se(_){f(_.message),d(!0),v(_.type)}function ne(_){var U;console.log("setupSession(".concat(_,")"));const E=(U=fe.currentUser)==null?void 0:U.uid;if(!E){console.log("No authenticated user found."),P.push("/home");return}console.log("Setting up session: ".concat(_)),zr($t(Mt,"sessions/".concat(_,"/host")),E),zr($t(Mt,"sessions/".concat(_,"/peers")),null);const x=$t(Mt,"sessions/".concat(_,"/peers")),M=Cd(x,X=>{re(X,_)});y.current=M}function re(_,E){const x=_.key;if(!x||p.current.has(x)){console.log("connections.current.has(".concat(x,"): "),x&&p.current.has(x));return}const M=_.val();Le(E,x,M.offer,M.candidates)}function Le(_,E,x,M){console.log("addNewPeerConnection(".concat(_,", ").concat(E,", ").concat(x,", ").concat(M,")")),console.log("Adding new peer connection: ".concat(E));const U=new RTCPeerConnection;p.current.set(E,{connection:U}),U.ondatachannel=q=>{console.log("Data channel created by peer ".concat(E));const ae=q.channel;ae.onmessage=Te=>{O(E,Te.data)},ae.onopen=()=>console.log("data channel open with ".concat(E)),ae.onclose=()=>{var Me,he;console.log("data channel closed with ".concat(E)),(he=(Me=p.current.get(E))==null?void 0:Me.ICEunsubscribe)==null||he.call(Me),p.current.delete(E);const Te=$t(Mt,"sessions/".concat(_,"/peers/").concat(E));zr(Te,null)},p.current.set(E,{connection:U,dataChannel:ae})},U.setRemoteDescription(JSON.parse(x)).then(()=>{console.log("Accepted offer from peer ".concat(E,", set as remote description")),U.createAnswer().then(q=>{console.log("Answer created for peer ".concat(E,": "),q),U.setLocalDescription(q);const ae=$t(Mt,"sessions/".concat(_,"/peers/").concat(E,"/answer"));zr(ae,JSON.stringify(q)),console.log("Answer sent to sessions/".concat(_,"/peers/").concat(E,"/answer for peer to receive"))})}),M&&(console.group("Adding existing candidates for peer ".concat(E)),JSON.parse(M).forEach(q=>{console.log("New candidate from peer ".concat(E,": "),q),U.addIceCandidate(q)}),console.groupEnd());const X=Cd($t(Mt,"sessions/".concat(_,"/peers/").concat(E,"/candidates")),q=>{const ae=JSON.parse(q.val());console.log("New candidate from peer ".concat(E,": "),ae),U.addIceCandidate(ae)});p.current.set(E,{...p.current.get(E),connection:U,ICEunsubscribe:X})}function D(_,E=[]){p.current.forEach((x,M)=>{!E.includes(M)&&x.dataChannel&&(console.log("Sending message to ".concat(M,":"),JSON.parse(_)),x.dataChannel.send(_))})}function N(_,E){const x=p.current.get(_);x!=null&&x.dataChannel?x.dataChannel.send(E):se({type:"danger",message:"Data channel not found for ".concat(_)})}function O(_,E){const x=JSON.parse(E);if(console.log("Message from ".concat(_,":"),x),r.current)if(x.type){if(x.type==="peel"&&b.current){N(_,JSON.stringify({type:"popupMessage",message:{type:"medium",message:"Game is already over."}}));return}else if(x.type==="dump"&&!x.tile){console.error("Dump message should have a tile.");return}else if(x.type==="gameState"&&!x.gameState){console.error("Board update message should have a player object.");return}else if(x.type==="setPlayerName"&&!x.playerName){console.error("Player name update message should have a player name.");return}}else{console.error("No message type found.",x);return}else{console.error("No game state found.");return}const M=JSON.parse(JSON.stringify(r.current));switch(x.type){case"peel":{const U=T(M,_);typeof U=="string"?(b.current=U,D(JSON.stringify({type:"gameOver",winnerID:U}))):"message"in U?N(_,JSON.stringify({type:"popupMessage",message:U})):(n(U),D(JSON.stringify({type:"gameState",gameState:U})));break}case"dump":{if(x.tile){const U=A(M,_,x.tile);"message"in U?N(_,JSON.stringify({type:"popupMessage",message:U})):(n(U),D(JSON.stringify({type:"gameState",gameState:U})))}break}case"gameState":{if(!x.gameState){console.error("No game state found in message.");return}console.log("Received game state update from ".concat(_,": "),x.gameState),n(x.gameState),D(JSON.stringify({type:"gameState",gameState:x.gameState}),[_]);break}case"setPlayerName":{if(!x.playerName){console.error("No player name found in message.");return}if(!r.current.players[_]){console.error("Player not found in game state.");return}M.players[_].name=x.playerName,n(M),D(JSON.stringify({type:"gameState",gameState:M}));break}default:console.error("Unknown message type.");break}}function W(_){var M;console.log("connectToHost(".concat(_,")"));const E=(M=fe.currentUser)==null?void 0:M.uid;E||(console.error("No authenticated user found."),P.push("/home"));const x=$t(Mt,"sessions/".concat(_,"/host"));OM(x).then(U=>{if(U.exists()){console.log("Session exists at sessions/".concat(_,"/host: ").concat(U.val()));const X=new RTCPeerConnection;X.onicecandidate=ae=>{var Te;if(ae.candidate){console.log("New ICE candidate: ",ae.candidate),console.log("auth.currentUser?.uid: ".concat((Te=fe.currentUser)==null?void 0:Te.uid));const Me=$t(Mt,"sessions/".concat(_,"/peers/").concat(E,"/candidates"));RM(Me,JSON.stringify(ae.candidate)).catch(he=>console.error("push(candidatesRef (sessions/".concat(_,"/peers/").concat(E,"/candidates), JSON.stringify(e.candidate))"),he))}else console.log("No more ICE candidates")};const q=X.createDataChannel("dataChannel");q.onmessage=ae=>{le(ae.data)},q.onopen=()=>console.log("channel open with host"),q.onclose=()=>{console.log("channel closed with host");const ae=$t(Mt,"sessions/".concat(_,"/peers/").concat(E));zr(ae,null).catch(Te=>console.error("set(peerRef (sessions/".concat(_,"/peers/").concat(E,"), null)"),Te)),k.current=void 0,w.current=void 0},k.current=q,X.createOffer().then(ae=>{console.log("Offer created: ",ae),X.setLocalDescription(ae);const Te=$t(Mt,"sessions/".concat(_,"/peers/").concat(E,"/offer"));zr(Te,JSON.stringify(ae)).catch(Qe=>console.error("set(offerRef (sessions/".concat(_,"/peers/").concat(E,"/offer), JSON.stringify(offer))"),Qe));const Me=$t(Mt,"sessions/".concat(_,"/peers/").concat(E,"/answer")),he=AM(Me,Qe=>{if(Qe.exists()){const Dr=JSON.parse(Qe.val());console.log("Answer received: ",Dr),X.setRemoteDescription(Dr).catch(Wn=>console.error(Wn));const _i=Cd($t(Mt,"sessions/".concat(_,"/hostCandidates")),Wn=>{const $r=JSON.parse(Wn.val());console.log("New host candidate: ",$r),X.addIceCandidate($r)});S.current.push(_i)}});S.current.push(he)}),w.current=X}else console.log("No session found at sessions/".concat(_,"/host")),P.push("/home")}).catch(U=>console.error("get(ref(db, `sessions/".concat(_,"/host`))"),U))}function B(_){k.current?k.current.send(_):console.log("Data channel not available")}function le(_){var x;console.log("Message received: ",_);const E=JSON.parse(_);I.current===!1&&(i?(B(JSON.stringify({type:"setPlayerName",playerName:i})),I.current=!0):console.error("No player name found.")),E.type==="gameState"?(console.log("Received game state update: ",E.gameState),n(E.gameState)):E.type==="gameOver"?(console.log("Game over, winner: ",E.winnerID),b.current=E.winnerID,E.winnerID===((x=fe.currentUser)==null?void 0:x.uid)?(f("Congratulations, you won!"),v("success")):(f("Game Over, Winner: ".concat(e==null?void 0:e.players[E.winnerID].name)),v("medium")),d(!0)):E.type==="popupMessage"&&(f(E.message.message),v(E.message.type),d(!0))}return F.jsx(DC.Provider,{value:{gameState:e,setGameState:n,setPlayerName:o,playerName:i,returnTileToPlayerTiles:te,isHost:l,handlePopupMessage:se,setToastMessage:f,setToastIsOpen:d,setToastType:v,toastMessage:h,toastIsOpen:u,toastType:m,gameWinnerIDRef:b,expandedBoardPadding:g,setIsHost:c,peel:T,dump:A,givePlayersStartingTiles:V,setupGameState:G,setupSession:ne,sendMessageToPeers:D,sendMessageToPeer:N,connectToHost:W,sendMessageToHost:B},children:t})},Lr=()=>{const t=H.useContext(DC);if(!t)throw new Error("useAppContext must be used within a AppProvider");return t},$C=({interactable:t,tiles:e})=>{const{returnTileToPlayerTiles:n,gameState:r,setGameState:i,isHost:o,sendMessageToHost:s,sendMessageToPeers:a}=Lr(),l=H.useRef(null),[c,u]=H.useState({}),d=60;H.useEffect(()=>(h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)),[e]);function h(){if(!l.current)return;let{clientWidth:m,clientHeight:v}=l.current;m=Math.floor(m),v=Math.floor(v);const b=8,g=2;m-=b*2-g*2,v-=b*2-g*2;const p=m/v,y=e.length,w=Math.ceil(Math.sqrt(y*p)),k=Math.ceil(y/w),S=Math.min(d,Math.floor(Math.min(m/w,v/k))),I=Math.floor(S*.05),P=S-I*2,T={width:"".concat(P,"px"),height:"".concat(P,"px"),fontSize:"".concat(Math.floor(P*.8),"px"),borderRadius:"".concat(Math.ceil(P*.05),"px"),margin:"".concat(I,"px")};u(T)}function f(m){console.log("PlayerTiles handleReturnPlayerTile:",m);const v=JSON.parse(JSON.stringify(r)),b=n(v,m);b&&(i(b),o?a(JSON.stringify({type:"gameState",gameState:b})):s(JSON.stringify({type:"gameState",gameState:b})))}return F.jsx(yu,{_droppableRef:l,className:"flex h-full w-full flex-wrap content-start",style:{padding:"8px",border:"2px solid #404040"},handleDrop:f,children:e.map((m,v)=>t?F.jsx(LC,{className:"flex items-center justify-center rounded bg-slate-300 text-center text-black",style:c,letter:m,x:v},v):F.jsx("div",{className:"flex items-center justify-center rounded bg-slate-300 text-center text-black",style:c,children:m},v))})},MU=({board:t})=>{const e=H.useRef(null),[n,r]=H.useState(50);H.useEffect(()=>{const s=()=>{if(!e.current)return;let{clientWidth:a,clientHeight:l}=e.current;a=Math.floor(a),l=Math.floor(l),console.log("recalculateTileWidthHeight: width=".concat(a,", height=").concat(l));const c=16;a-=c*2,l-=c*2;const u=t[0].length,d=t.length,h=Math.floor(Math.min(a,l)/5),f=Math.floor(Math.min(h,a/u,l/d));console.log("tileSize=".concat(f));const m=Math.floor(f*.05),v=f-m*2;r(v)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[t]);function i(){return{width:n,height:n,fontSize:"".concat(Math.floor(n*.8),"px"),borderRadius:"".concat(Math.ceil(n/15),"px")}}function o(){return{width:"".concat(n,"px"),height:"".concat(n,"px")}}return F.jsx("div",{ref:e,className:"flex h-full w-full flex-col items-center justify-center",children:t.map((s,a)=>F.jsx("div",{className:"flex",children:s.map((l,c)=>l===""?F.jsx("div",{style:o()},"".concat(a,"-").concat(c)):F.jsx("div",{style:o(),className:"flex items-center justify-center",children:F.jsx("div",{style:i(),className:"flex items-center justify-center bg-slate-300 text-center text-black",children:l})},"".concat(a,"-").concat(c)))},a))})},MC=()=>{if(!fe.currentUser)return null;const{gameState:t}=Lr();return t?F.jsx("div",{className:"hidden md:block md:w-1/3 md:h-full border-l p-4",children:Object.keys(t.players).map((e,n)=>{var r;return e!==((r=fe.currentUser)==null?void 0:r.uid)&&F.jsxs("div",{className:"w-full h-2/5 flex flex-col",children:[F.jsx("div",{className:"text-center font-bold text-2xl",children:t.players[e].name}),F.jsx("div",{className:"w-full",style:{height:"clamp(60%, 80%, 80%)"},children:F.jsx(MU,{board:t.players[e].board})}),F.jsx("div",{className:"w-full h-1/5",children:F.jsx($C,{interactable:!1,tiles:t.players[e].tiles},n)})]},n)})}):null},FU=({board:t})=>{console.log("Board render");const{gameState:e,setGameState:n,isHost:r,sendMessageToPeers:i,sendMessageToHost:o,expandedBoardPadding:s}=Lr(),a=H.useMemo(()=>{const _=Array(s).fill(""),E=Array(t[0].length+s*2).fill("");let x=t.map(M=>[..._,...M,..._]);return x=[...Array(s).fill(E),...x,...Array(s).fill(E)],x},[t,s]),l=H.useRef(null),[c,u]=H.useState([]),d=H.useRef(null),[h,f]=H.useState("right"),[m,v]=H.useState({}),b=H.useRef(null),[g,p]=H.useState({}),[y,w]=H.useState({left:0,top:0}),[k,S]=H.useState(!1),[I,P]=H.useState({x:0,y:0}),[T,A]=H.useState(50);H.useEffect(()=>{if(l.current){const _={left:l.current.scrollWidth/2-l.current.clientWidth/2,top:l.current.scrollHeight/2-l.current.clientHeight/2};w(_)}},[]),H.useEffect(()=>{d.current&&c.length>0?(d.current.focus(),p(te())):(p({}),document.activeElement instanceof HTMLElement&&c.length===0&&document.activeElement.blur())},[h,c]),H.useEffect(()=>{const _=l.current;if(_){const E=x=>Le(x);return _.addEventListener("wheel",E,{passive:!1}),_.scrollLeft=y.left,_.scrollTop=y.top,()=>{_.removeEventListener("wheel",E)}}},[T,y]);function G(){return{width:T,height:T,fontSize:"".concat(Math.floor(T*.8),"px"),borderRadius:"".concat(Math.ceil(T/15),"px")}}function V(){return{width:"".concat(T,"px"),height:"".concat(T,"px")}}function te(){if(d.current&&b.current){const _=d.current.getBoundingClientRect(),E=d.current.clientWidth/3,x={position:"absolute",width:"".concat(E,"px"),height:"".concat(E,"px"),backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",top:"0",left:"0",backgroundImage:"none",filter:"invert(1)",zIndex:1e3};return h==="right"?(x.top="".concat(_.height/2-E/2,"px"),x.left="".concat(_.width-E/2,"px"),x.backgroundImage='url("/arrow_right.svg")'):h==="down"&&(x.top="".concat(_.height-E/2,"px"),x.left="".concat(_.width/2-E/2,"px"),x.backgroundImage='url("/arrow_down.svg")'),x}return{}}function se(_,E,x){var Me;console.log("handleTileDrop",_,E,x);const M=JSON.parse(JSON.stringify(e)),U=(Me=fe.currentUser)==null?void 0:Me.uid;if(!U||!l.current||!(e!=null&&e.players[U])){console.error("auth.currentUser or boardContainerRef.current is null - this should never happen");return}let X=M.players[U];X.board=JSON.parse(JSON.stringify(a));let{board:q,tiles:ae}=X;if(!_.y&&_.x&&ae[_.x]!==_.letter){console.error("Player does not have the tile to place ".concat(e.players[U].tiles," - this should never happen"));return}if(q[E][x]!==""){console.error("Tile already exists at this location - this should never happen");return}for(q[E][x]=_.letter,(_==null?void 0:_.x)!==void 0&&(_==null?void 0:_.y)!==void 0?q[_.y][_.x]="":(_==null?void 0:_.x)!==void 0&&ae.splice(_.x,1);q[0].every(he=>he==="");)q.shift();for(;q[q.length-1].every(he=>he==="");)q.pop();for(;q.every(he=>he[0]==="");)q.forEach(he=>he.shift());for(;q.every(he=>he[he.length-1]==="");)q.forEach(he=>he.pop());c.length!==0&&re(q,E,x),n(M);const Te=JSON.stringify({type:"gameState",gameState:M});r?i(Te):o(Te)}function ne(_,E){return c[0]+s===_&&c[1]+s===E}function re(_,E,x){var Te,Me;if(_.length===1&&_[0].length===1){if(console.log("currentDirection: ".concat(h)),h==="down"?(console.log("Setting current selected input to [1, 0]"),u([1,0])):h==="right"&&(console.log("Setting current selected input to [0, 1]"),u([0,1])),!l.current){console.error("boardContainerRef.current is null - this should never happen");return}w({left:l.current.scrollWidth/2-l.current.clientWidth/2,top:l.current.scrollHeight/2-l.current.clientHeight/2});return}let M=E,U=x;const X=he=>{he==="down"?M++:he==="right"&&U++};E<s?M=0:M-=s,U<s?U=0:U-=s,X(h),((Te=_[M])==null?void 0:Te[U])===void 0||_[M][U]===""?u([M,U]):(X(h),((Me=_[M])==null?void 0:Me[U])===void 0||_[M][U]===""?u([M,U]):u([]));const q=Math.max(0,s-x),ae=Math.max(0,s-E);console.log("colDiff: ".concat(q,", rowDiff: ").concat(ae)),!(q===0&&ae===0)&&w(he=>{const Qe={...he};return console.log("prev scroll: ".concat(Qe.left,", ").concat(Qe.top)),Qe.left+=q*T,Qe.top+=ae*T,console.log("new scroll: ".concat(Qe.left,", ").concat(Qe.top)),Qe})}function Le(_){if(_.ctrlKey){_.preventDefault();const E=l.current;if(!E)return;const x=E.getBoundingClientRect(),M=_.clientX-x.left,U=_.clientY-x.top;console.group("handleWheel"),console.log("Mouse X: ".concat(M,", Mouse Y: ").concat(U));const X=T,q=X/10,ae=_.deltaY>0?X-q:X+q;console.log("e.deltaY: ".concat(_.deltaY)),console.log("Previous tile width height: ".concat(X)),console.log("New tile width height: ".concat(ae));const Te=t[0].length*X,Me=t.length*X;console.log("Board width: ".concat(Te,", Board height: ").concat(Me));const he=E.scrollLeft+M,Qe=E.scrollTop+U,Dr=he/Te,_i=Qe/Me;console.log("Mouse X on board: ".concat(he,", Mouse Y on board: ").concat(Qe)),console.log("X percentage: ".concat(Dr,", Y percentage: ").concat(_i));const Wn=t[0].length*ae,$r=t.length*ae;console.log("New board width: ".concat(Wn,", New board height: ").concat($r));const ha=Dr*Wn-M,fa=_i*$r-U;console.log("New scroll left: ".concat(ha,", New scroll top: ").concat(fa)),w({left:ha,top:fa}),A(ae),console.log("set tile width height: ".concat(ae)),console.groupEnd()}}const D=H.useCallback((_,E,x)=>{var X;if(console.log("handleInputKeyDown",_.key,E,x),fe.currentUser===null||!e){console.error("auth.currentUser or gameState is null - this should never happen");return}if(_.ctrlKey||_.metaKey)return;if(_.preventDefault(),_.key==="ArrowRight")return f("right"),!0;if(_.key==="ArrowDown")return f("down"),!0;if(!/^[a-zA-Z]$/.test(_.key)){console.log("Invalid key",_.key);return}const M=e.players[fe.currentUser.uid].tiles.indexOf(_.key.toUpperCase());if(M===-1){const q=JSON.parse(JSON.stringify(m));q[E]=(X=q[E])!=null?X:{},q[E][x]=!0,v(q),setTimeout(()=>{delete q[E][x],v(q)},500);return}const U={letter:_.key.toUpperCase(),x:M};se(U,E,x)},[m,e,se]);function N(_,E){if(_===void 0||E===void 0){u([]);return}u([_-s,E-s])}function O(){console.log("handleInputBlur"),u([])}function W(_){var E,x;_.button===1&&(_.preventDefault(),_.stopPropagation(),S(!0),w({left:((E=l.current)==null?void 0:E.scrollLeft)||0,top:((x=l.current)==null?void 0:x.scrollTop)||0}),P({x:_.clientX,y:_.clientY}))}function B(){S(!1)}function le(_){if(k&&l.current){const E=_.clientX-I.x,x=_.clientY-I.y;l.current.scrollLeft=y.left-E,l.current.scrollTop=y.top-x}}return F.jsx("div",{onMouseDown:W,onMouseUp:B,onMouseMove:le,ref:l,className:"flex h-full w-full flex-col overflow-scroll ".concat(k?"cursor-grabbing":""),children:a.map((_,E)=>F.jsx("div",{className:"flex",children:_.map((x,M)=>{var U;return x===""?F.jsxs(yu,{style:V(),className:"relative flex flex-shrink-0 items-center justify-center border border-gray-800 text-center",handleDrop:X=>{se(X,E,M)},handleDragEnter:X=>{X.classList.add("bg-slate-600")},handleDragLeave:X=>{X.classList.remove("bg-slate-600")},children:[F.jsx("input",{type:"text",className:"h-full w-full text-center transition-colors duration-500",style:{backgroundColor:(U=m[E])!=null&&U[M]?"red":"",outline:"none",fontSize:"".concat(Math.floor(T*.6),"px"),cursor:"inherit"},onFocus:()=>{N(E,M)},onBlur:O,onKeyDown:X=>D(X,E,M),ref:ne(E,M)?d:void 0}),c.length!==0&&ne(E,M)&&F.jsx("div",{ref:b,style:g})]},"".concat(E,"-").concat(M)):F.jsx("div",{style:V(),className:"flex items-center justify-center",children:F.jsx(LC,{style:G(),className:"flex items-center justify-center bg-slate-300 text-center text-black",letter:x,x:M,y:E})},"".concat(E,"-").concat(M))})},E))})},$m=()=>{if(!fe.currentUser)return null;const{gameState:t}=Lr();return t?F.jsxs("div",{className:"w-2/3 h-full p-4",children:[F.jsx("div",{className:"w-full mb-4",style:{height:"80%"},children:F.jsx(FU,{board:t.players[fe.currentUser.uid].board})}),F.jsx("div",{className:"w-full bg-[#212121]",style:{height:"15%"},children:F.jsx($C,{interactable:!0,tiles:t.players[fe.currentUser.uid].tiles})})]}):null},UU=()=>{const{gameState:t,setGameState:e,handlePopupMessage:n,setToastMessage:r,setToastIsOpen:i,setToastType:o,toastMessage:s,toastIsOpen:a,toastType:l,peel:c,dump:u,givePlayersStartingTiles:d,setIsHost:h,setupSession:f,setupGameState:m,sendMessageToPeers:v,sendMessageToPeer:b}=Lr(),[g,p]=H.useState(!1),y=H.useRef(),{sessionID:w}=eb(),k=H.useRef();H.useEffect(()=>{k.current||(k.current=!0,f(w),h(!0))},[]);function S(){let T=m();T&&(T=d(T),T&&(e(T),v(JSON.stringify({type:"gameState",gameState:T}))))}function I(){var G,V;if(!t||!((G=fe.currentUser)!=null&&G.uid)){console.error("No game state or authenticated user found.");return}else if(y.current){console.error("Game is already over.");return}const T=JSON.parse(JSON.stringify(t)),A=c(T,fe.currentUser.uid);typeof A=="string"?(y.current=A,v(JSON.stringify({type:"gameOver",winnerID:A})),A===((V=fe.currentUser)==null?void 0:V.uid)?(r("Congratulations, you won!"),o("success")):(r("Game Over, Winner: ".concat(t.players[A].name)),o("medium")),i(!0)):"message"in A?n(A):(e(A),v(JSON.stringify({type:"gameState",gameState:A})))}function P(T){var V;if(console.log(T),!t||!((V=fe.currentUser)!=null&&V.uid)){console.error("No game state or authenticated user found.");return}const A=JSON.parse(JSON.stringify(t)),G=u(A,fe.currentUser.uid,T.letter);"message"in G?n(G):G&&(e(G),v(JSON.stringify({type:"gameState",gameState:G})))}return F.jsx(Wh,{children:F.jsxs(jh,{fullscreen:!0,children:[F.jsxs("div",{className:"w-full h-full flex flex-col",children:[F.jsx("div",{className:"w-full flex-1 flex flex-col md:flex-row border-b overflow-hidden",children:t&&F.jsxs(F.Fragment,{children:[F.jsx($m,{}),F.jsx(MC,{})]})}),F.jsxs("div",{className:"w-full p-4 flex items-center justify-between",children:[!t&&F.jsx("button",{onClick:S,className:"px-4 py-2 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition-colors duration-200",children:"Start Game"}),t&&F.jsxs(F.Fragment,{children:[F.jsx("div",{className:'className="flex justify-center items-center text-lg font-bold text-gray-200 mb-4"',children:y.current?"Game Over, Winner: ".concat(t.players[y.current].name):"Tiles Remaining ".concat(t.letterPool.length)}),F.jsx("button",{onClick:I,className:"px-4 py-2 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition-colors duration-200",children:"Peel"}),F.jsx(yu,{handleDrop:P,className:"px-4 py-2 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition-colors duration-200",children:"Dump"})]})]})]}),F.jsx(nE,{isOpen:a,message:s,onDidDismiss:()=>i(!1),color:l,position:"top",duration:1500})]})})},BU=()=>{var b,g,p;const{gameState:t,setGameState:e,playerName:n,setToastMessage:r,setToastIsOpen:i,setToastType:o,toastMessage:s,toastIsOpen:a,toastType:l,connectToHost:c,sendMessageToHost:u}=Lr(),d=H.useRef(),{sessionID:h}=eb(),f=H.useRef();H.useEffect(()=>{f.current||(f.current=!0,c(h))},[]);function m(){u(JSON.stringify({type:"peel"}))}function v(y){u(JSON.stringify({type:"dump",tile:y.letter}))}return t&&((b=fe.currentUser)!=null&&b.uid)&&t.players[fe.currentUser.uid]?F.jsx(Wh,{children:F.jsxs(jh,{fullscreen:!0,children:[F.jsxs("div",{className:"w-full h-full flex flex-col",children:[F.jsxs("div",{className:"w-full flex-1 flex flex-col md:flex-row border-b overflow-hidden",children:[F.jsx($m,{}),F.jsx(MC,{})]}),F.jsxs("div",{className:"w-full p-4 flex items-center justify-between",children:[F.jsx("div",{className:"flex justify-center items-center text-lg font-bold text-gray-200 mb-4",children:d.current?"Game Over, Winner: ".concat(t.players[d.current].name):"Tiles Remaining ".concat(t.letterPool.length)}),F.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition-colors duration-200",children:"Peel"}),F.jsx(yu,{handleDrop:v,className:"px-4 py-2 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition-colors duration-200",children:"Dump"})]})]}),F.jsx(nE,{isOpen:a,message:s,onDidDismiss:()=>i(!1),color:l,position:"top",duration:1500})]})}):(t||console.log("No game state found."),(g=fe.currentUser)!=null&&g.uid?t!=null&&t.players[(p=fe.currentUser)==null?void 0:p.uid]||console.log("No player found in game state."):console.log("No authenticated user found."),F.jsx(Wh,{children:F.jsx(jh,{fullscreen:!0,children:F.jsx("div",{children:"Waiting for host to start game..."})})}))},HU=()=>{const t=H.useRef(null),e=H.useRef(null),n=Zw(),{setPlayerName:r}=Lr();function i(){var a,l;if(!((a=t.current)!=null&&a.value.trim())){alert("Please enter a player name!");return}r(t.current.value.trim());const s=Math.floor(1e5+Math.random()*9e5).toString();console.log("host game with room code: ".concat(s," and player name: ").concat((l=t.current)==null?void 0:l.value)),n.push("/host/".concat(s))}function o(){var s,a,l,c;if(!((s=t.current)!=null&&s.value.trim())){alert("Please enter a player name!");return}if(!((a=e.current)!=null&&a.value.trim())){alert("Please enter a room code!");return}r(t.current.value.trim()),console.log("join game with room code: ".concat((l=e.current)==null?void 0:l.value)),n.push("/guest/".concat((c=e.current)==null?void 0:c.value))}return F.jsxs("div",{className:"w-full h-full p-4 flex flex-col items-center",children:[F.jsx("div",{className:"text-4xl font-bold mb-8 text-yellow-400",children:"Bananagrams"}),F.jsx("input",{type:"text",ref:t,placeholder:"Player Name",className:"py-2 px-4 rounded-lg border-2 border-blue-400 focus:outline-none focus:border-blue-500 mb-10 text-center"}),F.jsxs("div",{className:"w-full flex justify-between items-center",children:[F.jsx("div",{className:"flex flex-col items-center",children:F.jsx("button",{onClick:i,className:"bg-yellow-400 font-semibold py-2 px-6 rounded-lg hover:bg-yellow-500 transition-colors text-black duration-200",children:"Host Game"})}),F.jsx("span",{className:"font-bold text-4xl",children:"OR"}),F.jsxs("div",{className:"flex flex-col items-center",children:[F.jsx("input",{type:"text",ref:e,placeholder:"Room Code",className:"py-2 px-4 rounded-lg border-2 border-yellow-400 focus:outline-none focus:border-yellow-500 mb-4 text-center"}),F.jsx("button",{onClick:o,className:"bg-yellow-400 font-semibold py-2 px-6 rounded-lg hover:bg-yellow-500 transition-colors text-black duration-200 mb-4",children:"Join Game"})]})]})]})},jU=()=>{const{setupGameState:t,givePlayersStartingTiles:e,gameState:n,setGameState:r,setPlayerName:i,playerName:o}=Lr();return H.useEffect(()=>{if(!fe.currentUser||(i("TestName"),!o))return;let s=t();s&&(s=e(s),s&&r(s))},[fe.currentUser,o]),F.jsx("div",{className:"flex h-full w-full flex-col",children:fe.currentUser&&n&&F.jsx($m,{})})};WA();const zU=()=>{const[t,e]=H.useState(0);return H.useEffect(()=>{const n=fe.onAuthStateChanged(r=>{r&&e(i=>i+1)});return()=>n()},[fe]),F.jsx(xA,{children:F.jsx(tN,{children:F.jsxs(MA,{children:[F.jsx(Yo,{exact:!0,path:"/home",component:HU}),F.jsx(Yo,{exact:!0,path:"/host/:sessionID",component:UU}),F.jsx(Yo,{exact:!0,path:"/guest/:sessionID",component:BU}),F.jsx(Yo,{exact:!0,path:"/TestBoard",component:jU}),F.jsx(WI,{exact:!0,from:"/",to:"/home"})]})})},t)},WU=document.getElementById("root"),VU=Ow(WU);VU.render(F.jsx($U,{children:F.jsx(zU,{})}));export{nO as K,qU as __vite_legacy_guard,KU as a,Ps as b,zP as c,fn as d,gP as e,vP as f,Bh as g,Ae as h,GR as i,Ap as j,gn as k,QU as l,XU as p,Ih as r,Tp as w};
